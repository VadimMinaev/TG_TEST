# Локальная сборка и деплой

Этот метод позволяет собирать React приложение локально (на вашем компьютере) и деплоить уже собранные файлы на сервер. Это решает проблему перегрузки слабого сервера при сборке.

## Процесс деплоя

### 1. Локально (на вашем компьютере)

```bash
# Собрать React приложение
npm run build

# Или использовать скрипт
npm run deploy:local
```

### 2. Закоммитить и запушить

```bash
# Добавить собранные файлы
git add build/

# Закоммитить
git commit -m "Update build"

# Запушить на сервер
git push
```

### 3. На сервере

```bash
cd ~/apps/TG_TEST
./deploy.sh
```

Скрипт `deploy.sh` автоматически:
- Получит обновления из git (включая `build/`)
- Соберет Docker образ (используя уже собранные файлы из `build/`)
- Запустит контейнеры

## Преимущества

✅ **Быстрый деплой** - серверу не нужно собирать React приложение  
✅ **Нет перегрузки** - сборка происходит на вашем мощном компьютере  
✅ **Надежность** - если сборка локально прошла успешно, на сервере тоже будет работать  

## Важно

- Папка `build/` теперь включена в репозиторий (не игнорируется)
- После каждого изменения в коде нужно:
  1. Собрать локально: `npm run build`
  2. Закоммитить: `git add build/ && git commit -m "Update build"`
  3. Запушить: `git push`
  4. На сервере: `./deploy.sh`

## Альтернатива

Если забыли собрать локально, Dockerfile все равно соберет на сервере (но это будет медленнее и может перегрузить сервер).
