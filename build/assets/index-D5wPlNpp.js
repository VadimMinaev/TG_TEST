function ev(n,l){for(var o=0;o<l.length;o++){const c=l[o];if(typeof c!="string"&&!Array.isArray(c)){for(const i in c)if(i!=="default"&&!(i in n)){const d=Object.getOwnPropertyDescriptor(c,i);d&&Object.defineProperty(n,i,d.get?d:{enumerable:!0,get:()=>c[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(i){if(i.ep)return;i.ep=!0;const d=o(i);fetch(i.href,d)}})();function Mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $c={exports:{}},Hl={},Fc={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function tv(){if(gf)return Ve;gf=1;var n=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function k(D,A,ee){this.props=D,this.context=A,this.refs=C,this.updater=ee||y}k.prototype.isReactComponent={},k.prototype.setState=function(D,A){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,A,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _(){}_.prototype=k.prototype;function I(D,A,ee){this.props=D,this.context=A,this.refs=C,this.updater=ee||y}var O=I.prototype=new _;O.constructor=I,N(O,k.prototype),O.isPureReactComponent=!0;var V=Array.isArray,K=Object.prototype.hasOwnProperty,F={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function B(D,A,ee){var R,Z={},de=null,E=null;if(A!=null)for(R in A.ref!==void 0&&(E=A.ref),A.key!==void 0&&(de=""+A.key),A)K.call(A,R)&&!S.hasOwnProperty(R)&&(Z[R]=A[R]);var te=arguments.length-2;if(te===1)Z.children=ee;else if(1<te){for(var ue=Array(te),De=0;De<te;De++)ue[De]=arguments[De+2];Z.children=ue}if(D&&D.defaultProps)for(R in te=D.defaultProps,te)Z[R]===void 0&&(Z[R]=te[R]);return{$$typeof:n,type:D,key:de,ref:E,props:Z,_owner:F.current}}function Y(D,A){return{$$typeof:n,type:D.type,key:A,ref:D.ref,props:D.props,_owner:D._owner}}function ne(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function oe(D){var A={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ee){return A[ee]})}var ve=/\/+/g;function X(D,A){return typeof D=="object"&&D!==null&&D.key!=null?oe(""+D.key):A.toString(36)}function q(D,A,ee,R,Z){var de=typeof D;(de==="undefined"||de==="boolean")&&(D=null);var E=!1;if(D===null)E=!0;else switch(de){case"string":case"number":E=!0;break;case"object":switch(D.$$typeof){case n:case l:E=!0}}if(E)return E=D,Z=Z(E),D=R===""?"."+X(E,0):R,V(Z)?(ee="",D!=null&&(ee=D.replace(ve,"$&/")+"/"),q(Z,A,ee,"",function(De){return De})):Z!=null&&(ne(Z)&&(Z=Y(Z,ee+(!Z.key||E&&E.key===Z.key?"":(""+Z.key).replace(ve,"$&/")+"/")+D)),A.push(Z)),1;if(E=0,R=R===""?".":R+":",V(D))for(var te=0;te<D.length;te++){de=D[te];var ue=R+X(de,te);E+=q(de,A,ee,ue,Z)}else if(ue=v(D),typeof ue=="function")for(D=ue.call(D),te=0;!(de=D.next()).done;)de=de.value,ue=R+X(de,te++),E+=q(de,A,ee,ue,Z);else if(de==="object")throw A=String(D),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return E}function fe(D,A,ee){if(D==null)return D;var R=[],Z=0;return q(D,R,"","",function(de){return A.call(ee,de,Z++)}),R}function G(D){if(D._status===-1){var A=D._result;A=A(),A.then(function(ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=ee)},function(ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=ee)}),D._status===-1&&(D._status=0,D._result=A)}if(D._status===1)return D._result.default;throw D._result}var xe={current:null},L={transition:null},se={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:L,ReactCurrentOwner:F};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:fe,forEach:function(D,A,ee){fe(D,function(){A.apply(this,arguments)},ee)},count:function(D){var A=0;return fe(D,function(){A++}),A},toArray:function(D){return fe(D,function(A){return A})||[]},only:function(D){if(!ne(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ve.Component=k,Ve.Fragment=o,Ve.Profiler=i,Ve.PureComponent=I,Ve.StrictMode=c,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ve.act=re,Ve.cloneElement=function(D,A,ee){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var R=N({},D.props),Z=D.key,de=D.ref,E=D._owner;if(A!=null){if(A.ref!==void 0&&(de=A.ref,E=F.current),A.key!==void 0&&(Z=""+A.key),D.type&&D.type.defaultProps)var te=D.type.defaultProps;for(ue in A)K.call(A,ue)&&!S.hasOwnProperty(ue)&&(R[ue]=A[ue]===void 0&&te!==void 0?te[ue]:A[ue])}var ue=arguments.length-2;if(ue===1)R.children=ee;else if(1<ue){te=Array(ue);for(var De=0;De<ue;De++)te[De]=arguments[De+2];R.children=te}return{$$typeof:n,type:D.type,key:Z,ref:de,props:R,_owner:E}},Ve.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:d,_context:D},D.Consumer=D},Ve.createElement=B,Ve.createFactory=function(D){var A=B.bind(null,D);return A.type=D,A},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(D){return{$$typeof:x,render:D}},Ve.isValidElement=ne,Ve.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:G}},Ve.memo=function(D,A){return{$$typeof:m,type:D,compare:A===void 0?null:A}},Ve.startTransition=function(D){var A=L.transition;L.transition={};try{D()}finally{L.transition=A}},Ve.unstable_act=re,Ve.useCallback=function(D,A){return xe.current.useCallback(D,A)},Ve.useContext=function(D){return xe.current.useContext(D)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(D){return xe.current.useDeferredValue(D)},Ve.useEffect=function(D,A){return xe.current.useEffect(D,A)},Ve.useId=function(){return xe.current.useId()},Ve.useImperativeHandle=function(D,A,ee){return xe.current.useImperativeHandle(D,A,ee)},Ve.useInsertionEffect=function(D,A){return xe.current.useInsertionEffect(D,A)},Ve.useLayoutEffect=function(D,A){return xe.current.useLayoutEffect(D,A)},Ve.useMemo=function(D,A){return xe.current.useMemo(D,A)},Ve.useReducer=function(D,A,ee){return xe.current.useReducer(D,A,ee)},Ve.useRef=function(D){return xe.current.useRef(D)},Ve.useState=function(D){return xe.current.useState(D)},Ve.useSyncExternalStore=function(D,A,ee){return xe.current.useSyncExternalStore(D,A,ee)},Ve.useTransition=function(){return xe.current.useTransition()},Ve.version="18.3.1",Ve}var vf;function yd(){return vf||(vf=1,Fc.exports=tv()),Fc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf;function rv(){if(yf)return Hl;yf=1;var n=yd(),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(x,f,m){var w,b={},v=null,y=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(y=f.ref);for(w in f)c.call(f,w)&&!d.hasOwnProperty(w)&&(b[w]=f[w]);if(x&&x.defaultProps)for(w in f=x.defaultProps,f)b[w]===void 0&&(b[w]=f[w]);return{$$typeof:l,type:x,key:v,ref:y,props:b,_owner:i.current}}return Hl.Fragment=o,Hl.jsx=h,Hl.jsxs=h,Hl}var bf;function nv(){return bf||(bf=1,$c.exports=rv()),$c.exports}var t=nv(),ba={},Bc={exports:{}},Gt={},Uc={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function sv(){return wf||(wf=1,(function(n){function l(L,se){var re=L.length;L.push(se);e:for(;0<re;){var D=re-1>>>1,A=L[D];if(0<i(A,se))L[D]=se,L[re]=A,re=D;else break e}}function o(L){return L.length===0?null:L[0]}function c(L){if(L.length===0)return null;var se=L[0],re=L.pop();if(re!==se){L[0]=re;e:for(var D=0,A=L.length,ee=A>>>1;D<ee;){var R=2*(D+1)-1,Z=L[R],de=R+1,E=L[de];if(0>i(Z,re))de<A&&0>i(E,Z)?(L[D]=E,L[de]=re,D=de):(L[D]=Z,L[R]=re,D=R);else if(de<A&&0>i(E,re))L[D]=E,L[de]=re,D=de;else break e}}return se}function i(L,se){var re=L.sortIndex-se.sortIndex;return re!==0?re:L.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var h=Date,x=h.now();n.unstable_now=function(){return h.now()-x}}var f=[],m=[],w=1,b=null,v=3,y=!1,N=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(L){for(var se=o(m);se!==null;){if(se.callback===null)c(m);else if(se.startTime<=L)c(m),se.sortIndex=se.expirationTime,l(f,se);else break;se=o(m)}}function V(L){if(C=!1,O(L),!N)if(o(f)!==null)N=!0,G(K);else{var se=o(m);se!==null&&xe(V,se.startTime-L)}}function K(L,se){N=!1,C&&(C=!1,_(B),B=-1),y=!0;var re=v;try{for(O(se),b=o(f);b!==null&&(!(b.expirationTime>se)||L&&!oe());){var D=b.callback;if(typeof D=="function"){b.callback=null,v=b.priorityLevel;var A=D(b.expirationTime<=se);se=n.unstable_now(),typeof A=="function"?b.callback=A:b===o(f)&&c(f),O(se)}else c(f);b=o(f)}if(b!==null)var ee=!0;else{var R=o(m);R!==null&&xe(V,R.startTime-se),ee=!1}return ee}finally{b=null,v=re,y=!1}}var F=!1,S=null,B=-1,Y=5,ne=-1;function oe(){return!(n.unstable_now()-ne<Y)}function ve(){if(S!==null){var L=n.unstable_now();ne=L;var se=!0;try{se=S(!0,L)}finally{se?X():(F=!1,S=null)}}else F=!1}var X;if(typeof I=="function")X=function(){I(ve)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,fe=q.port2;q.port1.onmessage=ve,X=function(){fe.postMessage(null)}}else X=function(){k(ve,0)};function G(L){S=L,F||(F=!0,X())}function xe(L,se){B=k(function(){L(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){N||y||(N=!0,G(K))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return o(f)},n.unstable_next=function(L){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var re=v;v=se;try{return L()}finally{v=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,se){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=v;v=L;try{return se()}finally{v=re}},n.unstable_scheduleCallback=function(L,se,re){var D=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?D+re:D):re=D,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=re+A,L={id:w++,callback:se,priorityLevel:L,startTime:re,expirationTime:A,sortIndex:-1},re>D?(L.sortIndex=re,l(m,L),o(f)===null&&L===o(m)&&(C?(_(B),B=-1):C=!0,xe(V,re-D))):(L.sortIndex=A,l(f,L),N||y||(N=!0,G(K))),L},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function(L){var se=v;return function(){var re=v;v=se;try{return L.apply(this,arguments)}finally{v=re}}}})(Wc)),Wc}var jf;function lv(){return jf||(jf=1,Uc.exports=sv()),Uc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function ov(){if(Nf)return Gt;Nf=1;var n=yd(),l=lv();function o(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,i={};function d(e,r){h(e,r),h(e+"Capture",r)}function h(e,r){for(i[e]=r,e=0;e<r.length;e++)c.add(r[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function v(e){return f.call(b,e)?!0:f.call(w,e)?!1:m.test(e)?b[e]=!0:(w[e]=!0,!1)}function y(e,r,s,a){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,r,s,a){if(r===null||typeof r>"u"||y(e,r,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function C(e,r,s,a,u,p,j){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=p,this.removeEmptyString=j}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];k[r]=new C(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(_,I);k[r]=new C(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(_,I);k[r]=new C(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(_,I);k[r]=new C(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,r,s,a){var u=k.hasOwnProperty(r)?k[r]:null;(u!==null?u.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,s,u,a)&&(s=null),a||u===null?v(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(r=u.attributeName,a=u.attributeNamespace,s===null?e.removeAttribute(r):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,a?e.setAttributeNS(a,r,s):e.setAttribute(r,s))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),F=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),oe=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),L=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,D;function A(e){if(D===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+e}var ee=!1;function R(e,r){if(!e||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Q){var a=Q}Reflect.construct(e,[],r)}else{try{r.call()}catch(Q){a=Q}e.call(r.prototype)}else{try{throw Error()}catch(Q){a=Q}e()}}catch(Q){if(Q&&a&&typeof Q.stack=="string"){for(var u=Q.stack.split(`
`),p=a.stack.split(`
`),j=u.length-1,T=p.length-1;1<=j&&0<=T&&u[j]!==p[T];)T--;for(;1<=j&&0<=T;j--,T--)if(u[j]!==p[T]){if(j!==1||T!==1)do if(j--,T--,0>T||u[j]!==p[T]){var M=`
`+u[j].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=j&&0<=T);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?A(e):""}function Z(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1),e;case 11:return e=R(e.type.render,!1),e;case 1:return e=R(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case F:return"Portal";case Y:return"Profiler";case B:return"StrictMode";case X:return"Suspense";case q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oe:return(e.displayName||"Context")+".Consumer";case ne:return(e._context.displayName||"Context")+".Provider";case ve:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return r=e.displayName||null,r!==null?r:de(e.type)||"Memo";case G:r=e._payload,e=e._init;try{return de(e(r))}catch{}}return null}function E(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(r);case 8:return r===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ue(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function De(e){var r=ue(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,p=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return u.call(this)},set:function(j){a=""+j,p.call(this,j)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(j){a=""+j},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Qe(e){e._valueTracker||(e._valueTracker=De(e))}function U(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),a="";return e&&(a=ue(e)?e.checked?"true":"false":e.value),e=a,e!==s?(r.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fe(e,r){var s=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ke(e,r){var s=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;s=te(r.value!=null?r.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function et(e,r){r=r.checked,r!=null&&O(e,"checked",r,!1)}function Ie(e,r){et(e,r);var s=te(r.value),a=r.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Nt(e,r.type,s):r.hasOwnProperty("defaultValue")&&Nt(e,r.type,te(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function ht(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Nt(e,r,s){(r!=="number"||Ce(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Rt=Array.isArray;function Pt(e,r,s,a){if(e=e.options,r){r={};for(var u=0;u<s.length;u++)r["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=r.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&a&&(e[s].defaultSelected=!0)}else{for(s=""+te(s),r=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}r!==null||e[u].disabled||(r=e[u])}r!==null&&(r.selected=!0)}}function br(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function un(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(o(92));if(Rt(s)){if(1<s.length)throw Error(o(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:te(s)}}function ge(e,r){var s=te(r.value),a=te(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function We(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function yt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wr(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?yt(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ut,ar=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,a,u){MSApp.execUnsafeLocalFunction(function(){return e(r,s,a,u)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function hn(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ol=["Webkit","ms","Moz","O"];Object.keys(Yn).forEach(function(e){ol.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Yn[r]=Yn[e]})});function mo(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Yn.hasOwnProperty(e)&&Yn[e]?(""+r).trim():r+"px"}function ir(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var a=s.indexOf("--")===0,u=mo(s,r[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,u):e[s]=u}}var xo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bs(e,r){if(r){if(xo[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function ws(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fn=null,Jr=null,Lr=null;function go(e){if(e=_l(e)){if(typeof fn!="function")throw Error(o(280));var r=e.stateNode;r&&(r=Do(r),fn(e.stateNode,e.type,r))}}function il(e){Jr?Lr?Lr.push(e):Lr=[e]:Jr=e}function vo(){if(Jr){var e=Jr,r=Lr;if(Lr=Jr=null,go(e),r)for(e=0;e<r.length;e++)go(r[e])}}function cl(e,r){return e(r)}function Gn(){}var pn=!1;function dl(e,r,s){if(pn)return e(r,s);pn=!0;try{return cl(e,r,s)}finally{pn=!1,(Jr!==null||Lr!==null)&&(Gn(),vo())}}function qn(e,r){var s=e.stateNode;if(s===null)return null;var a=Do(s);if(a===null)return null;s=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,r,typeof s));return s}var ul=!1;if(x)try{var P={};Object.defineProperty(P,"passive",{get:function(){ul=!0}}),window.addEventListener("test",P,P),window.removeEventListener("test",P,P)}catch{ul=!1}function $(e,r,s,a,u,p,j,T,M){var Q=Array.prototype.slice.call(arguments,3);try{r.apply(s,Q)}catch(ae){this.onError(ae)}}var J=!1,ie=null,pe=!1,_e=null,be={onError:function(e){J=!0,ie=e}};function Ee(e,r,s,a,u,p,j,T,M){J=!1,ie=null,$.apply(be,arguments)}function Pe(e,r,s,a,u,p,j,T,M){if(Ee.apply(this,arguments),J){if(J){var Q=ie;J=!1,ie=null}else throw Error(o(198));pe||(pe=!0,_e=Q)}}function Te(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function $e(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Le(e){if(Te(e)!==e)throw Error(o(188))}function qe(e){var r=e.alternate;if(!r){if(r=Te(e),r===null)throw Error(o(188));return r!==e?null:e}for(var s=e,a=r;;){var u=s.return;if(u===null)break;var p=u.alternate;if(p===null){if(a=u.return,a!==null){s=a;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===s)return Le(u),e;if(p===a)return Le(u),r;p=p.sibling}throw Error(o(188))}if(s.return!==a.return)s=u,a=p;else{for(var j=!1,T=u.child;T;){if(T===s){j=!0,s=u,a=p;break}if(T===a){j=!0,a=u,s=p;break}T=T.sibling}if(!j){for(T=p.child;T;){if(T===s){j=!0,s=p,a=u;break}if(T===a){j=!0,a=p,s=u;break}T=T.sibling}if(!j)throw Error(o(189))}}if(s.alternate!==a)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:r}function Ye(e){return e=qe(e),e!==null?gt(e):null}function gt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=gt(e);if(r!==null)return r;e=e.sibling}return null}var pt=l.unstable_scheduleCallback,kt=l.unstable_cancelCallback,tt=l.unstable_shouldYield,Wt=l.unstable_requestPaint,rt=l.unstable_now,Kn=l.unstable_getCurrentPriorityLevel,cr=l.unstable_ImmediatePriority,Zt=l.unstable_UserBlockingPriority,mn=l.unstable_NormalPriority,Xn=l.unstable_LowPriority,Ir=l.unstable_IdlePriority,Qr=null,At=null;function Ge(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Qr,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:it,xn=Math.log,Yr=Math.LN2;function it(e){return e>>>=0,e===0?32:31-(xn(e)/Yr|0)|0}var Gr=64,Zn=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yo(e,r){var s=e.pendingLanes;if(s===0)return 0;var a=0,u=e.suspendedLanes,p=e.pingedLanes,j=s&268435455;if(j!==0){var T=j&~u;T!==0?a=es(T):(p&=j,p!==0&&(a=es(p)))}else j=s&~u,j!==0?a=es(j):p!==0&&(a=es(p));if(a===0)return 0;if(r!==0&&r!==a&&(r&u)===0&&(u=a&-a,p=r&-r,u>=p||u===16&&(p&4194240)!==0))return r;if((a&4)!==0&&(a|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)s=31-st(r),u=1<<s,a|=e[s],r&=~u;return a}function yx(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bx(e,r){for(var s=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes;0<p;){var j=31-st(p),T=1<<j,M=u[j];M===-1?((T&s)===0||(T&a)!==0)&&(u[j]=yx(T,r)):M<=r&&(e.expiredLanes|=T),p&=~T}}function oi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qd(){var e=Gr;return Gr<<=1,(Gr&4194240)===0&&(Gr=64),e}function ai(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function hl(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-st(r),e[r]=s}function wx(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-st(s),p=1<<u;r[u]=0,a[u]=-1,e[u]=-1,s&=~p}}function ii(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var a=31-st(s),u=1<<a;u&r|e[a]&r&&(e[a]|=r),s&=~u}}var nt=0;function Yd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Gd,ci,qd,Kd,Xd,di=!1,bo=[],gn=null,vn=null,yn=null,fl=new Map,pl=new Map,bn=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(e,r){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(r.pointerId)}}function ml(e,r,s,a,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:s,eventSystemFlags:a,nativeEvent:p,targetContainers:[u]},r!==null&&(r=_l(r),r!==null&&ci(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),e)}function Nx(e,r,s,a,u){switch(r){case"focusin":return gn=ml(gn,e,r,s,a,u),!0;case"dragenter":return vn=ml(vn,e,r,s,a,u),!0;case"mouseover":return yn=ml(yn,e,r,s,a,u),!0;case"pointerover":var p=u.pointerId;return fl.set(p,ml(fl.get(p)||null,e,r,s,a,u)),!0;case"gotpointercapture":return p=u.pointerId,pl.set(p,ml(pl.get(p)||null,e,r,s,a,u)),!0}return!1}function eu(e){var r=ts(e.target);if(r!==null){var s=Te(r);if(s!==null){if(r=s.tag,r===13){if(r=$e(s),r!==null){e.blockedOn=r,Xd(e.priority,function(){qd(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=hi(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);al=a,s.target.dispatchEvent(a),al=null}else return r=_l(s),r!==null&&ci(r),e.blockedOn=s,!1;r.shift()}return!0}function tu(e,r,s){wo(e)&&s.delete(r)}function kx(){di=!1,gn!==null&&wo(gn)&&(gn=null),vn!==null&&wo(vn)&&(vn=null),yn!==null&&wo(yn)&&(yn=null),fl.forEach(tu),pl.forEach(tu)}function xl(e,r){e.blockedOn===r&&(e.blockedOn=null,di||(di=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,kx)))}function gl(e){function r(u){return xl(u,e)}if(0<bo.length){xl(bo[0],e);for(var s=1;s<bo.length;s++){var a=bo[s];a.blockedOn===e&&(a.blockedOn=null)}}for(gn!==null&&xl(gn,e),vn!==null&&xl(vn,e),yn!==null&&xl(yn,e),fl.forEach(r),pl.forEach(r),s=0;s<bn.length;s++)a=bn[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<bn.length&&(s=bn[0],s.blockedOn===null);)eu(s),s.blockedOn===null&&bn.shift()}var Ns=V.ReactCurrentBatchConfig,jo=!0;function Sx(e,r,s,a){var u=nt,p=Ns.transition;Ns.transition=null;try{nt=1,ui(e,r,s,a)}finally{nt=u,Ns.transition=p}}function Cx(e,r,s,a){var u=nt,p=Ns.transition;Ns.transition=null;try{nt=4,ui(e,r,s,a)}finally{nt=u,Ns.transition=p}}function ui(e,r,s,a){if(jo){var u=hi(e,r,s,a);if(u===null)_i(e,r,a,No,s),Zd(e,a);else if(Nx(u,e,r,s,a))a.stopPropagation();else if(Zd(e,a),r&4&&-1<jx.indexOf(e)){for(;u!==null;){var p=_l(u);if(p!==null&&Gd(p),p=hi(e,r,s,a),p===null&&_i(e,r,a,No,s),p===u)break;u=p}u!==null&&a.stopPropagation()}else _i(e,r,a,null,s)}}var No=null;function hi(e,r,s,a){if(No=null,e=js(a),e=ts(e),e!==null)if(r=Te(e),r===null)e=null;else if(s=r.tag,s===13){if(e=$e(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return No=e,null}function ru(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kn()){case cr:return 1;case Zt:return 4;case mn:case Xn:return 16;case Ir:return 536870912;default:return 16}default:return 16}}var wn=null,fi=null,ko=null;function nu(){if(ko)return ko;var e,r=fi,s=r.length,a,u="value"in wn?wn.value:wn.textContent,p=u.length;for(e=0;e<s&&r[e]===u[e];e++);var j=s-e;for(a=1;a<=j&&r[s-a]===u[p-a];a++);return ko=u.slice(e,1<a?1-a:void 0)}function So(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function su(){return!1}function er(e){function r(s,a,u,p,j){this._reactName=s,this._targetInst=u,this.type=a,this.nativeEvent=p,this.target=j,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Co:su,this.isPropagationStopped=su,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),r}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=er(ks),vl=re({},ks,{view:0,detail:0}),Ex=er(vl),mi,xi,yl,Eo=re({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(mi=e.screenX-yl.screenX,xi=e.screenY-yl.screenY):xi=mi=0,yl=e),mi)},movementY:function(e){return"movementY"in e?e.movementY:xi}}),lu=er(Eo),Tx=re({},Eo,{dataTransfer:0}),_x=er(Tx),Rx=re({},vl,{relatedTarget:0}),gi=er(Rx),Px=re({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Lx=er(Px),Ix=re({},ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mx=er(Ix),Dx=re({},ks,{data:0}),ou=er(Dx),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=zx[e])?!!r[e]:!1}function vi(){return $x}var Fx=re({},vl,{key:function(e){if(e.key){var r=Ox[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ax[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vi,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bx=er(Fx),Ux=re({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=er(Ux),Wx=re({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vi}),Hx=er(Wx),Vx=re({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jx=er(Vx),Qx=re({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=er(Qx),Gx=[9,13,27,32],yi=x&&"CompositionEvent"in window,bl=null;x&&"documentMode"in document&&(bl=document.documentMode);var qx=x&&"TextEvent"in window&&!bl,iu=x&&(!yi||bl&&8<bl&&11>=bl),cu=" ",du=!1;function uu(e,r){switch(e){case"keyup":return Gx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function Kx(e,r){switch(e){case"compositionend":return hu(r);case"keypress":return r.which!==32?null:(du=!0,cu);case"textInput":return e=r.data,e===cu&&du?null:e;default:return null}}function Xx(e,r){if(Ss)return e==="compositionend"||!yi&&uu(e,r)?(e=nu(),ko=fi=wn=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return iu&&r.locale!=="ko"?null:r.data;default:return null}}var Zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Zx[e.type]:r==="textarea"}function pu(e,r,s,a){il(a),r=Lo(r,"onChange"),0<r.length&&(s=new pi("onChange","change",null,s,a),e.push({event:s,listeners:r}))}var wl=null,jl=null;function eg(e){Lu(e,0)}function To(e){var r=Rs(e);if(U(r))return e}function tg(e,r){if(e==="change")return r}var mu=!1;if(x){var bi;if(x){var wi="oninput"in document;if(!wi){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),wi=typeof xu.oninput=="function"}bi=wi}else bi=!1;mu=bi&&(!document.documentMode||9<document.documentMode)}function gu(){wl&&(wl.detachEvent("onpropertychange",vu),jl=wl=null)}function vu(e){if(e.propertyName==="value"&&To(jl)){var r=[];pu(r,jl,e,js(e)),dl(eg,r)}}function rg(e,r,s){e==="focusin"?(gu(),wl=r,jl=s,wl.attachEvent("onpropertychange",vu)):e==="focusout"&&gu()}function ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return To(jl)}function sg(e,r){if(e==="click")return To(r)}function lg(e,r){if(e==="input"||e==="change")return To(r)}function og(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var jr=typeof Object.is=="function"?Object.is:og;function Nl(e,r){if(jr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),a=Object.keys(r);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var u=s[a];if(!f.call(r,u)||!jr(e[u],r[u]))return!1}return!0}function yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,r){var s=yu(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=r&&a>=r)return{node:s,offset:r-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yu(s)}}function wu(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?wu(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function ju(){for(var e=window,r=Ce();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=Ce(e.document)}return r}function ji(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function ag(e){var r=ju(),s=e.focusedElem,a=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&wu(s.ownerDocument.documentElement,s)){if(a!==null&&ji(s)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,p=Math.min(a.start,u);a=a.end===void 0?p:Math.min(a.end,u),!e.extend&&p>a&&(u=a,a=p,p=u),u=bu(s,p);var j=bu(s,a);u&&j&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==j.node||e.focusOffset!==j.offset)&&(r=r.createRange(),r.setStart(u.node,u.offset),e.removeAllRanges(),p>a?(e.addRange(r),e.extend(j.node,j.offset)):(r.setEnd(j.node,j.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ig=x&&"documentMode"in document&&11>=document.documentMode,Cs=null,Ni=null,kl=null,ki=!1;function Nu(e,r,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ki||Cs==null||Cs!==Ce(a)||(a=Cs,"selectionStart"in a&&ji(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),kl&&Nl(kl,a)||(kl=a,a=Lo(Ni,"onSelect"),0<a.length&&(r=new pi("onSelect","select",null,r,s),e.push({event:r,listeners:a}),r.target=Cs)))}function _o(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var Es={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},Si={},ku={};x&&(ku=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Ro(e){if(Si[e])return Si[e];if(!Es[e])return e;var r=Es[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in ku)return Si[e]=r[s];return e}var Su=Ro("animationend"),Cu=Ro("animationiteration"),Eu=Ro("animationstart"),Tu=Ro("transitionend"),_u=new Map,Ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,r){_u.set(e,r),d(r,[e])}for(var Ci=0;Ci<Ru.length;Ci++){var Ei=Ru[Ci],cg=Ei.toLowerCase(),dg=Ei[0].toUpperCase()+Ei.slice(1);jn(cg,"on"+dg)}jn(Su,"onAnimationEnd"),jn(Cu,"onAnimationIteration"),jn(Eu,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Tu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ug=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function Pu(e,r,s){var a=e.type||"unknown-event";e.currentTarget=s,Pe(a,r,void 0,e),e.currentTarget=null}function Lu(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],u=a.event;a=a.listeners;e:{var p=void 0;if(r)for(var j=a.length-1;0<=j;j--){var T=a[j],M=T.instance,Q=T.currentTarget;if(T=T.listener,M!==p&&u.isPropagationStopped())break e;Pu(u,T,Q),p=M}else for(j=0;j<a.length;j++){if(T=a[j],M=T.instance,Q=T.currentTarget,T=T.listener,M!==p&&u.isPropagationStopped())break e;Pu(u,T,Q),p=M}}}if(pe)throw e=_e,pe=!1,_e=null,e}function ot(e,r){var s=r[Di];s===void 0&&(s=r[Di]=new Set);var a=e+"__bubble";s.has(a)||(Iu(r,e,2,!1),s.add(a))}function Ti(e,r,s){var a=0;r&&(a|=4),Iu(s,e,a,r)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Cl(e){if(!e[Po]){e[Po]=!0,c.forEach(function(s){s!=="selectionchange"&&(ug.has(s)||Ti(s,!1,e),Ti(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Po]||(r[Po]=!0,Ti("selectionchange",!1,r))}}function Iu(e,r,s,a){switch(ru(r)){case 1:var u=Sx;break;case 4:u=Cx;break;default:u=ui}s=u.bind(null,r,s,e),u=void 0,!ul||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(r,s,{capture:!0,passive:u}):e.addEventListener(r,s,!0):u!==void 0?e.addEventListener(r,s,{passive:u}):e.addEventListener(r,s,!1)}function _i(e,r,s,a,u){var p=a;if((r&1)===0&&(r&2)===0&&a!==null)e:for(;;){if(a===null)return;var j=a.tag;if(j===3||j===4){var T=a.stateNode.containerInfo;if(T===u||T.nodeType===8&&T.parentNode===u)break;if(j===4)for(j=a.return;j!==null;){var M=j.tag;if((M===3||M===4)&&(M=j.stateNode.containerInfo,M===u||M.nodeType===8&&M.parentNode===u))return;j=j.return}for(;T!==null;){if(j=ts(T),j===null)return;if(M=j.tag,M===5||M===6){a=p=j;continue e}T=T.parentNode}}a=a.return}dl(function(){var Q=p,ae=js(s),ce=[];e:{var le=_u.get(e);if(le!==void 0){var ye=pi,je=e;switch(e){case"keypress":if(So(s)===0)break e;case"keydown":case"keyup":ye=Bx;break;case"focusin":je="focus",ye=gi;break;case"focusout":je="blur",ye=gi;break;case"beforeblur":case"afterblur":ye=gi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Hx;break;case Su:case Cu:case Eu:ye=Lx;break;case Tu:ye=Jx;break;case"scroll":ye=Ex;break;case"wheel":ye=Yx;break;case"copy":case"cut":case"paste":ye=Mx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=au}var Se=(r&4)!==0,mt=!Se&&e==="scroll",W=Se?le!==null?le+"Capture":null:le;Se=[];for(var z=Q,H;z!==null;){H=z;var he=H.stateNode;if(H.tag===5&&he!==null&&(H=he,W!==null&&(he=qn(z,W),he!=null&&Se.push(El(z,he,H)))),mt)break;z=z.return}0<Se.length&&(le=new ye(le,je,null,s,ae),ce.push({event:le,listeners:Se}))}}if((r&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",ye=e==="mouseout"||e==="pointerout",le&&s!==al&&(je=s.relatedTarget||s.fromElement)&&(ts(je)||je[qr]))break e;if((ye||le)&&(le=ae.window===ae?ae:(le=ae.ownerDocument)?le.defaultView||le.parentWindow:window,ye?(je=s.relatedTarget||s.toElement,ye=Q,je=je?ts(je):null,je!==null&&(mt=Te(je),je!==mt||je.tag!==5&&je.tag!==6)&&(je=null)):(ye=null,je=Q),ye!==je)){if(Se=lu,he="onMouseLeave",W="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Se=au,he="onPointerLeave",W="onPointerEnter",z="pointer"),mt=ye==null?le:Rs(ye),H=je==null?le:Rs(je),le=new Se(he,z+"leave",ye,s,ae),le.target=mt,le.relatedTarget=H,he=null,ts(ae)===Q&&(Se=new Se(W,z+"enter",je,s,ae),Se.target=H,Se.relatedTarget=mt,he=Se),mt=he,ye&&je)t:{for(Se=ye,W=je,z=0,H=Se;H;H=Ts(H))z++;for(H=0,he=W;he;he=Ts(he))H++;for(;0<z-H;)Se=Ts(Se),z--;for(;0<H-z;)W=Ts(W),H--;for(;z--;){if(Se===W||W!==null&&Se===W.alternate)break t;Se=Ts(Se),W=Ts(W)}Se=null}else Se=null;ye!==null&&Mu(ce,le,ye,Se,!1),je!==null&&mt!==null&&Mu(ce,mt,je,Se,!0)}}e:{if(le=Q?Rs(Q):window,ye=le.nodeName&&le.nodeName.toLowerCase(),ye==="select"||ye==="input"&&le.type==="file")var Re=tg;else if(fu(le))if(mu)Re=lg;else{Re=ng;var Oe=rg}else(ye=le.nodeName)&&ye.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Re=sg);if(Re&&(Re=Re(e,Q))){pu(ce,Re,s,ae);break e}Oe&&Oe(e,le,Q),e==="focusout"&&(Oe=le._wrapperState)&&Oe.controlled&&le.type==="number"&&Nt(le,"number",le.value)}switch(Oe=Q?Rs(Q):window,e){case"focusin":(fu(Oe)||Oe.contentEditable==="true")&&(Cs=Oe,Ni=Q,kl=null);break;case"focusout":kl=Ni=Cs=null;break;case"mousedown":ki=!0;break;case"contextmenu":case"mouseup":case"dragend":ki=!1,Nu(ce,s,ae);break;case"selectionchange":if(ig)break;case"keydown":case"keyup":Nu(ce,s,ae)}var Ae;if(yi)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ss?uu(e,s)&&(Be="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(iu&&s.locale!=="ko"&&(Ss||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ss&&(Ae=nu()):(wn=ae,fi="value"in wn?wn.value:wn.textContent,Ss=!0)),Oe=Lo(Q,Be),0<Oe.length&&(Be=new ou(Be,e,null,s,ae),ce.push({event:Be,listeners:Oe}),Ae?Be.data=Ae:(Ae=hu(s),Ae!==null&&(Be.data=Ae)))),(Ae=qx?Kx(e,s):Xx(e,s))&&(Q=Lo(Q,"onBeforeInput"),0<Q.length&&(ae=new ou("onBeforeInput","beforeinput",null,s,ae),ce.push({event:ae,listeners:Q}),ae.data=Ae))}Lu(ce,r)})}function El(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Lo(e,r){for(var s=r+"Capture",a=[];e!==null;){var u=e,p=u.stateNode;u.tag===5&&p!==null&&(u=p,p=qn(e,s),p!=null&&a.unshift(El(e,p,u)),p=qn(e,r),p!=null&&a.push(El(e,p,u))),e=e.return}return a}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mu(e,r,s,a,u){for(var p=r._reactName,j=[];s!==null&&s!==a;){var T=s,M=T.alternate,Q=T.stateNode;if(M!==null&&M===a)break;T.tag===5&&Q!==null&&(T=Q,u?(M=qn(s,p),M!=null&&j.unshift(El(s,M,T))):u||(M=qn(s,p),M!=null&&j.push(El(s,M,T)))),s=s.return}j.length!==0&&e.push({event:r,listeners:j})}var hg=/\r\n?/g,fg=/\u0000|\uFFFD/g;function Du(e){return(typeof e=="string"?e:""+e).replace(hg,`
`).replace(fg,"")}function Io(e,r,s){if(r=Du(r),Du(e)!==r&&s)throw Error(o(425))}function Mo(){}var Ri=null,Pi=null;function Li(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ii=typeof setTimeout=="function"?setTimeout:void 0,pg=typeof clearTimeout=="function"?clearTimeout:void 0,Ou=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ou<"u"?function(e){return Ou.resolve(null).then(e).catch(xg)}:Ii;function xg(e){setTimeout(function(){throw e})}function Mi(e,r){var s=r,a=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(a===0){e.removeChild(u),gl(r);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=u}while(s);gl(r)}function Nn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Au(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),Mr="__reactFiber$"+_s,Tl="__reactProps$"+_s,qr="__reactContainer$"+_s,Di="__reactEvents$"+_s,gg="__reactListeners$"+_s,vg="__reactHandles$"+_s;function ts(e){var r=e[Mr];if(r)return r;for(var s=e.parentNode;s;){if(r=s[qr]||s[Mr]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Au(e);e!==null;){if(s=e[Mr])return s;e=Au(e)}return r}e=s,s=e.parentNode}return null}function _l(e){return e=e[Mr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Do(e){return e[Tl]||null}var Oi=[],Ps=-1;function kn(e){return{current:e}}function at(e){0>Ps||(e.current=Oi[Ps],Oi[Ps]=null,Ps--)}function lt(e,r){Ps++,Oi[Ps]=e.current,e.current=r}var Sn={},Lt=kn(Sn),Ht=kn(!1),rs=Sn;function Ls(e,r){var s=e.type.contextTypes;if(!s)return Sn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var u={},p;for(p in s)u[p]=r[p];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=u),u}function Vt(e){return e=e.childContextTypes,e!=null}function Oo(){at(Ht),at(Lt)}function zu(e,r,s){if(Lt.current!==Sn)throw Error(o(168));lt(Lt,r),lt(Ht,s)}function $u(e,r,s){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var u in a)if(!(u in r))throw Error(o(108,E(e)||"Unknown",u));return re({},s,a)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,rs=Lt.current,lt(Lt,e),lt(Ht,Ht.current),!0}function Fu(e,r,s){var a=e.stateNode;if(!a)throw Error(o(169));s?(e=$u(e,r,rs),a.__reactInternalMemoizedMergedChildContext=e,at(Ht),at(Lt),lt(Lt,e)):at(Ht),lt(Ht,s)}var Kr=null,zo=!1,Ai=!1;function Bu(e){Kr===null?Kr=[e]:Kr.push(e)}function yg(e){zo=!0,Bu(e)}function Cn(){if(!Ai&&Kr!==null){Ai=!0;var e=0,r=nt;try{var s=Kr;for(nt=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Kr=null,zo=!1}catch(u){throw Kr!==null&&(Kr=Kr.slice(e+1)),pt(cr,Cn),u}finally{nt=r,Ai=!1}}return null}var Is=[],Ms=0,$o=null,Fo=0,dr=[],ur=0,ns=null,Xr=1,Zr="";function ss(e,r){Is[Ms++]=Fo,Is[Ms++]=$o,$o=e,Fo=r}function Uu(e,r,s){dr[ur++]=Xr,dr[ur++]=Zr,dr[ur++]=ns,ns=e;var a=Xr;e=Zr;var u=32-st(a)-1;a&=~(1<<u),s+=1;var p=32-st(r)+u;if(30<p){var j=u-u%5;p=(a&(1<<j)-1).toString(32),a>>=j,u-=j,Xr=1<<32-st(r)+u|s<<u|a,Zr=p+e}else Xr=1<<p|s<<u|a,Zr=e}function zi(e){e.return!==null&&(ss(e,1),Uu(e,1,0))}function $i(e){for(;e===$o;)$o=Is[--Ms],Is[Ms]=null,Fo=Is[--Ms],Is[Ms]=null;for(;e===ns;)ns=dr[--ur],dr[ur]=null,Zr=dr[--ur],dr[ur]=null,Xr=dr[--ur],dr[ur]=null}var tr=null,rr=null,ct=!1,Nr=null;function Wu(e,r){var s=mr(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function Hu(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,tr=e,rr=Nn(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,tr=e,rr=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=ns!==null?{id:Xr,overflow:Zr}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=mr(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,tr=e,rr=null,!0):!1;default:return!1}}function Fi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bi(e){if(ct){var r=rr;if(r){var s=r;if(!Hu(e,r)){if(Fi(e))throw Error(o(418));r=Nn(s.nextSibling);var a=tr;r&&Hu(e,r)?Wu(a,s):(e.flags=e.flags&-4097|2,ct=!1,tr=e)}}else{if(Fi(e))throw Error(o(418));e.flags=e.flags&-4097|2,ct=!1,tr=e}}}function Vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function Bo(e){if(e!==tr)return!1;if(!ct)return Vu(e),ct=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Li(e.type,e.memoizedProps)),r&&(r=rr)){if(Fi(e))throw Ju(),Error(o(418));for(;r;)Wu(e,r),r=Nn(r.nextSibling)}if(Vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){rr=Nn(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}rr=null}}else rr=tr?Nn(e.stateNode.nextSibling):null;return!0}function Ju(){for(var e=rr;e;)e=Nn(e.nextSibling)}function Ds(){rr=tr=null,ct=!1}function Ui(e){Nr===null?Nr=[e]:Nr.push(e)}var bg=V.ReactCurrentBatchConfig;function Rl(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(o(309));var a=s.stateNode}if(!a)throw Error(o(147,e));var u=a,p=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(j){var T=u.refs;j===null?delete T[p]:T[p]=j},r._stringRef=p,r)}if(typeof e!="string")throw Error(o(284));if(!s._owner)throw Error(o(290,e))}return e}function Uo(e,r){throw e=Object.prototype.toString.call(r),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Qu(e){var r=e._init;return r(e._payload)}function Yu(e){function r(W,z){if(e){var H=W.deletions;H===null?(W.deletions=[z],W.flags|=16):H.push(z)}}function s(W,z){if(!e)return null;for(;z!==null;)r(W,z),z=z.sibling;return null}function a(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function u(W,z){return W=Mn(W,z),W.index=0,W.sibling=null,W}function p(W,z,H){return W.index=H,e?(H=W.alternate,H!==null?(H=H.index,H<z?(W.flags|=2,z):H):(W.flags|=2,z)):(W.flags|=1048576,z)}function j(W){return e&&W.alternate===null&&(W.flags|=2),W}function T(W,z,H,he){return z===null||z.tag!==6?(z=Ic(H,W.mode,he),z.return=W,z):(z=u(z,H),z.return=W,z)}function M(W,z,H,he){var Re=H.type;return Re===S?ae(W,z,H.props.children,he,H.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===G&&Qu(Re)===z.type)?(he=u(z,H.props),he.ref=Rl(W,z,H),he.return=W,he):(he=ha(H.type,H.key,H.props,null,W.mode,he),he.ref=Rl(W,z,H),he.return=W,he)}function Q(W,z,H,he){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Mc(H,W.mode,he),z.return=W,z):(z=u(z,H.children||[]),z.return=W,z)}function ae(W,z,H,he,Re){return z===null||z.tag!==7?(z=hs(H,W.mode,he,Re),z.return=W,z):(z=u(z,H),z.return=W,z)}function ce(W,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Ic(""+z,W.mode,H),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return H=ha(z.type,z.key,z.props,null,W.mode,H),H.ref=Rl(W,null,z),H.return=W,H;case F:return z=Mc(z,W.mode,H),z.return=W,z;case G:var he=z._init;return ce(W,he(z._payload),H)}if(Rt(z)||se(z))return z=hs(z,W.mode,H,null),z.return=W,z;Uo(W,z)}return null}function le(W,z,H,he){var Re=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Re!==null?null:T(W,z,""+H,he);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case K:return H.key===Re?M(W,z,H,he):null;case F:return H.key===Re?Q(W,z,H,he):null;case G:return Re=H._init,le(W,z,Re(H._payload),he)}if(Rt(H)||se(H))return Re!==null?null:ae(W,z,H,he,null);Uo(W,H)}return null}function ye(W,z,H,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number")return W=W.get(H)||null,T(z,W,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case K:return W=W.get(he.key===null?H:he.key)||null,M(z,W,he,Re);case F:return W=W.get(he.key===null?H:he.key)||null,Q(z,W,he,Re);case G:var Oe=he._init;return ye(W,z,H,Oe(he._payload),Re)}if(Rt(he)||se(he))return W=W.get(H)||null,ae(z,W,he,Re,null);Uo(z,he)}return null}function je(W,z,H,he){for(var Re=null,Oe=null,Ae=z,Be=z=0,Et=null;Ae!==null&&Be<H.length;Be++){Ae.index>Be?(Et=Ae,Ae=null):Et=Ae.sibling;var Ze=le(W,Ae,H[Be],he);if(Ze===null){Ae===null&&(Ae=Et);break}e&&Ae&&Ze.alternate===null&&r(W,Ae),z=p(Ze,z,Be),Oe===null?Re=Ze:Oe.sibling=Ze,Oe=Ze,Ae=Et}if(Be===H.length)return s(W,Ae),ct&&ss(W,Be),Re;if(Ae===null){for(;Be<H.length;Be++)Ae=ce(W,H[Be],he),Ae!==null&&(z=p(Ae,z,Be),Oe===null?Re=Ae:Oe.sibling=Ae,Oe=Ae);return ct&&ss(W,Be),Re}for(Ae=a(W,Ae);Be<H.length;Be++)Et=ye(Ae,W,Be,H[Be],he),Et!==null&&(e&&Et.alternate!==null&&Ae.delete(Et.key===null?Be:Et.key),z=p(Et,z,Be),Oe===null?Re=Et:Oe.sibling=Et,Oe=Et);return e&&Ae.forEach(function(Dn){return r(W,Dn)}),ct&&ss(W,Be),Re}function Se(W,z,H,he){var Re=se(H);if(typeof Re!="function")throw Error(o(150));if(H=Re.call(H),H==null)throw Error(o(151));for(var Oe=Re=null,Ae=z,Be=z=0,Et=null,Ze=H.next();Ae!==null&&!Ze.done;Be++,Ze=H.next()){Ae.index>Be?(Et=Ae,Ae=null):Et=Ae.sibling;var Dn=le(W,Ae,Ze.value,he);if(Dn===null){Ae===null&&(Ae=Et);break}e&&Ae&&Dn.alternate===null&&r(W,Ae),z=p(Dn,z,Be),Oe===null?Re=Dn:Oe.sibling=Dn,Oe=Dn,Ae=Et}if(Ze.done)return s(W,Ae),ct&&ss(W,Be),Re;if(Ae===null){for(;!Ze.done;Be++,Ze=H.next())Ze=ce(W,Ze.value,he),Ze!==null&&(z=p(Ze,z,Be),Oe===null?Re=Ze:Oe.sibling=Ze,Oe=Ze);return ct&&ss(W,Be),Re}for(Ae=a(W,Ae);!Ze.done;Be++,Ze=H.next())Ze=ye(Ae,W,Be,Ze.value,he),Ze!==null&&(e&&Ze.alternate!==null&&Ae.delete(Ze.key===null?Be:Ze.key),z=p(Ze,z,Be),Oe===null?Re=Ze:Oe.sibling=Ze,Oe=Ze);return e&&Ae.forEach(function(Zg){return r(W,Zg)}),ct&&ss(W,Be),Re}function mt(W,z,H,he){if(typeof H=="object"&&H!==null&&H.type===S&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case K:e:{for(var Re=H.key,Oe=z;Oe!==null;){if(Oe.key===Re){if(Re=H.type,Re===S){if(Oe.tag===7){s(W,Oe.sibling),z=u(Oe,H.props.children),z.return=W,W=z;break e}}else if(Oe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===G&&Qu(Re)===Oe.type){s(W,Oe.sibling),z=u(Oe,H.props),z.ref=Rl(W,Oe,H),z.return=W,W=z;break e}s(W,Oe);break}else r(W,Oe);Oe=Oe.sibling}H.type===S?(z=hs(H.props.children,W.mode,he,H.key),z.return=W,W=z):(he=ha(H.type,H.key,H.props,null,W.mode,he),he.ref=Rl(W,z,H),he.return=W,W=he)}return j(W);case F:e:{for(Oe=H.key;z!==null;){if(z.key===Oe)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){s(W,z.sibling),z=u(z,H.children||[]),z.return=W,W=z;break e}else{s(W,z);break}else r(W,z);z=z.sibling}z=Mc(H,W.mode,he),z.return=W,W=z}return j(W);case G:return Oe=H._init,mt(W,z,Oe(H._payload),he)}if(Rt(H))return je(W,z,H,he);if(se(H))return Se(W,z,H,he);Uo(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,z!==null&&z.tag===6?(s(W,z.sibling),z=u(z,H),z.return=W,W=z):(s(W,z),z=Ic(H,W.mode,he),z.return=W,W=z),j(W)):s(W,z)}return mt}var Os=Yu(!0),Gu=Yu(!1),Wo=kn(null),Ho=null,As=null,Wi=null;function Hi(){Wi=As=Ho=null}function Vi(e){var r=Wo.current;at(Wo),e._currentValue=r}function Ji(e,r,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===s)break;e=e.return}}function zs(e,r){Ho=e,Wi=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Jt=!0),e.firstContext=null)}function hr(e){var r=e._currentValue;if(Wi!==e)if(e={context:e,memoizedValue:r,next:null},As===null){if(Ho===null)throw Error(o(308));As=e,Ho.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return r}var ls=null;function Qi(e){ls===null?ls=[e]:ls.push(e)}function qu(e,r,s,a){var u=r.interleaved;return u===null?(s.next=s,Qi(r)):(s.next=u.next,u.next=s),r.interleaved=s,en(e,a)}function en(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var En=!1;function Yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Tn(e,r,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Xe&2)!==0){var u=a.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),a.pending=r,en(e,s)}return u=a.interleaved,u===null?(r.next=r,Qi(a)):(r.next=u.next,u.next=r),a.interleaved=r,en(e,s)}function Vo(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,ii(e,s)}}function Xu(e,r){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var u=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var j={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?u=p=j:p=p.next=j,s=s.next}while(s!==null);p===null?u=p=r:p=p.next=r}else u=p=r;s={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function Jo(e,r,s,a){var u=e.updateQueue;En=!1;var p=u.firstBaseUpdate,j=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var M=T,Q=M.next;M.next=null,j===null?p=Q:j.next=Q,j=M;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,T=ae.lastBaseUpdate,T!==j&&(T===null?ae.firstBaseUpdate=Q:T.next=Q,ae.lastBaseUpdate=M))}if(p!==null){var ce=u.baseState;j=0,ae=Q=M=null,T=p;do{var le=T.lane,ye=T.eventTime;if((a&le)===le){ae!==null&&(ae=ae.next={eventTime:ye,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var je=e,Se=T;switch(le=r,ye=s,Se.tag){case 1:if(je=Se.payload,typeof je=="function"){ce=je.call(ye,ce,le);break e}ce=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Se.payload,le=typeof je=="function"?je.call(ye,ce,le):je,le==null)break e;ce=re({},ce,le);break e;case 2:En=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,le=u.effects,le===null?u.effects=[T]:le.push(T))}else ye={eventTime:ye,lane:le,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ae===null?(Q=ae=ye,M=ce):ae=ae.next=ye,j|=le;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;le=T,T=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);if(ae===null&&(M=ce),u.baseState=M,u.firstBaseUpdate=Q,u.lastBaseUpdate=ae,r=u.shared.interleaved,r!==null){u=r;do j|=u.lane,u=u.next;while(u!==r)}else p===null&&(u.shared.lanes=0);is|=j,e.lanes=j,e.memoizedState=ce}}function Zu(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],u=a.callback;if(u!==null){if(a.callback=null,a=s,typeof u!="function")throw Error(o(191,u));u.call(a)}}}var Pl={},Dr=kn(Pl),Ll=kn(Pl),Il=kn(Pl);function os(e){if(e===Pl)throw Error(o(174));return e}function Gi(e,r){switch(lt(Il,r),lt(Ll,e),lt(Dr,Pl),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:wr(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=wr(r,e)}at(Dr),lt(Dr,r)}function $s(){at(Dr),at(Ll),at(Il)}function eh(e){os(Il.current);var r=os(Dr.current),s=wr(r,e.type);r!==s&&(lt(Ll,e),lt(Dr,s))}function qi(e){Ll.current===e&&(at(Dr),at(Ll))}var dt=kn(0);function Qo(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ki=[];function Xi(){for(var e=0;e<Ki.length;e++)Ki[e]._workInProgressVersionPrimary=null;Ki.length=0}var Yo=V.ReactCurrentDispatcher,Zi=V.ReactCurrentBatchConfig,as=0,ut=null,bt=null,St=null,Go=!1,Ml=!1,Dl=0,wg=0;function It(){throw Error(o(321))}function ec(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!jr(e[s],r[s]))return!1;return!0}function tc(e,r,s,a,u,p){if(as=p,ut=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Yo.current=e===null||e.memoizedState===null?Sg:Cg,e=s(a,u),Ml){p=0;do{if(Ml=!1,Dl=0,25<=p)throw Error(o(301));p+=1,St=bt=null,r.updateQueue=null,Yo.current=Eg,e=s(a,u)}while(Ml)}if(Yo.current=Xo,r=bt!==null&&bt.next!==null,as=0,St=bt=ut=null,Go=!1,r)throw Error(o(300));return e}function rc(){var e=Dl!==0;return Dl=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ut.memoizedState=St=e:St=St.next=e,St}function fr(){if(bt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var r=St===null?ut.memoizedState:St.next;if(r!==null)St=r,bt=e;else{if(e===null)throw Error(o(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},St===null?ut.memoizedState=St=e:St=St.next=e}return St}function Ol(e,r){return typeof r=="function"?r(e):r}function nc(e){var r=fr(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var a=bt,u=a.baseQueue,p=s.pending;if(p!==null){if(u!==null){var j=u.next;u.next=p.next,p.next=j}a.baseQueue=u=p,s.pending=null}if(u!==null){p=u.next,a=a.baseState;var T=j=null,M=null,Q=p;do{var ae=Q.lane;if((as&ae)===ae)M!==null&&(M=M.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),a=Q.hasEagerState?Q.eagerState:e(a,Q.action);else{var ce={lane:ae,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};M===null?(T=M=ce,j=a):M=M.next=ce,ut.lanes|=ae,is|=ae}Q=Q.next}while(Q!==null&&Q!==p);M===null?j=a:M.next=T,jr(a,r.memoizedState)||(Jt=!0),r.memoizedState=a,r.baseState=j,r.baseQueue=M,s.lastRenderedState=a}if(e=s.interleaved,e!==null){u=e;do p=u.lane,ut.lanes|=p,is|=p,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function sc(e){var r=fr(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var a=s.dispatch,u=s.pending,p=r.memoizedState;if(u!==null){s.pending=null;var j=u=u.next;do p=e(p,j.action),j=j.next;while(j!==u);jr(p,r.memoizedState)||(Jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,a]}function th(){}function rh(e,r){var s=ut,a=fr(),u=r(),p=!jr(a.memoizedState,u);if(p&&(a.memoizedState=u,Jt=!0),a=a.queue,lc(lh.bind(null,s,a,e),[e]),a.getSnapshot!==r||p||St!==null&&St.memoizedState.tag&1){if(s.flags|=2048,Al(9,sh.bind(null,s,a,u,r),void 0,null),Ct===null)throw Error(o(349));(as&30)!==0||nh(s,r,u)}return u}function nh(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=ut.updateQueue,r===null?(r={lastEffect:null,stores:null},ut.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function sh(e,r,s,a){r.value=s,r.getSnapshot=a,oh(r)&&ah(e)}function lh(e,r,s){return s(function(){oh(r)&&ah(e)})}function oh(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!jr(e,s)}catch{return!0}}function ah(e){var r=en(e,1);r!==null&&Er(r,e,1,-1)}function ih(e){var r=Or();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},r.queue=e,e=e.dispatch=kg.bind(null,ut,e),[r.memoizedState,e]}function Al(e,r,s,a){return e={tag:e,create:r,destroy:s,deps:a,next:null},r=ut.updateQueue,r===null?(r={lastEffect:null,stores:null},ut.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,r.lastEffect=e)),e}function ch(){return fr().memoizedState}function qo(e,r,s,a){var u=Or();ut.flags|=e,u.memoizedState=Al(1|r,s,void 0,a===void 0?null:a)}function Ko(e,r,s,a){var u=fr();a=a===void 0?null:a;var p=void 0;if(bt!==null){var j=bt.memoizedState;if(p=j.destroy,a!==null&&ec(a,j.deps)){u.memoizedState=Al(r,s,p,a);return}}ut.flags|=e,u.memoizedState=Al(1|r,s,p,a)}function dh(e,r){return qo(8390656,8,e,r)}function lc(e,r){return Ko(2048,8,e,r)}function uh(e,r){return Ko(4,2,e,r)}function hh(e,r){return Ko(4,4,e,r)}function fh(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ph(e,r,s){return s=s!=null?s.concat([e]):null,Ko(4,4,fh.bind(null,r,e),s)}function oc(){}function mh(e,r){var s=fr();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&ec(r,a[1])?a[0]:(s.memoizedState=[e,r],e)}function xh(e,r){var s=fr();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&ec(r,a[1])?a[0]:(e=e(),s.memoizedState=[e,r],e)}function gh(e,r,s){return(as&21)===0?(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=s):(jr(s,r)||(s=Qd(),ut.lanes|=s,is|=s,e.baseState=!0),r)}function jg(e,r){var s=nt;nt=s!==0&&4>s?s:4,e(!0);var a=Zi.transition;Zi.transition={};try{e(!1),r()}finally{nt=s,Zi.transition=a}}function vh(){return fr().memoizedState}function Ng(e,r,s){var a=Ln(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},yh(e))bh(r,s);else if(s=qu(e,r,s,a),s!==null){var u=$t();Er(s,e,a,u),wh(s,r,a)}}function kg(e,r,s){var a=Ln(e),u={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(yh(e))bh(r,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var j=r.lastRenderedState,T=p(j,s);if(u.hasEagerState=!0,u.eagerState=T,jr(T,j)){var M=r.interleaved;M===null?(u.next=u,Qi(r)):(u.next=M.next,M.next=u),r.interleaved=u;return}}catch{}finally{}s=qu(e,r,u,a),s!==null&&(u=$t(),Er(s,e,a,u),wh(s,r,a))}}function yh(e){var r=e.alternate;return e===ut||r!==null&&r===ut}function bh(e,r){Ml=Go=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function wh(e,r,s){if((s&4194240)!==0){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,ii(e,s)}}var Xo={readContext:hr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},Sg={readContext:hr,useCallback:function(e,r){return Or().memoizedState=[e,r===void 0?null:r],e},useContext:hr,useEffect:dh,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,qo(4194308,4,fh.bind(null,r,e),s)},useLayoutEffect:function(e,r){return qo(4194308,4,e,r)},useInsertionEffect:function(e,r){return qo(4,2,e,r)},useMemo:function(e,r){var s=Or();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var a=Or();return r=s!==void 0?s(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Ng.bind(null,ut,e),[a.memoizedState,e]},useRef:function(e){var r=Or();return e={current:e},r.memoizedState=e},useState:ih,useDebugValue:oc,useDeferredValue:function(e){return Or().memoizedState=e},useTransition:function(){var e=ih(!1),r=e[0];return e=jg.bind(null,e[1]),Or().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var a=ut,u=Or();if(ct){if(s===void 0)throw Error(o(407));s=s()}else{if(s=r(),Ct===null)throw Error(o(349));(as&30)!==0||nh(a,r,s)}u.memoizedState=s;var p={value:s,getSnapshot:r};return u.queue=p,dh(lh.bind(null,a,p,e),[e]),a.flags|=2048,Al(9,sh.bind(null,a,p,s,r),void 0,null),s},useId:function(){var e=Or(),r=Ct.identifierPrefix;if(ct){var s=Zr,a=Xr;s=(a&~(1<<32-st(a)-1)).toString(32)+s,r=":"+r+"R"+s,s=Dl++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=wg++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Cg={readContext:hr,useCallback:mh,useContext:hr,useEffect:lc,useImperativeHandle:ph,useInsertionEffect:uh,useLayoutEffect:hh,useMemo:xh,useReducer:nc,useRef:ch,useState:function(){return nc(Ol)},useDebugValue:oc,useDeferredValue:function(e){var r=fr();return gh(r,bt.memoizedState,e)},useTransition:function(){var e=nc(Ol)[0],r=fr().memoizedState;return[e,r]},useMutableSource:th,useSyncExternalStore:rh,useId:vh,unstable_isNewReconciler:!1},Eg={readContext:hr,useCallback:mh,useContext:hr,useEffect:lc,useImperativeHandle:ph,useInsertionEffect:uh,useLayoutEffect:hh,useMemo:xh,useReducer:sc,useRef:ch,useState:function(){return sc(Ol)},useDebugValue:oc,useDeferredValue:function(e){var r=fr();return bt===null?r.memoizedState=e:gh(r,bt.memoizedState,e)},useTransition:function(){var e=sc(Ol)[0],r=fr().memoizedState;return[e,r]},useMutableSource:th,useSyncExternalStore:rh,useId:vh,unstable_isNewReconciler:!1};function kr(e,r){if(e&&e.defaultProps){r=re({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function ac(e,r,s,a){r=e.memoizedState,s=s(a,r),s=s==null?r:re({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Zo={isMounted:function(e){return(e=e._reactInternals)?Te(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var a=$t(),u=Ln(e),p=tn(a,u);p.payload=r,s!=null&&(p.callback=s),r=Tn(e,p,u),r!==null&&(Er(r,e,u,a),Vo(r,e,u))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var a=$t(),u=Ln(e),p=tn(a,u);p.tag=1,p.payload=r,s!=null&&(p.callback=s),r=Tn(e,p,u),r!==null&&(Er(r,e,u,a),Vo(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=$t(),a=Ln(e),u=tn(s,a);u.tag=2,r!=null&&(u.callback=r),r=Tn(e,u,a),r!==null&&(Er(r,e,a,s),Vo(r,e,a))}};function jh(e,r,s,a,u,p,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,j):r.prototype&&r.prototype.isPureReactComponent?!Nl(s,a)||!Nl(u,p):!0}function Nh(e,r,s){var a=!1,u=Sn,p=r.contextType;return typeof p=="object"&&p!==null?p=hr(p):(u=Vt(r)?rs:Lt.current,a=r.contextTypes,p=(a=a!=null)?Ls(e,u):Sn),r=new r(s,p),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Zo,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=p),r}function kh(e,r,s,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,a),r.state!==e&&Zo.enqueueReplaceState(r,r.state,null)}function ic(e,r,s,a){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Yi(e);var p=r.contextType;typeof p=="object"&&p!==null?u.context=hr(p):(p=Vt(r)?rs:Lt.current,u.context=Ls(e,p)),u.state=e.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ac(e,r,p,s),u.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(r=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),r!==u.state&&Zo.enqueueReplaceState(u,u.state,null),Jo(e,s,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,r){try{var s="",a=r;do s+=Z(a),a=a.return;while(a);var u=s}catch(p){u=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:r,stack:u,digest:null}}function cc(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function dc(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Tg=typeof WeakMap=="function"?WeakMap:Map;function Sh(e,r,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var a=r.value;return s.callback=function(){oa||(oa=!0,Sc=a),dc(e,r)},s}function Ch(e,r,s){s=tn(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=r.value;s.payload=function(){return a(u)},s.callback=function(){dc(e,r)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){dc(e,r),typeof a!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var j=r.stack;this.componentDidCatch(r.value,{componentStack:j!==null?j:""})}),s}function Eh(e,r,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Tg;var u=new Set;a.set(r,u)}else u=a.get(r),u===void 0&&(u=new Set,a.set(r,u));u.has(s)||(u.add(s),e=Ug.bind(null,e,r,s),r.then(e,e))}function Th(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function _h(e,r,s,a,u){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=tn(-1,1),r.tag=2,Tn(s,r,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var _g=V.ReactCurrentOwner,Jt=!1;function zt(e,r,s,a){r.child=e===null?Gu(r,null,s,a):Os(r,e.child,s,a)}function Rh(e,r,s,a,u){s=s.render;var p=r.ref;return zs(r,u),a=tc(e,r,s,a,p,u),s=rc(),e!==null&&!Jt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,rn(e,r,u)):(ct&&s&&zi(r),r.flags|=1,zt(e,r,a,u),r.child)}function Ph(e,r,s,a,u){if(e===null){var p=s.type;return typeof p=="function"&&!Lc(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=p,Lh(e,r,p,a,u)):(e=ha(s.type,null,a,r,r.mode,u),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,(e.lanes&u)===0){var j=p.memoizedProps;if(s=s.compare,s=s!==null?s:Nl,s(j,a)&&e.ref===r.ref)return rn(e,r,u)}return r.flags|=1,e=Mn(p,a),e.ref=r.ref,e.return=r,r.child=e}function Lh(e,r,s,a,u){if(e!==null){var p=e.memoizedProps;if(Nl(p,a)&&e.ref===r.ref)if(Jt=!1,r.pendingProps=a=p,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Jt=!0);else return r.lanes=e.lanes,rn(e,r,u)}return uc(e,r,s,a,u)}function Ih(e,r,s){var a=r.pendingProps,u=a.children,p=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Us,nr),nr|=s;else{if((s&1073741824)===0)return e=p!==null?p.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,lt(Us,nr),nr|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=p!==null?p.baseLanes:s,lt(Us,nr),nr|=a}else p!==null?(a=p.baseLanes|s,r.memoizedState=null):a=s,lt(Us,nr),nr|=a;return zt(e,r,u,s),r.child}function Mh(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function uc(e,r,s,a,u){var p=Vt(s)?rs:Lt.current;return p=Ls(r,p),zs(r,u),s=tc(e,r,s,a,p,u),a=rc(),e!==null&&!Jt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,rn(e,r,u)):(ct&&a&&zi(r),r.flags|=1,zt(e,r,s,u),r.child)}function Dh(e,r,s,a,u){if(Vt(s)){var p=!0;Ao(r)}else p=!1;if(zs(r,u),r.stateNode===null)ta(e,r),Nh(r,s,a),ic(r,s,a,u),a=!0;else if(e===null){var j=r.stateNode,T=r.memoizedProps;j.props=T;var M=j.context,Q=s.contextType;typeof Q=="object"&&Q!==null?Q=hr(Q):(Q=Vt(s)?rs:Lt.current,Q=Ls(r,Q));var ae=s.getDerivedStateFromProps,ce=typeof ae=="function"||typeof j.getSnapshotBeforeUpdate=="function";ce||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(T!==a||M!==Q)&&kh(r,j,a,Q),En=!1;var le=r.memoizedState;j.state=le,Jo(r,a,j,u),M=r.memoizedState,T!==a||le!==M||Ht.current||En?(typeof ae=="function"&&(ac(r,s,ae,a),M=r.memoizedState),(T=En||jh(r,s,T,a,le,M,Q))?(ce||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(r.flags|=4194308)):(typeof j.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=M),j.props=a,j.state=M,j.context=Q,a=T):(typeof j.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{j=r.stateNode,Ku(e,r),T=r.memoizedProps,Q=r.type===r.elementType?T:kr(r.type,T),j.props=Q,ce=r.pendingProps,le=j.context,M=s.contextType,typeof M=="object"&&M!==null?M=hr(M):(M=Vt(s)?rs:Lt.current,M=Ls(r,M));var ye=s.getDerivedStateFromProps;(ae=typeof ye=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(T!==ce||le!==M)&&kh(r,j,a,M),En=!1,le=r.memoizedState,j.state=le,Jo(r,a,j,u);var je=r.memoizedState;T!==ce||le!==je||Ht.current||En?(typeof ye=="function"&&(ac(r,s,ye,a),je=r.memoizedState),(Q=En||jh(r,s,Q,a,le,je,M)||!1)?(ae||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(a,je,M),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(a,je,M)),typeof j.componentDidUpdate=="function"&&(r.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof j.componentDidUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(r.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=je),j.props=a,j.state=je,j.context=M,a=Q):(typeof j.componentDidUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(r.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(r.flags|=1024),a=!1)}return hc(e,r,s,a,p,u)}function hc(e,r,s,a,u,p){Mh(e,r);var j=(r.flags&128)!==0;if(!a&&!j)return u&&Fu(r,s,!1),rn(e,r,p);a=r.stateNode,_g.current=r;var T=j&&typeof s.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&j?(r.child=Os(r,e.child,null,p),r.child=Os(r,null,T,p)):zt(e,r,T,p),r.memoizedState=a.state,u&&Fu(r,s,!0),r.child}function Oh(e){var r=e.stateNode;r.pendingContext?zu(e,r.pendingContext,r.pendingContext!==r.context):r.context&&zu(e,r.context,!1),Gi(e,r.containerInfo)}function Ah(e,r,s,a,u){return Ds(),Ui(u),r.flags|=256,zt(e,r,s,a),r.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function zh(e,r,s){var a=r.pendingProps,u=dt.current,p=!1,j=(r.flags&128)!==0,T;if((T=j)||(T=e!==null&&e.memoizedState===null?!1:(u&2)!==0),T?(p=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),lt(dt,u&1),e===null)return Bi(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(j=a.children,e=a.fallback,p?(a=r.mode,p=r.child,j={mode:"hidden",children:j},(a&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=j):p=fa(j,a,0,null),e=hs(e,a,s,null),p.return=r,e.return=r,p.sibling=e,r.child=p,r.child.memoizedState=pc(s),r.memoizedState=fc,e):mc(r,j));if(u=e.memoizedState,u!==null&&(T=u.dehydrated,T!==null))return Rg(e,r,j,a,T,u,s);if(p){p=a.fallback,j=r.mode,u=e.child,T=u.sibling;var M={mode:"hidden",children:a.children};return(j&1)===0&&r.child!==u?(a=r.child,a.childLanes=0,a.pendingProps=M,r.deletions=null):(a=Mn(u,M),a.subtreeFlags=u.subtreeFlags&14680064),T!==null?p=Mn(T,p):(p=hs(p,j,s,null),p.flags|=2),p.return=r,a.return=r,a.sibling=p,r.child=a,a=p,p=r.child,j=e.child.memoizedState,j=j===null?pc(s):{baseLanes:j.baseLanes|s,cachePool:null,transitions:j.transitions},p.memoizedState=j,p.childLanes=e.childLanes&~s,r.memoizedState=fc,a}return p=e.child,e=p.sibling,a=Mn(p,{mode:"visible",children:a.children}),(r.mode&1)===0&&(a.lanes=s),a.return=r,a.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=a,r.memoizedState=null,a}function mc(e,r){return r=fa({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ea(e,r,s,a){return a!==null&&Ui(a),Os(r,e.child,null,s),e=mc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Rg(e,r,s,a,u,p,j){if(s)return r.flags&256?(r.flags&=-257,a=cc(Error(o(422))),ea(e,r,j,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(p=a.fallback,u=r.mode,a=fa({mode:"visible",children:a.children},u,0,null),p=hs(p,u,j,null),p.flags|=2,a.return=r,p.return=r,a.sibling=p,r.child=a,(r.mode&1)!==0&&Os(r,e.child,null,j),r.child.memoizedState=pc(j),r.memoizedState=fc,p);if((r.mode&1)===0)return ea(e,r,j,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var T=a.dgst;return a=T,p=Error(o(419)),a=cc(p,a,void 0),ea(e,r,j,a)}if(T=(j&e.childLanes)!==0,Jt||T){if(a=Ct,a!==null){switch(j&-j){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|j))!==0?0:u,u!==0&&u!==p.retryLane&&(p.retryLane=u,en(e,u),Er(a,e,u,-1))}return Pc(),a=cc(Error(o(421))),ea(e,r,j,a)}return u.data==="$?"?(r.flags|=128,r.child=e.child,r=Wg.bind(null,e),u._reactRetry=r,null):(e=p.treeContext,rr=Nn(u.nextSibling),tr=r,ct=!0,Nr=null,e!==null&&(dr[ur++]=Xr,dr[ur++]=Zr,dr[ur++]=ns,Xr=e.id,Zr=e.overflow,ns=r),r=mc(r,a.children),r.flags|=4096,r)}function $h(e,r,s){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),Ji(e.return,r,s)}function xc(e,r,s,a,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:u}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=s,p.tailMode=u)}function Fh(e,r,s){var a=r.pendingProps,u=a.revealOrder,p=a.tail;if(zt(e,r,a.children,s),a=dt.current,(a&2)!==0)a=a&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$h(e,s,r);else if(e.tag===19)$h(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(lt(dt,a),(r.mode&1)===0)r.memoizedState=null;else switch(u){case"forwards":for(s=r.child,u=null;s!==null;)e=s.alternate,e!==null&&Qo(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=r.child,r.child=null):(u=s.sibling,s.sibling=null),xc(r,!1,u,s,p);break;case"backwards":for(s=null,u=r.child,r.child=null;u!==null;){if(e=u.alternate,e!==null&&Qo(e)===null){r.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}xc(r,!0,s,null,p);break;case"together":xc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ta(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function rn(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),is|=r.lanes,(s&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(o(153));if(r.child!==null){for(e=r.child,s=Mn(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Mn(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function Pg(e,r,s){switch(r.tag){case 3:Oh(r),Ds();break;case 5:eh(r);break;case 1:Vt(r.type)&&Ao(r);break;case 4:Gi(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,u=r.memoizedProps.value;lt(Wo,a._currentValue),a._currentValue=u;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(lt(dt,dt.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?zh(e,r,s):(lt(dt,dt.current&1),e=rn(e,r,s),e!==null?e.sibling:null);lt(dt,dt.current&1);break;case 19:if(a=(s&r.childLanes)!==0,(e.flags&128)!==0){if(a)return Fh(e,r,s);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),lt(dt,dt.current),a)break;return null;case 22:case 23:return r.lanes=0,Ih(e,r,s)}return rn(e,r,s)}var Bh,gc,Uh,Wh;Bh=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},gc=function(){},Uh=function(e,r,s,a){var u=e.memoizedProps;if(u!==a){e=r.stateNode,os(Dr.current);var p=null;switch(s){case"input":u=Fe(e,u),a=Fe(e,a),p=[];break;case"select":u=re({},u,{value:void 0}),a=re({},a,{value:void 0}),p=[];break;case"textarea":u=br(e,u),a=br(e,a),p=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Mo)}bs(s,a);var j;s=null;for(Q in u)if(!a.hasOwnProperty(Q)&&u.hasOwnProperty(Q)&&u[Q]!=null)if(Q==="style"){var T=u[Q];for(j in T)T.hasOwnProperty(j)&&(s||(s={}),s[j]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?p||(p=[]):(p=p||[]).push(Q,null));for(Q in a){var M=a[Q];if(T=u?.[Q],a.hasOwnProperty(Q)&&M!==T&&(M!=null||T!=null))if(Q==="style")if(T){for(j in T)!T.hasOwnProperty(j)||M&&M.hasOwnProperty(j)||(s||(s={}),s[j]="");for(j in M)M.hasOwnProperty(j)&&T[j]!==M[j]&&(s||(s={}),s[j]=M[j])}else s||(p||(p=[]),p.push(Q,s)),s=M;else Q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,T=T?T.__html:void 0,M!=null&&T!==M&&(p=p||[]).push(Q,M)):Q==="children"?typeof M!="string"&&typeof M!="number"||(p=p||[]).push(Q,""+M):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(M!=null&&Q==="onScroll"&&ot("scroll",e),p||T===M||(p=[])):(p=p||[]).push(Q,M))}s&&(p=p||[]).push("style",s);var Q=p;(r.updateQueue=Q)&&(r.flags|=4)}},Wh=function(e,r,s,a){s!==a&&(r.flags|=4)};function zl(e,r){if(!ct)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Mt(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(r)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=s,r}function Lg(e,r,s){var a=r.pendingProps;switch($i(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(r),null;case 1:return Vt(r.type)&&Oo(),Mt(r),null;case 3:return a=r.stateNode,$s(),at(Ht),at(Lt),Xi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bo(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nr!==null&&(Tc(Nr),Nr=null))),gc(e,r),Mt(r),null;case 5:qi(r);var u=os(Il.current);if(s=r.type,e!==null&&r.stateNode!=null)Uh(e,r,s,a,u),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(o(166));return Mt(r),null}if(e=os(Dr.current),Bo(r)){a=r.stateNode,s=r.type;var p=r.memoizedProps;switch(a[Mr]=r,a[Tl]=p,e=(r.mode&1)!==0,s){case"dialog":ot("cancel",a),ot("close",a);break;case"iframe":case"object":case"embed":ot("load",a);break;case"video":case"audio":for(u=0;u<Sl.length;u++)ot(Sl[u],a);break;case"source":ot("error",a);break;case"img":case"image":case"link":ot("error",a),ot("load",a);break;case"details":ot("toggle",a);break;case"input":Ke(a,p),ot("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!p.multiple},ot("invalid",a);break;case"textarea":un(a,p),ot("invalid",a)}bs(s,p),u=null;for(var j in p)if(p.hasOwnProperty(j)){var T=p[j];j==="children"?typeof T=="string"?a.textContent!==T&&(p.suppressHydrationWarning!==!0&&Io(a.textContent,T,e),u=["children",T]):typeof T=="number"&&a.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&Io(a.textContent,T,e),u=["children",""+T]):i.hasOwnProperty(j)&&T!=null&&j==="onScroll"&&ot("scroll",a)}switch(s){case"input":Qe(a),ht(a,p,!0);break;case"textarea":Qe(a),We(a);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(a.onclick=Mo)}a=u,r.updateQueue=a,a!==null&&(r.flags|=4)}else{j=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yt(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=j.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=j.createElement(s,{is:a.is}):(e=j.createElement(s),s==="select"&&(j=e,a.multiple?j.multiple=!0:a.size&&(j.size=a.size))):e=j.createElementNS(e,s),e[Mr]=r,e[Tl]=a,Bh(e,r,!1,!1),r.stateNode=e;e:{switch(j=ws(s,a),s){case"dialog":ot("cancel",e),ot("close",e),u=a;break;case"iframe":case"object":case"embed":ot("load",e),u=a;break;case"video":case"audio":for(u=0;u<Sl.length;u++)ot(Sl[u],e);u=a;break;case"source":ot("error",e),u=a;break;case"img":case"image":case"link":ot("error",e),ot("load",e),u=a;break;case"details":ot("toggle",e),u=a;break;case"input":Ke(e,a),u=Fe(e,a),ot("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=re({},a,{value:void 0}),ot("invalid",e);break;case"textarea":un(e,a),u=br(e,a),ot("invalid",e);break;default:u=a}bs(s,u),T=u;for(p in T)if(T.hasOwnProperty(p)){var M=T[p];p==="style"?ir(e,M):p==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ar(e,M)):p==="children"?typeof M=="string"?(s!=="textarea"||M!=="")&&hn(e,M):typeof M=="number"&&hn(e,""+M):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(i.hasOwnProperty(p)?M!=null&&p==="onScroll"&&ot("scroll",e):M!=null&&O(e,p,M,j))}switch(s){case"input":Qe(e),ht(e,a,!1);break;case"textarea":Qe(e),We(e);break;case"option":a.value!=null&&e.setAttribute("value",""+te(a.value));break;case"select":e.multiple=!!a.multiple,p=a.value,p!=null?Pt(e,!!a.multiple,p,!1):a.defaultValue!=null&&Pt(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Mo)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Mt(r),null;case 6:if(e&&r.stateNode!=null)Wh(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(o(166));if(s=os(Il.current),os(Dr.current),Bo(r)){if(a=r.stateNode,s=r.memoizedProps,a[Mr]=r,(p=a.nodeValue!==s)&&(e=tr,e!==null))switch(e.tag){case 3:Io(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Io(a.nodeValue,s,(e.mode&1)!==0)}p&&(r.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Mr]=r,r.stateNode=a}return Mt(r),null;case 13:if(at(dt),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&rr!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Ju(),Ds(),r.flags|=98560,p=!1;else if(p=Bo(r),a!==null&&a.dehydrated!==null){if(e===null){if(!p)throw Error(o(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Mr]=r}else Ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Mt(r),p=!1}else Nr!==null&&(Tc(Nr),Nr=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(dt.current&1)!==0?wt===0&&(wt=3):Pc())),r.updateQueue!==null&&(r.flags|=4),Mt(r),null);case 4:return $s(),gc(e,r),e===null&&Cl(r.stateNode.containerInfo),Mt(r),null;case 10:return Vi(r.type._context),Mt(r),null;case 17:return Vt(r.type)&&Oo(),Mt(r),null;case 19:if(at(dt),p=r.memoizedState,p===null)return Mt(r),null;if(a=(r.flags&128)!==0,j=p.rendering,j===null)if(a)zl(p,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(j=Qo(e),j!==null){for(r.flags|=128,zl(p,!1),a=j.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=s,s=r.child;s!==null;)p=s,e=a,p.flags&=14680066,j=p.alternate,j===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=j.childLanes,p.lanes=j.lanes,p.child=j.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=j.memoizedProps,p.memoizedState=j.memoizedState,p.updateQueue=j.updateQueue,p.type=j.type,e=j.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return lt(dt,dt.current&1|2),r.child}e=e.sibling}p.tail!==null&&rt()>Ws&&(r.flags|=128,a=!0,zl(p,!1),r.lanes=4194304)}else{if(!a)if(e=Qo(j),e!==null){if(r.flags|=128,a=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),zl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!j.alternate&&!ct)return Mt(r),null}else 2*rt()-p.renderingStartTime>Ws&&s!==1073741824&&(r.flags|=128,a=!0,zl(p,!1),r.lanes=4194304);p.isBackwards?(j.sibling=r.child,r.child=j):(s=p.last,s!==null?s.sibling=j:r.child=j,p.last=j)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=rt(),r.sibling=null,s=dt.current,lt(dt,a?s&1|2:s&1),r):(Mt(r),null);case 22:case 23:return Rc(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&(r.mode&1)!==0?(nr&1073741824)!==0&&(Mt(r),r.subtreeFlags&6&&(r.flags|=8192)):Mt(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function Ig(e,r){switch($i(r),r.tag){case 1:return Vt(r.type)&&Oo(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return $s(),at(Ht),at(Lt),Xi(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return qi(r),null;case 13:if(at(dt),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(o(340));Ds()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return at(dt),null;case 4:return $s(),null;case 10:return Vi(r.type._context),null;case 22:case 23:return Rc(),null;case 24:return null;default:return null}}var ra=!1,Dt=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,we=null;function Bs(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){ft(e,r,a)}else s.current=null}function vc(e,r,s){try{s()}catch(a){ft(e,r,a)}}var Hh=!1;function Dg(e,r){if(Ri=jo,e=ju(),ji(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var u=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var j=0,T=-1,M=-1,Q=0,ae=0,ce=e,le=null;t:for(;;){for(var ye;ce!==s||u!==0&&ce.nodeType!==3||(T=j+u),ce!==p||a!==0&&ce.nodeType!==3||(M=j+a),ce.nodeType===3&&(j+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)le=ce,ce=ye;for(;;){if(ce===e)break t;if(le===s&&++Q===u&&(T=j),le===p&&++ae===a&&(M=j),(ye=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=ye}s=T===-1||M===-1?null:{start:T,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pi={focusedElem:e,selectionRange:s},jo=!1,we=r;we!==null;)if(r=we,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,we=e;else for(;we!==null;){r=we;try{var je=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Se=je.memoizedProps,mt=je.memoizedState,W=r.stateNode,z=W.getSnapshotBeforeUpdate(r.elementType===r.type?Se:kr(r.type,Se),mt);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var H=r.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){ft(r,r.return,he)}if(e=r.sibling,e!==null){e.return=r.return,we=e;break}we=r.return}return je=Hh,Hh=!1,je}function $l(e,r,s){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var p=u.destroy;u.destroy=void 0,p!==void 0&&vc(r,s,p)}u=u.next}while(u!==a)}}function na(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==r)}}function yc(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function Vh(e){var r=e.alternate;r!==null&&(e.alternate=null,Vh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Mr],delete r[Tl],delete r[Di],delete r[gg],delete r[vg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jh(e){return e.tag===5||e.tag===3||e.tag===4}function Qh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Mo));else if(a!==4&&(e=e.child,e!==null))for(bc(e,r,s),e=e.sibling;e!==null;)bc(e,r,s),e=e.sibling}function wc(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(wc(e,r,s),e=e.sibling;e!==null;)wc(e,r,s),e=e.sibling}var Tt=null,Sr=!1;function _n(e,r,s){for(s=s.child;s!==null;)Yh(e,r,s),s=s.sibling}function Yh(e,r,s){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Qr,s)}catch{}switch(s.tag){case 5:Dt||Bs(s,r);case 6:var a=Tt,u=Sr;Tt=null,_n(e,r,s),Tt=a,Sr=u,Tt!==null&&(Sr?(e=Tt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Tt.removeChild(s.stateNode));break;case 18:Tt!==null&&(Sr?(e=Tt,s=s.stateNode,e.nodeType===8?Mi(e.parentNode,s):e.nodeType===1&&Mi(e,s),gl(e)):Mi(Tt,s.stateNode));break;case 4:a=Tt,u=Sr,Tt=s.stateNode.containerInfo,Sr=!0,_n(e,r,s),Tt=a,Sr=u;break;case 0:case 11:case 14:case 15:if(!Dt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var p=u,j=p.destroy;p=p.tag,j!==void 0&&((p&2)!==0||(p&4)!==0)&&vc(s,r,j),u=u.next}while(u!==a)}_n(e,r,s);break;case 1:if(!Dt&&(Bs(s,r),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(T){ft(s,r,T)}_n(e,r,s);break;case 21:_n(e,r,s);break;case 22:s.mode&1?(Dt=(a=Dt)||s.memoizedState!==null,_n(e,r,s),Dt=a):_n(e,r,s);break;default:_n(e,r,s)}}function Gh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Mg),r.forEach(function(a){var u=Hg.bind(null,e,a);s.has(a)||(s.add(a),a.then(u,u))})}}function Cr(e,r){var s=r.deletions;if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];try{var p=e,j=r,T=j;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,Sr=!1;break e;case 3:Tt=T.stateNode.containerInfo,Sr=!0;break e;case 4:Tt=T.stateNode.containerInfo,Sr=!0;break e}T=T.return}if(Tt===null)throw Error(o(160));Yh(p,j,u),Tt=null,Sr=!1;var M=u.alternate;M!==null&&(M.return=null),u.return=null}catch(Q){ft(u,r,Q)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)qh(r,e),r=r.sibling}function qh(e,r){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(r,e),Ar(e),a&4){try{$l(3,e,e.return),na(3,e)}catch(Se){ft(e,e.return,Se)}try{$l(5,e,e.return)}catch(Se){ft(e,e.return,Se)}}break;case 1:Cr(r,e),Ar(e),a&512&&s!==null&&Bs(s,s.return);break;case 5:if(Cr(r,e),Ar(e),a&512&&s!==null&&Bs(s,s.return),e.flags&32){var u=e.stateNode;try{hn(u,"")}catch(Se){ft(e,e.return,Se)}}if(a&4&&(u=e.stateNode,u!=null)){var p=e.memoizedProps,j=s!==null?s.memoizedProps:p,T=e.type,M=e.updateQueue;if(e.updateQueue=null,M!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&et(u,p),ws(T,j);var Q=ws(T,p);for(j=0;j<M.length;j+=2){var ae=M[j],ce=M[j+1];ae==="style"?ir(u,ce):ae==="dangerouslySetInnerHTML"?ar(u,ce):ae==="children"?hn(u,ce):O(u,ae,ce,Q)}switch(T){case"input":Ie(u,p);break;case"textarea":ge(u,p);break;case"select":var le=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!p.multiple;var ye=p.value;ye!=null?Pt(u,!!p.multiple,ye,!1):le!==!!p.multiple&&(p.defaultValue!=null?Pt(u,!!p.multiple,p.defaultValue,!0):Pt(u,!!p.multiple,p.multiple?[]:"",!1))}u[Tl]=p}catch(Se){ft(e,e.return,Se)}}break;case 6:if(Cr(r,e),Ar(e),a&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,p=e.memoizedProps;try{u.nodeValue=p}catch(Se){ft(e,e.return,Se)}}break;case 3:if(Cr(r,e),Ar(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{gl(r.containerInfo)}catch(Se){ft(e,e.return,Se)}break;case 4:Cr(r,e),Ar(e);break;case 13:Cr(r,e),Ar(e),u=e.child,u.flags&8192&&(p=u.memoizedState!==null,u.stateNode.isHidden=p,!p||u.alternate!==null&&u.alternate.memoizedState!==null||(kc=rt())),a&4&&Gh(e);break;case 22:if(ae=s!==null&&s.memoizedState!==null,e.mode&1?(Dt=(Q=Dt)||ae,Cr(r,e),Dt=Q):Cr(r,e),Ar(e),a&8192){if(Q=e.memoizedState!==null,(e.stateNode.isHidden=Q)&&!ae&&(e.mode&1)!==0)for(we=e,ae=e.child;ae!==null;){for(ce=we=ae;we!==null;){switch(le=we,ye=le.child,le.tag){case 0:case 11:case 14:case 15:$l(4,le,le.return);break;case 1:Bs(le,le.return);var je=le.stateNode;if(typeof je.componentWillUnmount=="function"){a=le,s=le.return;try{r=a,je.props=r.memoizedProps,je.state=r.memoizedState,je.componentWillUnmount()}catch(Se){ft(a,s,Se)}}break;case 5:Bs(le,le.return);break;case 22:if(le.memoizedState!==null){Zh(ce);continue}}ye!==null?(ye.return=le,we=ye):Zh(ce)}ae=ae.sibling}e:for(ae=null,ce=e;;){if(ce.tag===5){if(ae===null){ae=ce;try{u=ce.stateNode,Q?(p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=ce.stateNode,M=ce.memoizedProps.style,j=M!=null&&M.hasOwnProperty("display")?M.display:null,T.style.display=mo("display",j))}catch(Se){ft(e,e.return,Se)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=Q?"":ce.memoizedProps}catch(Se){ft(e,e.return,Se)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===e)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===e)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===e)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Cr(r,e),Ar(e),a&4&&Gh(e);break;case 21:break;default:Cr(r,e),Ar(e)}}function Ar(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(Jh(s)){var a=s;break e}s=s.return}throw Error(o(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(hn(u,""),a.flags&=-33);var p=Qh(e);wc(e,p,u);break;case 3:case 4:var j=a.stateNode.containerInfo,T=Qh(e);bc(e,T,j);break;default:throw Error(o(161))}}catch(M){ft(e,e.return,M)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Og(e,r,s){we=e,Kh(e)}function Kh(e,r,s){for(var a=(e.mode&1)!==0;we!==null;){var u=we,p=u.child;if(u.tag===22&&a){var j=u.memoizedState!==null||ra;if(!j){var T=u.alternate,M=T!==null&&T.memoizedState!==null||Dt;T=ra;var Q=Dt;if(ra=j,(Dt=M)&&!Q)for(we=u;we!==null;)j=we,M=j.child,j.tag===22&&j.memoizedState!==null?ef(u):M!==null?(M.return=j,we=M):ef(u);for(;p!==null;)we=p,Kh(p),p=p.sibling;we=u,ra=T,Dt=Q}Xh(e)}else(u.subtreeFlags&8772)!==0&&p!==null?(p.return=u,we=p):Xh(e)}}function Xh(e){for(;we!==null;){var r=we;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Dt||na(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!Dt)if(s===null)a.componentDidMount();else{var u=r.elementType===r.type?s.memoizedProps:kr(r.type,s.memoizedProps);a.componentDidUpdate(u,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Zu(r,p,a);break;case 3:var j=r.updateQueue;if(j!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}Zu(r,j,s)}break;case 5:var T=r.stateNode;if(s===null&&r.flags&4){s=T;var M=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&s.focus();break;case"img":M.src&&(s.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var Q=r.alternate;if(Q!==null){var ae=Q.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&gl(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Dt||r.flags&512&&yc(r)}catch(le){ft(r,r.return,le)}}if(r===e){we=null;break}if(s=r.sibling,s!==null){s.return=r.return,we=s;break}we=r.return}}function Zh(e){for(;we!==null;){var r=we;if(r===e){we=null;break}var s=r.sibling;if(s!==null){s.return=r.return,we=s;break}we=r.return}}function ef(e){for(;we!==null;){var r=we;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{na(4,r)}catch(M){ft(r,s,M)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var u=r.return;try{a.componentDidMount()}catch(M){ft(r,u,M)}}var p=r.return;try{yc(r)}catch(M){ft(r,p,M)}break;case 5:var j=r.return;try{yc(r)}catch(M){ft(r,j,M)}}}catch(M){ft(r,r.return,M)}if(r===e){we=null;break}var T=r.sibling;if(T!==null){T.return=r.return,we=T;break}we=r.return}}var Ag=Math.ceil,sa=V.ReactCurrentDispatcher,jc=V.ReactCurrentOwner,pr=V.ReactCurrentBatchConfig,Xe=0,Ct=null,vt=null,_t=0,nr=0,Us=kn(0),wt=0,Fl=null,is=0,la=0,Nc=0,Bl=null,Qt=null,kc=0,Ws=1/0,nn=null,oa=!1,Sc=null,Rn=null,aa=!1,Pn=null,ia=0,Ul=0,Cc=null,ca=-1,da=0;function $t(){return(Xe&6)!==0?rt():ca!==-1?ca:ca=rt()}function Ln(e){return(e.mode&1)===0?1:(Xe&2)!==0&&_t!==0?_t&-_t:bg.transition!==null?(da===0&&(da=Qd()),da):(e=nt,e!==0||(e=window.event,e=e===void 0?16:ru(e.type)),e)}function Er(e,r,s,a){if(50<Ul)throw Ul=0,Cc=null,Error(o(185));hl(e,s,a),((Xe&2)===0||e!==Ct)&&(e===Ct&&((Xe&2)===0&&(la|=s),wt===4&&In(e,_t)),Yt(e,a),s===1&&Xe===0&&(r.mode&1)===0&&(Ws=rt()+500,zo&&Cn()))}function Yt(e,r){var s=e.callbackNode;bx(e,r);var a=yo(e,e===Ct?_t:0);if(a===0)s!==null&&kt(s),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(s!=null&&kt(s),r===1)e.tag===0?yg(rf.bind(null,e)):Bu(rf.bind(null,e)),mg(function(){(Xe&6)===0&&Cn()}),s=null;else{switch(Yd(a)){case 1:s=cr;break;case 4:s=Zt;break;case 16:s=mn;break;case 536870912:s=Ir;break;default:s=mn}s=uf(s,tf.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function tf(e,r){if(ca=-1,da=0,(Xe&6)!==0)throw Error(o(327));var s=e.callbackNode;if(Hs()&&e.callbackNode!==s)return null;var a=yo(e,e===Ct?_t:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||r)r=ua(e,a);else{r=a;var u=Xe;Xe|=2;var p=sf();(Ct!==e||_t!==r)&&(nn=null,Ws=rt()+500,ds(e,r));do try{Fg();break}catch(T){nf(e,T)}while(!0);Hi(),sa.current=p,Xe=u,vt!==null?r=0:(Ct=null,_t=0,r=wt)}if(r!==0){if(r===2&&(u=oi(e),u!==0&&(a=u,r=Ec(e,u))),r===1)throw s=Fl,ds(e,0),In(e,a),Yt(e,rt()),s;if(r===6)In(e,a);else{if(u=e.current.alternate,(a&30)===0&&!zg(u)&&(r=ua(e,a),r===2&&(p=oi(e),p!==0&&(a=p,r=Ec(e,p))),r===1))throw s=Fl,ds(e,0),In(e,a),Yt(e,rt()),s;switch(e.finishedWork=u,e.finishedLanes=a,r){case 0:case 1:throw Error(o(345));case 2:us(e,Qt,nn);break;case 3:if(In(e,a),(a&130023424)===a&&(r=kc+500-rt(),10<r)){if(yo(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){$t(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ii(us.bind(null,e,Qt,nn),r);break}us(e,Qt,nn);break;case 4:if(In(e,a),(a&4194240)===a)break;for(r=e.eventTimes,u=-1;0<a;){var j=31-st(a);p=1<<j,j=r[j],j>u&&(u=j),a&=~p}if(a=u,a=rt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ag(a/1960))-a,10<a){e.timeoutHandle=Ii(us.bind(null,e,Qt,nn),a);break}us(e,Qt,nn);break;case 5:us(e,Qt,nn);break;default:throw Error(o(329))}}}return Yt(e,rt()),e.callbackNode===s?tf.bind(null,e):null}function Ec(e,r){var s=Bl;return e.current.memoizedState.isDehydrated&&(ds(e,r).flags|=256),e=ua(e,r),e!==2&&(r=Qt,Qt=s,r!==null&&Tc(r)),e}function Tc(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function zg(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var u=s[a],p=u.getSnapshot;u=u.value;try{if(!jr(p(),u))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function In(e,r){for(r&=~Nc,r&=~la,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-st(r),a=1<<s;e[s]=-1,r&=~a}}function rf(e){if((Xe&6)!==0)throw Error(o(327));Hs();var r=yo(e,0);if((r&1)===0)return Yt(e,rt()),null;var s=ua(e,r);if(e.tag!==0&&s===2){var a=oi(e);a!==0&&(r=a,s=Ec(e,a))}if(s===1)throw s=Fl,ds(e,0),In(e,r),Yt(e,rt()),s;if(s===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,us(e,Qt,nn),Yt(e,rt()),null}function _c(e,r){var s=Xe;Xe|=1;try{return e(r)}finally{Xe=s,Xe===0&&(Ws=rt()+500,zo&&Cn())}}function cs(e){Pn!==null&&Pn.tag===0&&(Xe&6)===0&&Hs();var r=Xe;Xe|=1;var s=pr.transition,a=nt;try{if(pr.transition=null,nt=1,e)return e()}finally{nt=a,pr.transition=s,Xe=r,(Xe&6)===0&&Cn()}}function Rc(){nr=Us.current,at(Us)}function ds(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,pg(s)),vt!==null)for(s=vt.return;s!==null;){var a=s;switch($i(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Oo();break;case 3:$s(),at(Ht),at(Lt),Xi();break;case 5:qi(a);break;case 4:$s();break;case 13:at(dt);break;case 19:at(dt);break;case 10:Vi(a.type._context);break;case 22:case 23:Rc()}s=s.return}if(Ct=e,vt=e=Mn(e.current,null),_t=nr=r,wt=0,Fl=null,Nc=la=is=0,Qt=Bl=null,ls!==null){for(r=0;r<ls.length;r++)if(s=ls[r],a=s.interleaved,a!==null){s.interleaved=null;var u=a.next,p=s.pending;if(p!==null){var j=p.next;p.next=u,a.next=j}s.pending=a}ls=null}return e}function nf(e,r){do{var s=vt;try{if(Hi(),Yo.current=Xo,Go){for(var a=ut.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Go=!1}if(as=0,St=bt=ut=null,Ml=!1,Dl=0,jc.current=null,s===null||s.return===null){wt=1,Fl=r,vt=null;break}e:{var p=e,j=s.return,T=s,M=r;if(r=_t,T.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=M,ae=T,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=ae.alternate;le?(ae.updateQueue=le.updateQueue,ae.memoizedState=le.memoizedState,ae.lanes=le.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ye=Th(j);if(ye!==null){ye.flags&=-257,_h(ye,j,T,p,r),ye.mode&1&&Eh(p,Q,r),r=ye,M=Q;var je=r.updateQueue;if(je===null){var Se=new Set;Se.add(M),r.updateQueue=Se}else je.add(M);break e}else{if((r&1)===0){Eh(p,Q,r),Pc();break e}M=Error(o(426))}}else if(ct&&T.mode&1){var mt=Th(j);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),_h(mt,j,T,p,r),Ui(Fs(M,T));break e}}p=M=Fs(M,T),wt!==4&&(wt=2),Bl===null?Bl=[p]:Bl.push(p),p=j;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var W=Sh(p,M,r);Xu(p,W);break e;case 1:T=M;var z=p.type,H=p.stateNode;if((p.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Rn===null||!Rn.has(H)))){p.flags|=65536,r&=-r,p.lanes|=r;var he=Ch(p,T,r);Xu(p,he);break e}}p=p.return}while(p!==null)}of(s)}catch(Re){r=Re,vt===s&&s!==null&&(vt=s=s.return);continue}break}while(!0)}function sf(){var e=sa.current;return sa.current=Xo,e===null?Xo:e}function Pc(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||(is&268435455)===0&&(la&268435455)===0||In(Ct,_t)}function ua(e,r){var s=Xe;Xe|=2;var a=sf();(Ct!==e||_t!==r)&&(nn=null,ds(e,r));do try{$g();break}catch(u){nf(e,u)}while(!0);if(Hi(),Xe=s,sa.current=a,vt!==null)throw Error(o(261));return Ct=null,_t=0,wt}function $g(){for(;vt!==null;)lf(vt)}function Fg(){for(;vt!==null&&!tt();)lf(vt)}function lf(e){var r=df(e.alternate,e,nr);e.memoizedProps=e.pendingProps,r===null?of(e):vt=r,jc.current=null}function of(e){var r=e;do{var s=r.alternate;if(e=r.return,(r.flags&32768)===0){if(s=Lg(s,r,nr),s!==null){vt=s;return}}else{if(s=Ig(s,r),s!==null){s.flags&=32767,vt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,vt=null;return}}if(r=r.sibling,r!==null){vt=r;return}vt=r=e}while(r!==null);wt===0&&(wt=5)}function us(e,r,s){var a=nt,u=pr.transition;try{pr.transition=null,nt=1,Bg(e,r,s,a)}finally{pr.transition=u,nt=a}return null}function Bg(e,r,s,a){do Hs();while(Pn!==null);if((Xe&6)!==0)throw Error(o(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var p=s.lanes|s.childLanes;if(wx(e,p),e===Ct&&(vt=Ct=null,_t=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||aa||(aa=!0,uf(mn,function(){return Hs(),null})),p=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||p){p=pr.transition,pr.transition=null;var j=nt;nt=1;var T=Xe;Xe|=4,jc.current=null,Dg(e,s),qh(s,e),ag(Pi),jo=!!Ri,Pi=Ri=null,e.current=s,Og(s),Wt(),Xe=T,nt=j,pr.transition=p}else e.current=s;if(aa&&(aa=!1,Pn=e,ia=u),p=e.pendingLanes,p===0&&(Rn=null),Ge(s.stateNode),Yt(e,rt()),r!==null)for(a=e.onRecoverableError,s=0;s<r.length;s++)u=r[s],a(u.value,{componentStack:u.stack,digest:u.digest});if(oa)throw oa=!1,e=Sc,Sc=null,e;return(ia&1)!==0&&e.tag!==0&&Hs(),p=e.pendingLanes,(p&1)!==0?e===Cc?Ul++:(Ul=0,Cc=e):Ul=0,Cn(),null}function Hs(){if(Pn!==null){var e=Yd(ia),r=pr.transition,s=nt;try{if(pr.transition=null,nt=16>e?16:e,Pn===null)var a=!1;else{if(e=Pn,Pn=null,ia=0,(Xe&6)!==0)throw Error(o(331));var u=Xe;for(Xe|=4,we=e.current;we!==null;){var p=we,j=p.child;if((we.flags&16)!==0){var T=p.deletions;if(T!==null){for(var M=0;M<T.length;M++){var Q=T[M];for(we=Q;we!==null;){var ae=we;switch(ae.tag){case 0:case 11:case 15:$l(8,ae,p)}var ce=ae.child;if(ce!==null)ce.return=ae,we=ce;else for(;we!==null;){ae=we;var le=ae.sibling,ye=ae.return;if(Vh(ae),ae===Q){we=null;break}if(le!==null){le.return=ye,we=le;break}we=ye}}}var je=p.alternate;if(je!==null){var Se=je.child;if(Se!==null){je.child=null;do{var mt=Se.sibling;Se.sibling=null,Se=mt}while(Se!==null)}}we=p}}if((p.subtreeFlags&2064)!==0&&j!==null)j.return=p,we=j;else e:for(;we!==null;){if(p=we,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:$l(9,p,p.return)}var W=p.sibling;if(W!==null){W.return=p.return,we=W;break e}we=p.return}}var z=e.current;for(we=z;we!==null;){j=we;var H=j.child;if((j.subtreeFlags&2064)!==0&&H!==null)H.return=j,we=H;else e:for(j=z;we!==null;){if(T=we,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:na(9,T)}}catch(Re){ft(T,T.return,Re)}if(T===j){we=null;break e}var he=T.sibling;if(he!==null){he.return=T.return,we=he;break e}we=T.return}}if(Xe=u,Cn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Qr,e)}catch{}a=!0}return a}finally{nt=s,pr.transition=r}}return!1}function af(e,r,s){r=Fs(s,r),r=Sh(e,r,1),e=Tn(e,r,1),r=$t(),e!==null&&(hl(e,1,r),Yt(e,r))}function ft(e,r,s){if(e.tag===3)af(e,e,s);else for(;r!==null;){if(r.tag===3){af(r,e,s);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rn===null||!Rn.has(a))){e=Fs(s,e),e=Ch(r,e,1),r=Tn(r,e,1),e=$t(),r!==null&&(hl(r,1,e),Yt(r,e));break}}r=r.return}}function Ug(e,r,s){var a=e.pingCache;a!==null&&a.delete(r),r=$t(),e.pingedLanes|=e.suspendedLanes&s,Ct===e&&(_t&s)===s&&(wt===4||wt===3&&(_t&130023424)===_t&&500>rt()-kc?ds(e,0):Nc|=s),Yt(e,r)}function cf(e,r){r===0&&((e.mode&1)===0?r=1:(r=Zn,Zn<<=1,(Zn&130023424)===0&&(Zn=4194304)));var s=$t();e=en(e,r),e!==null&&(hl(e,r,s),Yt(e,s))}function Wg(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),cf(e,s)}function Hg(e,r){var s=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(r),cf(e,s)}var df;df=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ht.current)Jt=!0;else{if((e.lanes&s)===0&&(r.flags&128)===0)return Jt=!1,Pg(e,r,s);Jt=(e.flags&131072)!==0}else Jt=!1,ct&&(r.flags&1048576)!==0&&Uu(r,Fo,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;ta(e,r),e=r.pendingProps;var u=Ls(r,Lt.current);zs(r,s),u=tc(null,r,a,e,u,s);var p=rc();return r.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Vt(a)?(p=!0,Ao(r)):p=!1,r.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Yi(r),u.updater=Zo,r.stateNode=u,u._reactInternals=r,ic(r,a,e,s),r=hc(null,r,a,!0,p,s)):(r.tag=0,ct&&p&&zi(r),zt(null,r,u,s),r=r.child),r;case 16:a=r.elementType;e:{switch(ta(e,r),e=r.pendingProps,u=a._init,a=u(a._payload),r.type=a,u=r.tag=Jg(a),e=kr(a,e),u){case 0:r=uc(null,r,a,e,s);break e;case 1:r=Dh(null,r,a,e,s);break e;case 11:r=Rh(null,r,a,e,s);break e;case 14:r=Ph(null,r,a,kr(a.type,e),s);break e}throw Error(o(306,a,""))}return r;case 0:return a=r.type,u=r.pendingProps,u=r.elementType===a?u:kr(a,u),uc(e,r,a,u,s);case 1:return a=r.type,u=r.pendingProps,u=r.elementType===a?u:kr(a,u),Dh(e,r,a,u,s);case 3:e:{if(Oh(r),e===null)throw Error(o(387));a=r.pendingProps,p=r.memoizedState,u=p.element,Ku(e,r),Jo(r,a,null,s);var j=r.memoizedState;if(a=j.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){u=Fs(Error(o(423)),r),r=Ah(e,r,a,s,u);break e}else if(a!==u){u=Fs(Error(o(424)),r),r=Ah(e,r,a,s,u);break e}else for(rr=Nn(r.stateNode.containerInfo.firstChild),tr=r,ct=!0,Nr=null,s=Gu(r,null,a,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ds(),a===u){r=rn(e,r,s);break e}zt(e,r,a,s)}r=r.child}return r;case 5:return eh(r),e===null&&Bi(r),a=r.type,u=r.pendingProps,p=e!==null?e.memoizedProps:null,j=u.children,Li(a,u)?j=null:p!==null&&Li(a,p)&&(r.flags|=32),Mh(e,r),zt(e,r,j,s),r.child;case 6:return e===null&&Bi(r),null;case 13:return zh(e,r,s);case 4:return Gi(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=Os(r,null,a,s):zt(e,r,a,s),r.child;case 11:return a=r.type,u=r.pendingProps,u=r.elementType===a?u:kr(a,u),Rh(e,r,a,u,s);case 7:return zt(e,r,r.pendingProps,s),r.child;case 8:return zt(e,r,r.pendingProps.children,s),r.child;case 12:return zt(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(a=r.type._context,u=r.pendingProps,p=r.memoizedProps,j=u.value,lt(Wo,a._currentValue),a._currentValue=j,p!==null)if(jr(p.value,j)){if(p.children===u.children&&!Ht.current){r=rn(e,r,s);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){j=p.child;for(var M=T.firstContext;M!==null;){if(M.context===a){if(p.tag===1){M=tn(-1,s&-s),M.tag=2;var Q=p.updateQueue;if(Q!==null){Q=Q.shared;var ae=Q.pending;ae===null?M.next=M:(M.next=ae.next,ae.next=M),Q.pending=M}}p.lanes|=s,M=p.alternate,M!==null&&(M.lanes|=s),Ji(p.return,s,r),T.lanes|=s;break}M=M.next}}else if(p.tag===10)j=p.type===r.type?null:p.child;else if(p.tag===18){if(j=p.return,j===null)throw Error(o(341));j.lanes|=s,T=j.alternate,T!==null&&(T.lanes|=s),Ji(j,s,r),j=p.sibling}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===r){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}zt(e,r,u.children,s),r=r.child}return r;case 9:return u=r.type,a=r.pendingProps.children,zs(r,s),u=hr(u),a=a(u),r.flags|=1,zt(e,r,a,s),r.child;case 14:return a=r.type,u=kr(a,r.pendingProps),u=kr(a.type,u),Ph(e,r,a,u,s);case 15:return Lh(e,r,r.type,r.pendingProps,s);case 17:return a=r.type,u=r.pendingProps,u=r.elementType===a?u:kr(a,u),ta(e,r),r.tag=1,Vt(a)?(e=!0,Ao(r)):e=!1,zs(r,s),Nh(r,a,u),ic(r,a,u,s),hc(null,r,a,!0,e,s);case 19:return Fh(e,r,s);case 22:return Ih(e,r,s)}throw Error(o(156,r.tag))};function uf(e,r){return pt(e,r)}function Vg(e,r,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,r,s,a){return new Vg(e,r,s,a)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jg(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ve)return 11;if(e===fe)return 14}return 2}function Mn(e,r){var s=e.alternate;return s===null?(s=mr(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ha(e,r,s,a,u,p){var j=2;if(a=e,typeof e=="function")Lc(e)&&(j=1);else if(typeof e=="string")j=5;else e:switch(e){case S:return hs(s.children,u,p,r);case B:j=8,u|=8;break;case Y:return e=mr(12,s,r,u|2),e.elementType=Y,e.lanes=p,e;case X:return e=mr(13,s,r,u),e.elementType=X,e.lanes=p,e;case q:return e=mr(19,s,r,u),e.elementType=q,e.lanes=p,e;case xe:return fa(s,u,p,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:j=10;break e;case oe:j=9;break e;case ve:j=11;break e;case fe:j=14;break e;case G:j=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return r=mr(j,s,r,u),r.elementType=e,r.type=a,r.lanes=p,r}function hs(e,r,s,a){return e=mr(7,e,a,r),e.lanes=s,e}function fa(e,r,s,a){return e=mr(22,e,a,r),e.elementType=xe,e.lanes=s,e.stateNode={isHidden:!1},e}function Ic(e,r,s){return e=mr(6,e,null,r),e.lanes=s,e}function Mc(e,r,s){return r=mr(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Qg(e,r,s,a,u){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Dc(e,r,s,a,u,p,j,T,M){return e=new Qg(e,r,s,T,M),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mr(3,null,null,r),e.current=p,p.stateNode=e,p.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yi(p),e}function Yg(e,r,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:a==null?null:""+a,children:e,containerInfo:r,implementation:s}}function hf(e){if(!e)return Sn;e=e._reactInternals;e:{if(Te(e)!==e||e.tag!==1)throw Error(o(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Vt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(e.tag===1){var s=e.type;if(Vt(s))return $u(e,s,r)}return r}function ff(e,r,s,a,u,p,j,T,M){return e=Dc(s,a,!0,e,u,p,j,T,M),e.context=hf(null),s=e.current,a=$t(),u=Ln(s),p=tn(a,u),p.callback=r??null,Tn(s,p,u),e.current.lanes=u,hl(e,u,a),Yt(e,a),e}function pa(e,r,s,a){var u=r.current,p=$t(),j=Ln(u);return s=hf(s),r.context===null?r.context=s:r.pendingContext=s,r=tn(p,j),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=Tn(u,r,j),e!==null&&(Er(e,u,j,p),Vo(e,u,j)),j}function ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pf(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Oc(e,r){pf(e,r),(e=e.alternate)&&pf(e,r)}function Gg(){return null}var mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}xa.prototype.render=Ac.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(o(409));pa(e,r,null,null)},xa.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;cs(function(){pa(null,e,null,null)}),r[qr]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var r=Kd();e={blockedOn:null,target:e,priority:r};for(var s=0;s<bn.length&&r!==0&&r<bn[s].priority;s++);bn.splice(s,0,e),s===0&&eu(e)}};function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xf(){}function qg(e,r,s,a,u){if(u){if(typeof a=="function"){var p=a;a=function(){var Q=ma(j);p.call(Q)}}var j=ff(r,a,e,0,null,!1,!1,"",xf);return e._reactRootContainer=j,e[qr]=j.current,Cl(e.nodeType===8?e.parentNode:e),cs(),j}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var T=a;a=function(){var Q=ma(M);T.call(Q)}}var M=Dc(e,0,!1,null,null,!1,!1,"",xf);return e._reactRootContainer=M,e[qr]=M.current,Cl(e.nodeType===8?e.parentNode:e),cs(function(){pa(r,M,s,a)}),M}function va(e,r,s,a,u){var p=s._reactRootContainer;if(p){var j=p;if(typeof u=="function"){var T=u;u=function(){var M=ma(j);T.call(M)}}pa(r,j,e,u)}else j=qg(s,r,e,u,a);return ma(j)}Gd=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=es(r.pendingLanes);s!==0&&(ii(r,s|1),Yt(r,rt()),(Xe&6)===0&&(Ws=rt()+500,Cn()))}break;case 13:cs(function(){var a=en(e,1);if(a!==null){var u=$t();Er(a,e,1,u)}}),Oc(e,1)}},ci=function(e){if(e.tag===13){var r=en(e,134217728);if(r!==null){var s=$t();Er(r,e,134217728,s)}Oc(e,134217728)}},qd=function(e){if(e.tag===13){var r=Ln(e),s=en(e,r);if(s!==null){var a=$t();Er(s,e,r,a)}Oc(e,r)}},Kd=function(){return nt},Xd=function(e,r){var s=nt;try{return nt=e,r()}finally{nt=s}},fn=function(e,r,s){switch(r){case"input":if(Ie(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var a=s[r];if(a!==e&&a.form===e.form){var u=Do(a);if(!u)throw Error(o(90));U(a),Ie(a,u)}}}break;case"textarea":ge(e,s);break;case"select":r=s.value,r!=null&&Pt(e,!!s.multiple,r,!1)}},cl=_c,Gn=cs;var Kg={usingClientEntryPoint:!1,Events:[_l,Rs,Do,il,vo,_c]},Wl={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xg={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ye(e),e===null?null:e.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||Gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{Qr=ya.inject(Xg),At=ya}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kg,Gt.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(r))throw Error(o(200));return Yg(e,r,null,s)},Gt.createRoot=function(e,r){if(!zc(e))throw Error(o(299));var s=!1,a="",u=mf;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),r=Dc(e,1,!1,null,null,s,!1,a,u),e[qr]=r.current,Cl(e.nodeType===8?e.parentNode:e),new Ac(r)},Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ye(r),e=e===null?null:e.stateNode,e},Gt.flushSync=function(e){return cs(e)},Gt.hydrate=function(e,r,s){if(!ga(r))throw Error(o(200));return va(null,e,r,!0,s)},Gt.hydrateRoot=function(e,r,s){if(!zc(e))throw Error(o(405));var a=s!=null&&s.hydratedSources||null,u=!1,p="",j=mf;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),r=ff(r,null,e,1,s??null,u,!1,p,j),e[qr]=r.current,Cl(e),a)for(e=0;e<a.length;e++)s=a[e],u=s._getVersion,u=u(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,u]:r.mutableSourceEagerHydrationData.push(s,u);return new xa(r)},Gt.render=function(e,r,s){if(!ga(r))throw Error(o(200));return va(null,e,r,!1,s)},Gt.unmountComponentAtNode=function(e){if(!ga(e))throw Error(o(40));return e._reactRootContainer?(cs(function(){va(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1},Gt.unstable_batchedUpdates=_c,Gt.unstable_renderSubtreeIntoContainer=function(e,r,s,a){if(!ga(s))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return va(e,r,s,!1,a)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var kf;function Dp(){if(kf)return Bc.exports;kf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),Bc.exports=ov(),Bc.exports}var Sf;function av(){if(Sf)return ba;Sf=1;var n=Dp();return ba.createRoot=n.createRoot,ba.hydrateRoot=n.hydrateRoot,ba}var iv=av(),g=yd();const cv=Mp(g),Wa=ev({__proto__:null,default:cv},[g]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Op=n=>{throw TypeError(n)},dv=(n,l,o)=>l.has(n)||Op("Cannot "+o),Hc=(n,l,o)=>(dv(n,l,"read from private field"),o?o.call(n):l.get(n)),uv=(n,l,o)=>l.has(n)?Op("Cannot add the same private member more than once"):l instanceof WeakSet?l.add(n):l.set(n,o),Cf="popstate";function hv(n={}){function l(c,i){let{pathname:d,search:h,hash:x}=c.location;return Xl("",{pathname:d,search:h,hash:x},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function o(c,i){return typeof i=="string"?i:Br(i)}return pv(l,o,null,n)}function Je(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function xt(n,l){if(!n){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function fv(){return Math.random().toString(36).substring(2,10)}function Ef(n,l){return{usr:n.state,key:n.key,idx:l}}function Xl(n,l,o=null,c){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof l=="string"?Hn(l):l,state:o,key:l&&l.key||c||fv()}}function Br({pathname:n="/",search:l="",hash:o=""}){return l&&l!=="?"&&(n+=l.charAt(0)==="?"?l:"?"+l),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Hn(n){let l={};if(n){let o=n.indexOf("#");o>=0&&(l.hash=n.substring(o),n=n.substring(0,o));let c=n.indexOf("?");c>=0&&(l.search=n.substring(c),n=n.substring(0,c)),n&&(l.pathname=n)}return l}function pv(n,l,o,c={}){let{window:i=document.defaultView,v5Compat:d=!1}=c,h=i.history,x="POP",f=null,m=w();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function w(){return(h.state||{idx:null}).idx}function b(){x="POP";let k=w(),_=k==null?null:k-m;m=k,f&&f({action:x,location:C.location,delta:_})}function v(k,_){x="PUSH";let I=Xl(C.location,k,_);m=w()+1;let O=Ef(I,m),V=C.createHref(I);try{h.pushState(O,"",V)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(V)}d&&f&&f({action:x,location:C.location,delta:1})}function y(k,_){x="REPLACE";let I=Xl(C.location,k,_);m=w();let O=Ef(I,m),V=C.createHref(I);h.replaceState(O,"",V),d&&f&&f({action:x,location:C.location,delta:0})}function N(k){return Ap(k)}let C={get action(){return x},get location(){return n(i,h)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Cf,b),f=k,()=>{i.removeEventListener(Cf,b),f=null}},createHref(k){return l(i,k)},createURL:N,encodeLocation(k){let _=N(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:y,go(k){return h.go(k)}};return C}function Ap(n,l=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Je(o,"No window.location.(origin|href) available to create URL");let c=typeof n=="string"?n:Br(n);return c=c.replace(/ $/,"%20"),!l&&c.startsWith("//")&&(c=o+c),new URL(c,o)}var Gl,Tf=class{constructor(n){if(uv(this,Gl,new Map),n)for(let[l,o]of n)this.set(l,o)}get(n){if(Hc(this,Gl).has(n))return Hc(this,Gl).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,l){Hc(this,Gl).set(n,l)}};Gl=new WeakMap;var mv=new Set(["lazy","caseSensitive","path","id","index","children"]);function xv(n){return mv.has(n)}var gv=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function vv(n){return gv.has(n)}function yv(n){return n.index===!0}function Zl(n,l,o=[],c={},i=!1){return n.map((d,h)=>{let x=[...o,String(h)],f=typeof d.id=="string"?d.id:x.join("-");if(Je(d.index!==!0||!d.children,"Cannot specify children on an index route"),Je(i||!c[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),yv(d)){let m={...d,id:f};return c[f]=_f(m,l(m)),m}else{let m={...d,id:f,children:void 0};return c[f]=_f(m,l(m)),d.children&&(m.children=Zl(d.children,l,x,c,i)),m}})}function _f(n,l){return Object.assign(n,{...l,...typeof l.lazy=="object"&&l.lazy!=null?{lazy:{...n.lazy,...l.lazy}}:{}})}function zn(n,l,o="/"){return ql(n,l,o,!1)}function ql(n,l,o,c){let i=typeof l=="string"?Hn(l):l,d=gr(i.pathname||"/",o);if(d==null)return null;let h=zp(n);wv(h);let x=null;for(let f=0;x==null&&f<h.length;++f){let m=Lv(d);x=Rv(h[f],m,c)}return x}function bv(n,l){let{route:o,pathname:c,params:i}=n;return{id:o.id,pathname:c,params:i,data:l[o.id],loaderData:l[o.id],handle:o.handle}}function zp(n,l=[],o=[],c="",i=!1){let d=(h,x,f=i,m)=>{let w={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:x,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(c)&&f)return;Je(w.relativePath.startsWith(c),`Absolute route path "${w.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(c.length)}let b=$r([c,w.relativePath]),v=o.concat(w);h.children&&h.children.length>0&&(Je(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),zp(h.children,l,v,b,f)),!(h.path==null&&!h.index)&&l.push({path:b,score:Tv(b,h.index),routesMeta:v})};return n.forEach((h,x)=>{if(h.path===""||!h.path?.includes("?"))d(h,x);else for(let f of $p(h.path))d(h,x,!0,f)}),l}function $p(n){let l=n.split("/");if(l.length===0)return[];let[o,...c]=l,i=o.endsWith("?"),d=o.replace(/\?$/,"");if(c.length===0)return i?[d,""]:[d];let h=$p(c.join("/")),x=[];return x.push(...h.map(f=>f===""?d:[d,f].join("/"))),i&&x.push(...h),x.map(f=>n.startsWith("/")&&f===""?"/":f)}function wv(n){n.sort((l,o)=>l.score!==o.score?o.score-l.score:_v(l.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}var jv=/^:[\w-]+$/,Nv=3,kv=2,Sv=1,Cv=10,Ev=-2,Rf=n=>n==="*";function Tv(n,l){let o=n.split("/"),c=o.length;return o.some(Rf)&&(c+=Ev),l&&(c+=kv),o.filter(i=>!Rf(i)).reduce((i,d)=>i+(jv.test(d)?Nv:d===""?Sv:Cv),c)}function _v(n,l){return n.length===l.length&&n.slice(0,-1).every((c,i)=>c===l[i])?n[n.length-1]-l[l.length-1]:0}function Rv(n,l,o=!1){let{routesMeta:c}=n,i={},d="/",h=[];for(let x=0;x<c.length;++x){let f=c[x],m=x===c.length-1,w=d==="/"?l:l.slice(d.length)||"/",b=Da({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},w),v=f.route;if(!b&&m&&o&&!c[c.length-1].route.index&&(b=Da({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},w)),!b)return null;Object.assign(i,b.params),h.push({params:i,pathname:$r([d,b.pathname]),pathnameBase:Dv($r([d,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(d=$r([d,b.pathnameBase]))}return h}function Da(n,l){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,c]=Pv(n.path,n.caseSensitive,n.end),i=l.match(o);if(!i)return null;let d=i[0],h=d.replace(/(.)\/+$/,"$1"),x=i.slice(1);return{params:c.reduce((m,{paramName:w,isOptional:b},v)=>{if(w==="*"){let N=x[v]||"";h=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const y=x[v];return b&&!y?m[w]=void 0:m[w]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:h,pattern:n}}function Pv(n,l=!1,o=!0){xt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let c=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,f)=>(c.push({paramName:x,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(c.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,l?void 0:"i"),c]}function Lv(n){try{return n.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return xt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),n}}function gr(n,l){if(l==="/")return n;if(!n.toLowerCase().startsWith(l.toLowerCase()))return null;let o=l.endsWith("/")?l.length-1:l.length,c=n.charAt(o);return c&&c!=="/"?null:n.slice(o)||"/"}function Iv({basename:n,pathname:l}){return l==="/"?n:$r([n,l])}var Fp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bd=n=>Fp.test(n);function Mv(n,l="/"){let{pathname:o,search:c="",hash:i=""}=typeof n=="string"?Hn(n):n,d;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?d=Pf(o.substring(1),"/"):d=Pf(o,l)):d=l,{pathname:d,search:Ov(c),hash:Av(i)}}function Pf(n,l){let o=l.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?o.length>1&&o.pop():i!=="."&&o.push(i)}),o.length>1?o.join("/"):"/"}function Vc(n,l,o,c){return`Cannot include a '${n}' character in a manually specified \`to.${l}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bp(n){return n.filter((l,o)=>o===0||l.route.path&&l.route.path.length>0)}function wd(n){let l=Bp(n);return l.map((o,c)=>c===l.length-1?o.pathname:o.pathnameBase)}function jd(n,l,o,c=!1){let i;typeof n=="string"?i=Hn(n):(i={...n},Je(!i.pathname||!i.pathname.includes("?"),Vc("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),Vc("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),Vc("#","search","hash",i)));let d=n===""||i.pathname==="",h=d?"/":i.pathname,x;if(h==null)x=o;else{let b=l.length-1;if(!c&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}x=b>=0?l[b]:"/"}let f=Mv(i,x),m=h&&h!=="/"&&h.endsWith("/"),w=(d||h===".")&&o.endsWith("/");return!f.pathname.endsWith("/")&&(m||w)&&(f.pathname+="/"),f}var $r=n=>n.join("/").replace(/\/\/+/g,"/"),Dv=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ov=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Av=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Vs=(n,l=302)=>{let o=l;typeof o=="number"?o={status:o}:typeof o.status>"u"&&(o.status=302);let c=new Headers(o.headers);return c.set("Location",n),new Response(null,{...o,headers:c})},no=class{constructor(n,l,o,c=!1){this.status=n,this.statusText=l||"",this.internal=c,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function eo(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function so(n){return n.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Up=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wp(n,l){let o=n;if(typeof o!="string"||!Fp.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let c=o,i=!1;if(Up)try{let d=new URL(window.location.href),h=o.startsWith("//")?new URL(d.protocol+o):new URL(o),x=gr(h.pathname,l);h.origin===d.origin&&x!=null?o=x+h.search+h.hash:i=!0}catch{xt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:i,to:o}}var Fn=Symbol("Uninstrumented");function zv(n,l){let o={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(i=>i({id:l.id,index:l.index,path:l.path,instrument(d){let h=Object.keys(o);for(let x of h)d[x]&&o[x].push(d[x])}}));let c={};if(typeof l.lazy=="function"&&o.lazy.length>0){let i=Gs(o.lazy,l.lazy,()=>{});i&&(c.lazy=i)}if(typeof l.lazy=="object"){let i=l.lazy;["middleware","loader","action"].forEach(d=>{let h=i[d],x=o[`lazy.${d}`];if(typeof h=="function"&&x.length>0){let f=Gs(x,h,()=>{});f&&(c.lazy=Object.assign(c.lazy||{},{[d]:f}))}})}return["loader","action"].forEach(i=>{let d=l[i];if(typeof d=="function"&&o[i].length>0){let h=d[Fn]??d,x=Gs(o[i],h,(...f)=>Lf(f[0]));x&&(i==="loader"&&h.hydrate===!0&&(x.hydrate=!0),x[Fn]=h,c[i]=x)}}),l.middleware&&l.middleware.length>0&&o.middleware.length>0&&(c.middleware=l.middleware.map(i=>{let d=i[Fn]??i,h=Gs(o.middleware,d,(...x)=>Lf(x[0]));return h?(h[Fn]=d,h):i})),c}function $v(n,l){let o={navigate:[],fetch:[]};if(l.forEach(c=>c({instrument(i){let d=Object.keys(i);for(let h of d)i[h]&&o[h].push(i[h])}})),o.navigate.length>0){let c=n.navigate[Fn]??n.navigate,i=Gs(o.navigate,c,(...d)=>{let[h,x]=d;return{to:typeof h=="number"||typeof h=="string"?h:h?Br(h):".",...If(n,x??{})}});i&&(i[Fn]=c,n.navigate=i)}if(o.fetch.length>0){let c=n.fetch[Fn]??n.fetch,i=Gs(o.fetch,c,(...d)=>{let[h,,x,f]=d;return{href:x??".",fetcherKey:h,...If(n,f??{})}});i&&(i[Fn]=c,n.fetch=i)}return n}function Gs(n,l,o){return n.length===0?null:async(...c)=>{let i=await Hp(n,o(...c),()=>l(...c),n.length-1);if(i.type==="error")throw i.value;return i.value}}async function Hp(n,l,o,c){let i=n[c],d;if(i){let h,x=async()=>(h?console.error("You cannot call instrumented handlers more than once"):h=Hp(n,l,o,c-1),d=await h,Je(d,"Expected a result"),d.type==="error"&&d.value instanceof Error?{status:"error",error:d.value}:{status:"success",error:void 0});try{await i(x,l)}catch(f){console.error("An instrumentation function threw an error:",f)}h||await x(),await h}else try{d={type:"success",value:await o()}}catch(h){d={type:"error",value:h}}return d||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Lf(n){let{request:l,context:o,params:c,unstable_pattern:i}=n;return{request:Fv(l),params:{...c},unstable_pattern:i,context:Bv(o)}}function If(n,l){return{currentUrl:Br(n.state.location),..."formMethod"in l?{formMethod:l.formMethod}:{},..."formEncType"in l?{formEncType:l.formEncType}:{},..."formData"in l?{formData:l.formData}:{},..."body"in l?{body:l.body}:{}}}function Fv(n){return{method:n.method,url:n.url,headers:{get:(...l)=>n.headers.get(...l)}}}function Bv(n){if(Wv(n)){let l={...n};return Object.freeze(l),l}else return{get:l=>n.get(l)}}var Uv=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wv(n){if(n===null||typeof n!="object")return!1;const l=Object.getPrototypeOf(n);return l===Object.prototype||l===null||Object.getOwnPropertyNames(l).sort().join("\0")===Uv}var Vp=["POST","PUT","PATCH","DELETE"],Hv=new Set(Vp),Vv=["GET",...Vp],Jv=new Set(Vv),Jp=new Set([301,302,303,307,308]),Qv=new Set([307,308]),Jc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gv=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Qp="remix-router-transitions",Yp=Symbol("ResetLoaderData");function qv(n){const l=n.window?n.window:typeof window<"u"?window:void 0,o=typeof l<"u"&&typeof l.document<"u"&&typeof l.document.createElement<"u";Je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let c=n.hydrationRouteProperties||[],i=n.mapRouteProperties||Gv,d=i;if(n.unstable_instrumentations){let P=n.unstable_instrumentations;d=$=>({...i($),...zv(P.map(J=>J.route).filter(Boolean),$)})}let h={},x=Zl(n.routes,d,void 0,h),f,m=n.basename||"/";m.startsWith("/")||(m=`/${m}`);let w=n.dataStrategy||ty,b={...n.future},v=null,y=new Set,N=null,C=null,k=null,_=n.hydrationData!=null,I=zn(x,n.history.location,m),O=!1,V=null,K;if(I==null&&!n.patchRoutesOnNavigation){let P=xr(404,{pathname:n.history.location.pathname}),{matches:$,route:J}=wa(x);K=!0,I=$,V={[J.id]:P}}else if(I&&!n.hydrationData&&Gn(I,x,n.history.location.pathname).active&&(I=null),I)if(I.some(P=>P.route.lazy))K=!1;else if(!I.some(P=>Nd(P.route)))K=!0;else{let P=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let J=I.findIndex(ie=>$[ie.route.id]!==void 0);K=I.slice(0,J+1).every(ie=>!od(ie.route,P,$))}else K=I.every(J=>!od(J.route,P,$))}else{K=!1,I=[];let P=Gn(null,x,n.history.location.pathname);P.active&&P.matches&&(O=!0,I=P.matches)}let F,S={historyAction:n.history.action,location:n.history.location,matches:I,initialized:K,navigation:Jc,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||V,fetchers:new Map,blockers:new Map},B="POP",Y=null,ne=!1,oe,ve=!1,X=new Map,q=null,fe=!1,G=!1,xe=new Set,L=new Map,se=0,re=-1,D=new Map,A=new Set,ee=new Map,R=new Map,Z=new Set,de=new Map,E,te=null;function ue(){if(v=n.history.listen(({action:P,location:$,delta:J})=>{if(E){E(),E=void 0;return}xt(de.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Jr({currentLocation:S.location,nextLocation:$,historyAction:P});if(ie&&J!=null){let pe=new Promise(_e=>{E=_e});n.history.go(J*-1),fn(ie,{state:"blocked",location:$,proceed(){fn(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),pe.then(()=>n.history.go(J))},reset(){let _e=new Map(S.blockers);_e.set(ie,Vl),U({blockers:_e})}}),Y?.resolve(),Y=null;return}return et(P,$)}),o){yy(l,X);let P=()=>by(l,X);l.addEventListener("pagehide",P),q=()=>l.removeEventListener("pagehide",P)}return S.initialized||et("POP",S.location,{initialHydration:!0}),F}function De(){v&&v(),q&&q(),y.clear(),oe&&oe.abort(),S.fetchers.forEach((P,$)=>ol($)),S.blockers.forEach((P,$)=>js($))}function Qe(P){return y.add(P),()=>y.delete(P)}function U(P,$={}){P.matches&&(P.matches=P.matches.map(pe=>{let _e=h[pe.route.id],be=pe.route;return be.element!==_e.element||be.errorElement!==_e.errorElement||be.hydrateFallbackElement!==_e.hydrateFallbackElement?{...pe,route:_e}:pe})),S={...S,...P};let J=[],ie=[];S.fetchers.forEach((pe,_e)=>{pe.state==="idle"&&(Z.has(_e)?J.push(_e):ie.push(_e))}),Z.forEach(pe=>{!S.fetchers.has(pe)&&!L.has(pe)&&J.push(pe)}),[...y].forEach(pe=>pe(S,{deletedFetchers:J,newErrors:P.errors??null,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),J.forEach(pe=>ol(pe)),ie.forEach(pe=>S.fetchers.delete(pe))}function Ce(P,$,{flushSync:J}={}){let ie=S.actionData!=null&&S.navigation.formMethod!=null&&Ot(S.navigation.formMethod)&&S.navigation.state==="loading"&&P.state?._isRedirect!==!0,pe;$.actionData?Object.keys($.actionData).length>0?pe=$.actionData:pe=null:ie?pe=S.actionData:pe=null;let _e=$.loaderData?Wf(S.loaderData,$.loaderData,$.matches||[],$.errors):S.loaderData,be=S.blockers;be.size>0&&(be=new Map(be),be.forEach(($e,Le)=>be.set(Le,Vl)));let Ee=fe?!1:cl(P,$.matches||S.matches),Pe=ne===!0||S.navigation.formMethod!=null&&Ot(S.navigation.formMethod)&&P.state?._isRedirect!==!0;f&&(x=f,f=void 0),fe||B==="POP"||(B==="PUSH"?n.history.push(P,P.state):B==="REPLACE"&&n.history.replace(P,P.state));let Te;if(B==="POP"){let $e=X.get(S.location.pathname);$e&&$e.has(P.pathname)?Te={currentLocation:S.location,nextLocation:P}:X.has(P.pathname)&&(Te={currentLocation:P,nextLocation:S.location})}else if(ve){let $e=X.get(S.location.pathname);$e?$e.add(P.pathname):($e=new Set([P.pathname]),X.set(S.location.pathname,$e)),Te={currentLocation:S.location,nextLocation:P}}U({...$,actionData:pe,loaderData:_e,historyAction:B,location:P,initialized:!0,navigation:Jc,revalidation:"idle",restoreScrollPosition:Ee,preventScrollReset:Pe,blockers:be},{viewTransitionOpts:Te,flushSync:J===!0}),B="POP",ne=!1,ve=!1,fe=!1,G=!1,Y?.resolve(),Y=null,te?.resolve(),te=null}async function Fe(P,$){if(Y?.resolve(),Y=null,typeof P=="number"){Y||(Y=Qf());let Ye=Y.promise;return n.history.go(P),Ye}let J=ld(S.location,S.matches,m,P,$?.fromRouteId,$?.relative),{path:ie,submission:pe,error:_e}=Mf(!1,J,$),be=S.location,Ee=Xl(S.location,ie,$&&$.state);Ee={...Ee,...n.history.encodeLocation(Ee)};let Pe=$&&$.replace!=null?$.replace:void 0,Te="PUSH";Pe===!0?Te="REPLACE":Pe===!1||pe!=null&&Ot(pe.formMethod)&&pe.formAction===S.location.pathname+S.location.search&&(Te="REPLACE");let $e=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Le=($&&$.flushSync)===!0,qe=Jr({currentLocation:be,nextLocation:Ee,historyAction:Te});if(qe){fn(qe,{state:"blocked",location:Ee,proceed(){fn(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Fe(P,$)},reset(){let Ye=new Map(S.blockers);Ye.set(qe,Vl),U({blockers:Ye})}});return}await et(Te,Ee,{submission:pe,pendingError:_e,preventScrollReset:$e,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Le,callSiteDefaultShouldRevalidate:$&&$.unstable_defaultShouldRevalidate})}function Ke(){te||(te=Qf()),wr(),U({revalidation:"loading"});let P=te.promise;return S.navigation.state==="submitting"?P:S.navigation.state==="idle"?(et(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),P):(et(B||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:ve===!0}),P)}async function et(P,$,J){oe&&oe.abort(),oe=null,B=P,fe=(J&&J.startUninterruptedRevalidation)===!0,vo(S.location,S.matches),ne=(J&&J.preventScrollReset)===!0,ve=(J&&J.enableViewTransition)===!0;let ie=f||x,pe=J&&J.overrideNavigation,_e=J?.initialHydration&&S.matches&&S.matches.length>0&&!O?S.matches:zn(ie,$,m),be=(J&&J.flushSync)===!0;if(_e&&S.initialized&&!G&&cy(S.location,$)&&!(J&&J.submission&&Ot(J.submission.formMethod))){Ce($,{matches:_e},{flushSync:be});return}let Ee=Gn(_e,ie,$.pathname);if(Ee.active&&Ee.matches&&(_e=Ee.matches),!_e){let{error:pt,notFoundMatches:kt,route:tt}=Lr($.pathname);Ce($,{matches:kt,loaderData:{},errors:{[tt.id]:pt}},{flushSync:be});return}oe=new AbortController;let Pe=Qs(n.history,$,oe.signal,J&&J.submission),Te=n.getContext?await n.getContext():new Tf,$e;if(J&&J.pendingError)$e=[$n(_e).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Ot(J.submission.formMethod)){let pt=await Ie(Pe,$,J.submission,_e,Te,Ee.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:be});if(pt.shortCircuited)return;if(pt.pendingActionResult){let[kt,tt]=pt.pendingActionResult;if(sr(tt)&&eo(tt.error)&&tt.error.status===404){oe=null,Ce($,{matches:pt.matches,loaderData:{},errors:{[kt]:tt.error}});return}}_e=pt.matches||_e,$e=pt.pendingActionResult,pe=Qc($,J.submission),be=!1,Ee.active=!1,Pe=Qs(n.history,Pe.url,Pe.signal)}let{shortCircuited:Le,matches:qe,loaderData:Ye,errors:gt}=await ht(Pe,$,_e,Te,Ee.active,pe,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,be,$e,J&&J.callSiteDefaultShouldRevalidate);Le||(oe=null,Ce($,{matches:qe||_e,...Hf($e),loaderData:Ye,errors:gt}))}async function Ie(P,$,J,ie,pe,_e,be,Ee={}){wr();let Pe=gy($,J);if(U({navigation:Pe},{flushSync:Ee.flushSync===!0}),_e){let Le=await pn(ie,$.pathname,P.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){if(Le.partialMatches.length===0){let{matches:Ye,route:gt}=wa(x);return{matches:Ye,pendingActionResult:[gt.id,{type:"error",error:Le.error}]}}let qe=$n(Le.partialMatches).route.id;return{matches:Le.partialMatches,pendingActionResult:[qe,{type:"error",error:Le.error}]}}else if(Le.matches)ie=Le.matches;else{let{notFoundMatches:qe,error:Ye,route:gt}=Lr($.pathname);return{matches:qe,pendingActionResult:[gt.id,{type:"error",error:Ye}]}}}let Te,$e=Ra(ie,$);if(!$e.route.action&&!$e.route.lazy)Te={type:"error",error:xr(405,{method:P.method,pathname:$.pathname,routeId:$e.route.id})};else{let Le=qs(d,h,P,ie,$e,be?[]:c,pe),qe=await We(P,Le,pe,null);if(Te=qe[$e.route.id],!Te){for(let Ye of ie)if(qe[Ye.route.id]){Te=qe[Ye.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(ps(Te)){let Le;return Ee&&Ee.replace!=null?Le=Ee.replace:Le=Ff(Te.response.headers.get("Location"),new URL(P.url),m,n.history)===S.location.pathname+S.location.search,await ge(P,Te,!0,{submission:J,replace:Le}),{shortCircuited:!0}}if(sr(Te)){let Le=$n(ie,$e.route.id);return(Ee&&Ee.replace)!==!0&&(B="PUSH"),{matches:ie,pendingActionResult:[Le.route.id,Te,$e.route.id]}}return{matches:ie,pendingActionResult:[$e.route.id,Te]}}async function ht(P,$,J,ie,pe,_e,be,Ee,Pe,Te,$e,Le,qe){let Ye=_e||Qc($,be),gt=be||Ee||Jf(Ye),pt=!fe&&!Te;if(pe){if(pt){let st=Nt(Le);U({navigation:Ye,...st!==void 0?{actionData:st}:{}},{flushSync:$e})}let Ge=await pn(J,$.pathname,P.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){if(Ge.partialMatches.length===0){let{matches:xn,route:Yr}=wa(x);return{matches:xn,loaderData:{},errors:{[Yr.id]:Ge.error}}}let st=$n(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,loaderData:{},errors:{[st]:Ge.error}}}else if(Ge.matches)J=Ge.matches;else{let{error:st,notFoundMatches:xn,route:Yr}=Lr($.pathname);return{matches:xn,loaderData:{},errors:{[Yr.id]:st}}}}let kt=f||x,{dsMatches:tt,revalidatingFetchers:Wt}=Df(P,ie,d,h,n.history,S,J,gt,$,Te?[]:c,Te===!0,G,xe,Z,ee,A,kt,m,n.patchRoutesOnNavigation!=null,Le,qe);if(re=++se,!n.dataStrategy&&!tt.some(Ge=>Ge.shouldLoad)&&!tt.some(Ge=>Ge.route.middleware&&Ge.route.middleware.length>0)&&Wt.length===0){let Ge=bs();return Ce($,{matches:J,loaderData:{},errors:Le&&sr(Le[1])?{[Le[0]]:Le[1].error}:null,...Hf(Le),...Ge?{fetchers:new Map(S.fetchers)}:{}},{flushSync:$e}),{shortCircuited:!0}}if(pt){let Ge={};if(!pe){Ge.navigation=Ye;let st=Nt(Le);st!==void 0&&(Ge.actionData=st)}Wt.length>0&&(Ge.fetchers=Rt(Wt)),U(Ge,{flushSync:$e})}Wt.forEach(Ge=>{ir(Ge.key),Ge.controller&&L.set(Ge.key,Ge.controller)});let rt=()=>Wt.forEach(Ge=>ir(Ge.key));oe&&oe.signal.addEventListener("abort",rt);let{loaderResults:Kn,fetcherResults:cr}=await yt(tt,Wt,P,ie);if(P.signal.aborted)return{shortCircuited:!0};oe&&oe.signal.removeEventListener("abort",rt),Wt.forEach(Ge=>L.delete(Ge.key));let Zt=ja(Kn);if(Zt)return await ge(P,Zt.result,!0,{replace:Pe}),{shortCircuited:!0};if(Zt=ja(cr),Zt)return A.add(Zt.key),await ge(P,Zt.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:mn,errors:Xn}=Uf(S,J,Kn,Le,Wt,cr);Te&&S.errors&&(Xn={...S.errors,...Xn});let Ir=bs(),Qr=ws(re),At=Ir||Qr||Wt.length>0;return{matches:J,loaderData:mn,errors:Xn,...At?{fetchers:new Map(S.fetchers)}:{}}}function Nt(P){if(P&&!sr(P[1]))return{[P[0]]:P[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Rt(P){return P.forEach($=>{let J=S.fetchers.get($.key),ie=Jl(void 0,J?J.data:void 0);S.fetchers.set($.key,ie)}),new Map(S.fetchers)}async function Pt(P,$,J,ie){ir(P);let pe=(ie&&ie.flushSync)===!0,_e=f||x,be=ld(S.location,S.matches,m,J,$,ie?.relative),Ee=zn(_e,be,m),Pe=Gn(Ee,_e,be);if(Pe.active&&Pe.matches&&(Ee=Pe.matches),!Ee){ar(P,$,xr(404,{pathname:be}),{flushSync:pe});return}let{path:Te,submission:$e,error:Le}=Mf(!0,be,ie);if(Le){ar(P,$,Le,{flushSync:pe});return}let qe=n.getContext?await n.getContext():new Tf,Ye=(ie&&ie.preventScrollReset)===!0;if($e&&Ot($e.formMethod)){await br(P,$,Te,Ee,qe,Pe.active,pe,Ye,$e,ie&&ie.unstable_defaultShouldRevalidate);return}ee.set(P,{routeId:$,path:Te}),await un(P,$,Te,Ee,qe,Pe.active,pe,Ye,$e)}async function br(P,$,J,ie,pe,_e,be,Ee,Pe,Te){wr(),ee.delete(P);let $e=S.fetchers.get(P);Ut(P,vy(Pe,$e),{flushSync:be});let Le=new AbortController,qe=Qs(n.history,J,Le.signal,Pe);if(_e){let it=await pn(ie,new URL(qe.url).pathname,qe.signal,P);if(it.type==="aborted")return;if(it.type==="error"){ar(P,$,it.error,{flushSync:be});return}else if(it.matches)ie=it.matches;else{ar(P,$,xr(404,{pathname:J}),{flushSync:be});return}}let Ye=Ra(ie,J);if(!Ye.route.action&&!Ye.route.lazy){let it=xr(405,{method:Pe.formMethod,pathname:J,routeId:$});ar(P,$,it,{flushSync:be});return}L.set(P,Le);let gt=se,pt=qs(d,h,qe,ie,Ye,c,pe),kt=await We(qe,pt,pe,P),tt=kt[Ye.route.id];if(!tt){for(let it of pt)if(kt[it.route.id]){tt=kt[it.route.id];break}}if(qe.signal.aborted){L.get(P)===Le&&L.delete(P);return}if(Z.has(P)){if(ps(tt)||sr(tt)){Ut(P,ln(void 0));return}}else{if(ps(tt))if(L.delete(P),re>gt){Ut(P,ln(void 0));return}else return A.add(P),Ut(P,Jl(Pe)),ge(qe,tt,!1,{fetcherSubmission:Pe,preventScrollReset:Ee});if(sr(tt)){ar(P,$,tt.error);return}}let Wt=S.navigation.location||S.location,rt=Qs(n.history,Wt,Le.signal),Kn=f||x,cr=S.navigation.state!=="idle"?zn(Kn,S.navigation.location,m):S.matches;Je(cr,"Didn't find any matches after fetcher action");let Zt=++se;D.set(P,Zt);let mn=Jl(Pe,tt.data);S.fetchers.set(P,mn);let{dsMatches:Xn,revalidatingFetchers:Ir}=Df(rt,pe,d,h,n.history,S,cr,Pe,Wt,c,!1,G,xe,Z,ee,A,Kn,m,n.patchRoutesOnNavigation!=null,[Ye.route.id,tt],Te);Ir.filter(it=>it.key!==P).forEach(it=>{let Gr=it.key,Zn=S.fetchers.get(Gr),es=Jl(void 0,Zn?Zn.data:void 0);S.fetchers.set(Gr,es),ir(Gr),it.controller&&L.set(Gr,it.controller)}),U({fetchers:new Map(S.fetchers)});let Qr=()=>Ir.forEach(it=>ir(it.key));Le.signal.addEventListener("abort",Qr);let{loaderResults:At,fetcherResults:Ge}=await yt(Xn,Ir,rt,pe);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",Qr),D.delete(P),L.delete(P),Ir.forEach(it=>L.delete(it.key)),S.fetchers.has(P)){let it=ln(tt.data);S.fetchers.set(P,it)}let st=ja(At);if(st)return ge(rt,st.result,!1,{preventScrollReset:Ee});if(st=ja(Ge),st)return A.add(st.key),ge(rt,st.result,!1,{preventScrollReset:Ee});let{loaderData:xn,errors:Yr}=Uf(S,cr,At,void 0,Ir,Ge);ws(Zt),S.navigation.state==="loading"&&Zt>re?(Je(B,"Expected pending action"),oe&&oe.abort(),Ce(S.navigation.location,{matches:cr,loaderData:xn,errors:Yr,fetchers:new Map(S.fetchers)})):(U({errors:Yr,loaderData:Wf(S.loaderData,xn,cr,Yr),fetchers:new Map(S.fetchers)}),G=!1)}async function un(P,$,J,ie,pe,_e,be,Ee,Pe){let Te=S.fetchers.get(P);Ut(P,Jl(Pe,Te?Te.data:void 0),{flushSync:be});let $e=new AbortController,Le=Qs(n.history,J,$e.signal);if(_e){let tt=await pn(ie,new URL(Le.url).pathname,Le.signal,P);if(tt.type==="aborted")return;if(tt.type==="error"){ar(P,$,tt.error,{flushSync:be});return}else if(tt.matches)ie=tt.matches;else{ar(P,$,xr(404,{pathname:J}),{flushSync:be});return}}let qe=Ra(ie,J);L.set(P,$e);let Ye=se,gt=qs(d,h,Le,ie,qe,c,pe),kt=(await We(Le,gt,pe,P))[qe.route.id];if(L.get(P)===$e&&L.delete(P),!Le.signal.aborted){if(Z.has(P)){Ut(P,ln(void 0));return}if(ps(kt))if(re>Ye){Ut(P,ln(void 0));return}else{A.add(P),await ge(Le,kt,!1,{preventScrollReset:Ee});return}if(sr(kt)){ar(P,$,kt.error);return}Ut(P,ln(kt.data))}}async function ge(P,$,J,{submission:ie,fetcherSubmission:pe,preventScrollReset:_e,replace:be}={}){J||(Y?.resolve(),Y=null),$.response.headers.has("X-Remix-Revalidate")&&(G=!0);let Ee=$.response.headers.get("Location");Je(Ee,"Expected a Location header on the redirect Response"),Ee=Ff(Ee,new URL(P.url),m,n.history);let Pe=Xl(S.location,Ee,{_isRedirect:!0});if(o){let gt=!1;if($.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(bd(Ee)){const pt=Ap(Ee,!0);gt=pt.origin!==l.location.origin||gr(pt.pathname,m)==null}if(gt){be?l.location.replace(Ee):l.location.assign(Ee);return}}oe=null;let Te=be===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:$e,formAction:Le,formEncType:qe}=S.navigation;!ie&&!pe&&$e&&Le&&qe&&(ie=Jf(S.navigation));let Ye=ie||pe;if(Qv.has($.response.status)&&Ye&&Ot(Ye.formMethod))await et(Te,Pe,{submission:{...Ye,formAction:Ee},preventScrollReset:_e||ne,enableViewTransition:J?ve:void 0});else{let gt=Qc(Pe,ie);await et(Te,Pe,{overrideNavigation:gt,fetcherSubmission:pe,preventScrollReset:_e||ne,enableViewTransition:J?ve:void 0})}}async function We(P,$,J,ie){let pe,_e={};try{pe=await ny(w,P,$,ie,J,!1)}catch(be){return $.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{_e[Ee.route.id]={type:"error",error:be}}),_e}if(P.signal.aborted)return _e;if(!Ot(P.method))for(let be of $){if(pe[be.route.id]?.type==="error")break;!pe.hasOwnProperty(be.route.id)&&!S.loaderData.hasOwnProperty(be.route.id)&&(!S.errors||!S.errors.hasOwnProperty(be.route.id))&&be.shouldCallHandler()&&(pe[be.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${be.route.id}`)})}for(let[be,Ee]of Object.entries(pe))if(fy(Ee)){let Pe=Ee.result;_e[be]={type:"redirect",response:ay(Pe,P,be,$,m)}}else _e[be]=await oy(Ee);return _e}async function yt(P,$,J,ie){let pe=We(J,P,ie,null),_e=Promise.all($.map(async Pe=>{if(Pe.matches&&Pe.match&&Pe.request&&Pe.controller){let $e=(await We(Pe.request,Pe.matches,ie,Pe.key))[Pe.match.route.id];return{[Pe.key]:$e}}else return Promise.resolve({[Pe.key]:{type:"error",error:xr(404,{pathname:Pe.path})}})})),be=await pe,Ee=(await _e).reduce((Pe,Te)=>Object.assign(Pe,Te),{});return{loaderResults:be,fetcherResults:Ee}}function wr(){G=!0,ee.forEach((P,$)=>{L.has($)&&xe.add($),ir($)})}function Ut(P,$,J={}){S.fetchers.set(P,$),U({fetchers:new Map(S.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function ar(P,$,J,ie={}){let pe=$n(S.matches,$);ol(P),U({errors:{[pe.route.id]:J},fetchers:new Map(S.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function hn(P){return R.set(P,(R.get(P)||0)+1),Z.has(P)&&Z.delete(P),S.fetchers.get(P)||Yv}function Yn(P,$){ir(P,$?.reason),Ut(P,ln(null))}function ol(P){let $=S.fetchers.get(P);L.has(P)&&!($&&$.state==="loading"&&D.has(P))&&ir(P),ee.delete(P),D.delete(P),A.delete(P),Z.delete(P),xe.delete(P),S.fetchers.delete(P)}function mo(P){let $=(R.get(P)||0)-1;$<=0?(R.delete(P),Z.add(P)):R.set(P,$),U({fetchers:new Map(S.fetchers)})}function ir(P,$){let J=L.get(P);J&&(J.abort($),L.delete(P))}function xo(P){for(let $ of P){let J=hn($),ie=ln(J.data);S.fetchers.set($,ie)}}function bs(){let P=[],$=!1;for(let J of A){let ie=S.fetchers.get(J);Je(ie,`Expected fetcher: ${J}`),ie.state==="loading"&&(A.delete(J),P.push(J),$=!0)}return xo(P),$}function ws(P){let $=[];for(let[J,ie]of D)if(ie<P){let pe=S.fetchers.get(J);Je(pe,`Expected fetcher: ${J}`),pe.state==="loading"&&(ir(J),D.delete(J),$.push(J))}return xo($),$.length>0}function al(P,$){let J=S.blockers.get(P)||Vl;return de.get(P)!==$&&de.set(P,$),J}function js(P){S.blockers.delete(P),de.delete(P)}function fn(P,$){let J=S.blockers.get(P)||Vl;Je(J.state==="unblocked"&&$.state==="blocked"||J.state==="blocked"&&$.state==="blocked"||J.state==="blocked"&&$.state==="proceeding"||J.state==="blocked"&&$.state==="unblocked"||J.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${$.state}`);let ie=new Map(S.blockers);ie.set(P,$),U({blockers:ie})}function Jr({currentLocation:P,nextLocation:$,historyAction:J}){if(de.size===0)return;de.size>1&&xt(!1,"A router only supports one blocker at a time");let ie=Array.from(de.entries()),[pe,_e]=ie[ie.length-1],be=S.blockers.get(pe);if(!(be&&be.state==="proceeding")&&_e({currentLocation:P,nextLocation:$,historyAction:J}))return pe}function Lr(P){let $=xr(404,{pathname:P}),J=f||x,{matches:ie,route:pe}=wa(J);return{notFoundMatches:ie,route:pe,error:$}}function go(P,$,J){if(N=P,k=$,C=J||null,!_&&S.navigation===Jc){_=!0;let ie=cl(S.location,S.matches);ie!=null&&U({restoreScrollPosition:ie})}return()=>{N=null,k=null,C=null}}function il(P,$){return C&&C(P,$.map(ie=>bv(ie,S.loaderData)))||P.key}function vo(P,$){if(N&&k){let J=il(P,$);N[J]=k()}}function cl(P,$){if(N){let J=il(P,$),ie=N[J];if(typeof ie=="number")return ie}return null}function Gn(P,$,J){if(n.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:ql($,J,m,!0)}}else return{active:!0,matches:ql($,J,m,!0)||[]};return{active:!1,matches:null}}async function pn(P,$,J,ie){if(!n.patchRoutesOnNavigation)return{type:"success",matches:P};let pe=P;for(;;){let _e=f==null,be=f||x,Ee=h;try{await n.patchRoutesOnNavigation({signal:J,path:$,matches:pe,fetcherKey:ie,patch:($e,Le)=>{J.aborted||Of($e,Le,be,Ee,d,!1)}})}catch($e){return{type:"error",error:$e,partialMatches:pe}}finally{_e&&!J.aborted&&(x=[...x])}if(J.aborted)return{type:"aborted"};let Pe=zn(be,$,m),Te=null;if(Pe){if(Object.keys(Pe[0].params).length===0)return{type:"success",matches:Pe};if(Te=ql(be,$,m,!0),!(Te&&pe.length<Te.length&&dl(pe,Te.slice(0,pe.length))))return{type:"success",matches:Pe}}if(Te||(Te=ql(be,$,m,!0)),!Te||dl(pe,Te))return{type:"success",matches:null};pe=Te}}function dl(P,$){return P.length===$.length&&P.every((J,ie)=>J.route.id===$[ie].route.id)}function qn(P){h={},f=Zl(P,d,void 0,h)}function ul(P,$,J=!1){let ie=f==null;Of(P,$,f||x,h,d,J),ie&&(x=[...x],U({}))}return F={get basename(){return m},get future(){return b},get state(){return S},get routes(){return x},get window(){return l},initialize:ue,subscribe:Qe,enableScrollRestoration:go,navigate:Fe,fetch:Pt,revalidate:Ke,createHref:P=>n.history.createHref(P),encodeLocation:P=>n.history.encodeLocation(P),getFetcher:hn,resetFetcher:Yn,deleteFetcher:mo,dispose:De,getBlocker:al,deleteBlocker:js,patchRoutes:ul,_internalFetchControllers:L,_internalSetRoutes:qn,_internalSetStateDoNotUseOrYouWillBreakYourApp(P){U(P)}},n.unstable_instrumentations&&(F=$v(F,n.unstable_instrumentations.map(P=>P.router).filter(Boolean))),F}function Kv(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ld(n,l,o,c,i,d){let h,x;if(i){h=[];for(let m of l)if(h.push(m),m.route.id===i){x=m;break}}else h=l,x=l[l.length-1];let f=jd(c||".",wd(h),gr(n.pathname,o)||n.pathname,d==="path");if(c==null&&(f.search=n.search,f.hash=n.hash),(c==null||c===""||c===".")&&x){let m=Sd(f.search);if(x.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!x.route.index&&m){let w=new URLSearchParams(f.search),b=w.getAll("index");w.delete("index"),b.filter(y=>y).forEach(y=>w.append("index",y));let v=w.toString();f.search=v?`?${v}`:""}}return o!=="/"&&(f.pathname=Iv({basename:o,pathname:f.pathname})),Br(f)}function Mf(n,l,o){if(!o||!Kv(o))return{path:l};if(o.formMethod&&!xy(o.formMethod))return{path:l,error:xr(405,{method:o.formMethod})};let c=()=>({path:l,error:xr(400,{type:"invalid-body"})}),d=(o.formMethod||"get").toUpperCase(),h=em(l);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!Ot(d))return c();let b=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((v,[y,N])=>`${v}${y}=${N}
`,""):String(o.body);return{path:l,submission:{formMethod:d,formAction:h,formEncType:o.formEncType,formData:void 0,json:void 0,text:b}}}else if(o.formEncType==="application/json"){if(!Ot(d))return c();try{let b=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:l,submission:{formMethod:d,formAction:h,formEncType:o.formEncType,formData:void 0,json:b,text:void 0}}}catch{return c()}}}Je(typeof FormData=="function","FormData is not available in this environment");let x,f;if(o.formData)x=id(o.formData),f=o.formData;else if(o.body instanceof FormData)x=id(o.body),f=o.body;else if(o.body instanceof URLSearchParams)x=o.body,f=Bf(x);else if(o.body==null)x=new URLSearchParams,f=new FormData;else try{x=new URLSearchParams(o.body),f=Bf(x)}catch{return c()}let m={formMethod:d,formAction:h,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ot(m.formMethod))return{path:l,submission:m};let w=Hn(l);return n&&w.search&&Sd(w.search)&&x.append("index",""),w.search=`?${x}`,{path:Br(w),submission:m}}function Df(n,l,o,c,i,d,h,x,f,m,w,b,v,y,N,C,k,_,I,O,V){let K=O?sr(O[1])?O[1].error:O[1].data:void 0,F=i.createURL(d.location),S=i.createURL(f),B;if(w&&d.errors){let fe=Object.keys(d.errors)[0];B=h.findIndex(G=>G.route.id===fe)}else if(O&&sr(O[1])){let fe=O[0];B=h.findIndex(G=>G.route.id===fe)-1}let Y=O?O[1].statusCode:void 0,ne=Y&&Y>=400,oe={currentUrl:F,currentParams:d.matches[0]?.params||{},nextUrl:S,nextParams:h[0].params,...x,actionResult:K,actionStatus:Y},ve=so(h),X=h.map((fe,G)=>{let{route:xe}=fe,L=null;if(B!=null&&G>B?L=!1:xe.lazy?L=!0:Nd(xe)?w?L=od(xe,d.loaderData,d.errors):Xv(d.loaderData,d.matches[G],fe)&&(L=!0):L=!1,L!==null)return ad(o,c,n,ve,fe,m,l,L);let se=!1;typeof V=="boolean"?se=V:ne?se=!1:(b||F.pathname+F.search===S.pathname+S.search||F.search!==S.search||Zv(d.matches[G],fe))&&(se=!0);let re={...oe,defaultShouldRevalidate:se},D=Kl(fe,re);return ad(o,c,n,ve,fe,m,l,D,re,V)}),q=[];return N.forEach((fe,G)=>{if(w||!h.some(R=>R.route.id===fe.routeId)||y.has(G))return;let xe=d.fetchers.get(G),L=xe&&xe.state!=="idle"&&xe.data===void 0,se=zn(k,fe.path,_);if(!se){if(I&&L)return;q.push({key:G,routeId:fe.routeId,path:fe.path,matches:null,match:null,request:null,controller:null});return}if(C.has(G))return;let re=Ra(se,fe.path),D=new AbortController,A=Qs(i,fe.path,D.signal),ee=null;if(v.has(G))v.delete(G),ee=qs(o,c,A,se,re,m,l);else if(L)b&&(ee=qs(o,c,A,se,re,m,l));else{let R;typeof V=="boolean"?R=V:ne?R=!1:R=b;let Z={...oe,defaultShouldRevalidate:R};Kl(re,Z)&&(ee=qs(o,c,A,se,re,m,l,Z))}ee&&q.push({key:G,routeId:fe.routeId,path:fe.path,matches:ee,match:re,request:A,controller:D})}),{dsMatches:X,revalidatingFetchers:q}}function Nd(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function od(n,l,o){if(n.lazy)return!0;if(!Nd(n))return!1;let c=l!=null&&n.id in l,i=o!=null&&o[n.id]!==void 0;return!c&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!c&&!i}function Xv(n,l,o){let c=!l||o.route.id!==l.route.id,i=!n.hasOwnProperty(o.route.id);return c||i}function Zv(n,l){let o=n.route.path;return n.pathname!==l.pathname||o!=null&&o.endsWith("*")&&n.params["*"]!==l.params["*"]}function Kl(n,l){if(n.route.shouldRevalidate){let o=n.route.shouldRevalidate(l);if(typeof o=="boolean")return o}return l.defaultShouldRevalidate}function Of(n,l,o,c,i,d){let h;if(n){let m=c[n];Je(m,`No route found to patch children into: routeId = ${n}`),m.children||(m.children=[]),h=m.children}else h=o;let x=[],f=[];if(l.forEach(m=>{let w=h.find(b=>Gp(m,b));w?f.push({existingRoute:w,newRoute:m}):x.push(m)}),x.length>0){let m=Zl(x,i,[n||"_","patch",String(h?.length||"0")],c);h.push(...m)}if(d&&f.length>0)for(let m=0;m<f.length;m++){let{existingRoute:w,newRoute:b}=f[m],v=w,[y]=Zl([b],i,[],{},!0);Object.assign(v,{element:y.element?y.element:v.element,errorElement:y.errorElement?y.errorElement:v.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:v.hydrateFallbackElement})}}function Gp(n,l){return"id"in n&&"id"in l&&n.id===l.id?!0:n.index===l.index&&n.path===l.path&&n.caseSensitive===l.caseSensitive?(!n.children||n.children.length===0)&&(!l.children||l.children.length===0)?!0:n.children.every((o,c)=>l.children?.some(i=>Gp(o,i))):!1}var Af=new WeakMap,qp=({key:n,route:l,manifest:o,mapRouteProperties:c})=>{let i=o[l.id];if(Je(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let d=i.lazy[n];if(!d)return;let h=Af.get(i);h||(h={},Af.set(i,h));let x=h[n];if(x)return x;let f=(async()=>{let m=xv(n),b=i[n]!==void 0&&n!=="hasErrorBoundary";if(m)xt(!m,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),h[n]=Promise.resolve();else if(b)xt(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let v=await d();v!=null&&(Object.assign(i,{[n]:v}),Object.assign(i,c(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return h[n]=f,f},zf=new WeakMap;function ey(n,l,o,c,i){let d=o[n.id];if(Je(d,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let w=zf.get(d);if(w)return{lazyRoutePromise:w,lazyHandlerPromise:w};let b=(async()=>{Je(typeof n.lazy=="function","No lazy route function found");let v=await n.lazy(),y={};for(let N in v){let C=v[N];if(C===void 0)continue;let k=vv(N),I=d[N]!==void 0&&N!=="hasErrorBoundary";k?xt(!k,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):I?xt(!I,`Route "${d.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):y[N]=C}Object.assign(d,y),Object.assign(d,{...c(d),lazy:void 0})})();return zf.set(d,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let h=Object.keys(n.lazy),x=[],f;for(let w of h){if(i&&i.includes(w))continue;let b=qp({key:w,route:n,manifest:o,mapRouteProperties:c});b&&(x.push(b),w===l&&(f=b))}let m=x.length>0?Promise.all(x).then(()=>{}):void 0;return m?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function $f(n){let l=n.matches.filter(i=>i.shouldLoad),o={};return(await Promise.all(l.map(i=>i.resolve()))).forEach((i,d)=>{o[l[d].route.id]=i}),o}async function ty(n){return n.matches.some(l=>l.route.middleware)?Kp(n,()=>$f(n)):$f(n)}function Kp(n,l){return ry(n,l,c=>{if(my(c))throw c;return c},uy,o);function o(c,i,d){if(d)return Promise.resolve(Object.assign(d.value,{[i]:{type:"error",result:c}}));{let{matches:h}=n,x=Math.min(Math.max(h.findIndex(m=>m.route.id===i),0),Math.max(h.findIndex(m=>m.shouldCallHandler()),0)),f=$n(h,h[x].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:c}})}}}async function ry(n,l,o,c,i){let{matches:d,request:h,params:x,context:f,unstable_pattern:m}=n,w=d.flatMap(v=>v.route.middleware?v.route.middleware.map(y=>[v.route.id,y]):[]);return await Xp({request:h,params:x,context:f,unstable_pattern:m},w,l,o,c,i)}async function Xp(n,l,o,c,i,d,h=0){let{request:x}=n;if(x.signal.aborted)throw x.signal.reason??new Error(`Request aborted: ${x.method} ${x.url}`);let f=l[h];if(!f)return await o();let[m,w]=f,b,v=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");try{return b={value:await Xp(n,l,o,c,i,d,h+1)},b.value}catch(y){return b={value:await d(y,m,b)},b.value}};try{let y=await w(n,v),N=y!=null?c(y):void 0;return i(N)?N:b?N??b.value:(b={value:await v()},b.value)}catch(y){return await d(y,m,b)}}function Zp(n,l,o,c,i){let d=qp({key:"middleware",route:c.route,manifest:l,mapRouteProperties:n}),h=ey(c.route,Ot(o.method)?"action":"loader",l,n,i);return{middleware:d,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function ad(n,l,o,c,i,d,h,x,f=null,m){let w=!1,b=Zp(n,l,o,i,d);return{...i,_lazyPromises:b,shouldLoad:x,shouldRevalidateArgs:f,shouldCallHandler(v){return w=!0,f?typeof m=="boolean"?Kl(i,{...f,defaultShouldRevalidate:m}):typeof v=="boolean"?Kl(i,{...f,defaultShouldRevalidate:v}):Kl(i,f):x},resolve(v){let{lazy:y,loader:N,middleware:C}=i.route,k=w||x||v&&!Ot(o.method)&&(y||N),_=C&&C.length>0&&!N&&!y;return k&&(Ot(o.method)||!_)?sy({request:o,unstable_pattern:c,match:i,lazyHandlerPromise:b?.handler,lazyRoutePromise:b?.route,handlerOverride:v,scopedContext:h}):Promise.resolve({type:"data",result:void 0})}}}function qs(n,l,o,c,i,d,h,x=null){return c.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:x,shouldCallHandler:()=>!1,_lazyPromises:Zp(n,l,o,f,d),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ad(n,l,o,so(c),f,d,h,!0,x))}async function ny(n,l,o,c,i,d){o.some(m=>m._lazyPromises?.middleware)&&await Promise.all(o.map(m=>m._lazyPromises?.middleware));let h={request:l,unstable_pattern:so(o),params:o[0].params,context:i,matches:o},f=await n({...h,fetcherKey:c,runClientMiddleware:m=>{let w=h;return Kp(w,()=>m({...w,fetcherKey:c,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(o.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return f}async function sy({request:n,unstable_pattern:l,match:o,lazyHandlerPromise:c,lazyRoutePromise:i,handlerOverride:d,scopedContext:h}){let x,f,m=Ot(n.method),w=m?"action":"loader",b=v=>{let y,N=new Promise((_,I)=>y=I);f=()=>y(),n.signal.addEventListener("abort",f);let C=_=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${w}" [routeId: ${o.route.id}]`)):v({request:n,unstable_pattern:l,params:o.params,context:h},..._!==void 0?[_]:[]),k=(async()=>{try{return{type:"data",result:await(d?d(I=>C(I)):C())}}catch(_){return{type:"error",result:_}}})();return Promise.race([k,N])};try{let v=m?o.route.action:o.route.loader;if(c||i)if(v){let y,[N]=await Promise.all([b(v).catch(C=>{y=C}),c,i]);if(y!==void 0)throw y;x=N}else{await c;let y=m?o.route.action:o.route.loader;if(y)[x]=await Promise.all([b(y),i]);else if(w==="action"){let N=new URL(n.url),C=N.pathname+N.search;throw xr(405,{method:n.method,pathname:C,routeId:o.route.id})}else return{type:"data",result:void 0}}else if(v)x=await b(v);else{let y=new URL(n.url),N=y.pathname+y.search;throw xr(404,{pathname:N})}}catch(v){return{type:"error",result:v}}finally{f&&n.signal.removeEventListener("abort",f)}return x}async function ly(n){let l=n.headers.get("Content-Type");return l&&/\bapplication\/json\b/.test(l)?n.body==null?null:n.json():n.text()}async function oy(n){let{result:l,type:o}=n;if(kd(l)){let c;try{c=await ly(l)}catch(i){return{type:"error",error:i}}return o==="error"?{type:"error",error:new no(l.status,l.statusText,c),statusCode:l.status,headers:l.headers}:{type:"data",data:c,statusCode:l.status,headers:l.headers}}return o==="error"?Vf(l)?l.data instanceof Error?{type:"error",error:l.data,statusCode:l.init?.status,headers:l.init?.headers?new Headers(l.init.headers):void 0}:{type:"error",error:dy(l),statusCode:eo(l)?l.status:void 0,headers:l.init?.headers?new Headers(l.init.headers):void 0}:{type:"error",error:l,statusCode:eo(l)?l.status:void 0}:Vf(l)?{type:"data",data:l.data,statusCode:l.init?.status,headers:l.init?.headers?new Headers(l.init.headers):void 0}:{type:"data",data:l}}function ay(n,l,o,c,i){let d=n.headers.get("Location");if(Je(d,"Redirects returned/thrown from loaders/actions must have a Location header"),!bd(d)){let h=c.slice(0,c.findIndex(x=>x.route.id===o)+1);d=ld(new URL(l.url),h,i,d),n.headers.set("Location",d)}return n}function Ff(n,l,o,c){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(bd(n)){let d=n,h=d.startsWith("//")?new URL(l.protocol+d):new URL(d);if(i.includes(h.protocol))throw new Error("Invalid redirect location");let x=gr(h.pathname,o)!=null;if(h.origin===l.origin&&x)return h.pathname+h.search+h.hash}try{let d=c.createURL(n);if(i.includes(d.protocol))throw new Error("Invalid redirect location")}catch{}return n}function Qs(n,l,o,c){let i=n.createURL(em(l)).toString(),d={signal:o};if(c&&Ot(c.formMethod)){let{formMethod:h,formEncType:x}=c;d.method=h.toUpperCase(),x==="application/json"?(d.headers=new Headers({"Content-Type":x}),d.body=JSON.stringify(c.json)):x==="text/plain"?d.body=c.text:x==="application/x-www-form-urlencoded"&&c.formData?d.body=id(c.formData):d.body=c.formData}return new Request(i,d)}function id(n){let l=new URLSearchParams;for(let[o,c]of n.entries())l.append(o,typeof c=="string"?c:c.name);return l}function Bf(n){let l=new FormData;for(let[o,c]of n.entries())l.append(o,c);return l}function iy(n,l,o,c=!1,i=!1){let d={},h=null,x,f=!1,m={},w=o&&sr(o[1])?o[1].error:void 0;return n.forEach(b=>{if(!(b.route.id in l))return;let v=b.route.id,y=l[v];if(Je(!ps(y),"Cannot handle redirect results in processLoaderData"),sr(y)){let N=y.error;if(w!==void 0&&(N=w,w=void 0),h=h||{},i)h[v]=N;else{let C=$n(n,v);h[C.route.id]==null&&(h[C.route.id]=N)}c||(d[v]=Yp),f||(f=!0,x=eo(y.error)?y.error.status:500),y.headers&&(m[v]=y.headers)}else d[v]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(x=y.statusCode),y.headers&&(m[v]=y.headers)}),w!==void 0&&o&&(h={[o[0]]:w},o[2]&&(d[o[2]]=void 0)),{loaderData:d,errors:h,statusCode:x||200,loaderHeaders:m}}function Uf(n,l,o,c,i,d){let{loaderData:h,errors:x}=iy(l,o,c);return i.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:w,controller:b}=f;if(b&&b.signal.aborted)return;let v=d[m];if(Je(v,"Did not find corresponding fetcher result"),sr(v)){let y=$n(n.matches,w?.route.id);x&&x[y.route.id]||(x={...x,[y.route.id]:v.error}),n.fetchers.delete(m)}else if(ps(v))Je(!1,"Unhandled fetcher revalidation redirect");else{let y=ln(v.data);n.fetchers.set(m,y)}}),{loaderData:h,errors:x}}function Wf(n,l,o,c){let i=Object.entries(l).filter(([,d])=>d!==Yp).reduce((d,[h,x])=>(d[h]=x,d),{});for(let d of o){let h=d.route.id;if(!l.hasOwnProperty(h)&&n.hasOwnProperty(h)&&d.route.loader&&(i[h]=n[h]),c&&c.hasOwnProperty(h))break}return i}function Hf(n){return n?sr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function $n(n,l){return(l?n.slice(0,n.findIndex(c=>c.route.id===l)+1):[...n]).reverse().find(c=>c.route.hasErrorBoundary===!0)||n[0]}function wa(n){let l=n.length===1?n[0]:n.find(o=>o.index||!o.path||o.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:l}],route:l}}function xr(n,{pathname:l,routeId:o,method:c,type:i,message:d}={}){let h="Unknown Server Error",x="Unknown @remix-run/router error";return n===400?(h="Bad Request",c&&l&&o?x=`You made a ${c} request to "${l}" but did not provide a \`loader\` for route "${o}", so there is no way to handle the request.`:i==="invalid-body"&&(x="Unable to encode submission body")):n===403?(h="Forbidden",x=`Route "${o}" does not match URL "${l}"`):n===404?(h="Not Found",x=`No route matches URL "${l}"`):n===405&&(h="Method Not Allowed",c&&l&&o?x=`You made a ${c.toUpperCase()} request to "${l}" but did not provide an \`action\` for route "${o}", so there is no way to handle the request.`:c&&(x=`Invalid request method "${c.toUpperCase()}"`)),new no(n||500,h,new Error(x),!0)}function ja(n){let l=Object.entries(n);for(let o=l.length-1;o>=0;o--){let[c,i]=l[o];if(ps(i))return{key:c,result:i}}}function em(n){let l=typeof n=="string"?Hn(n):n;return Br({...l,hash:""})}function cy(n,l){return n.pathname!==l.pathname||n.search!==l.search?!1:n.hash===""?l.hash!=="":n.hash===l.hash?!0:l.hash!==""}function dy(n){return new no(n.init?.status??500,n.init?.statusText??"Internal Server Error",n.data)}function uy(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([l,o])=>typeof l=="string"&&hy(o))}function hy(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function fy(n){return kd(n.result)&&Jp.has(n.result.status)}function sr(n){return n.type==="error"}function ps(n){return(n&&n.type)==="redirect"}function Vf(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function kd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function py(n){return Jp.has(n)}function my(n){return kd(n)&&py(n.status)&&n.headers.has("Location")}function xy(n){return Jv.has(n.toUpperCase())}function Ot(n){return Hv.has(n.toUpperCase())}function Sd(n){return new URLSearchParams(n).getAll("index").some(l=>l==="")}function Ra(n,l){let o=typeof l=="string"?Hn(l).search:l.search;if(n[n.length-1].route.index&&Sd(o||""))return n[n.length-1];let c=Bp(n);return c[c.length-1]}function Jf(n){let{formMethod:l,formAction:o,formEncType:c,text:i,formData:d,json:h}=n;if(!(!l||!o||!c)){if(i!=null)return{formMethod:l,formAction:o,formEncType:c,formData:void 0,json:void 0,text:i};if(d!=null)return{formMethod:l,formAction:o,formEncType:c,formData:d,json:void 0,text:void 0};if(h!==void 0)return{formMethod:l,formAction:o,formEncType:c,formData:void 0,json:h,text:void 0}}}function Qc(n,l){return l?{state:"loading",location:n,formMethod:l.formMethod,formAction:l.formAction,formEncType:l.formEncType,formData:l.formData,json:l.json,text:l.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gy(n,l){return{state:"submitting",location:n,formMethod:l.formMethod,formAction:l.formAction,formEncType:l.formEncType,formData:l.formData,json:l.json,text:l.text}}function Jl(n,l){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:l}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:l}}function vy(n,l){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:l?l.data:void 0}}function ln(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function yy(n,l){try{let o=n.sessionStorage.getItem(Qp);if(o){let c=JSON.parse(o);for(let[i,d]of Object.entries(c||{}))d&&Array.isArray(d)&&l.set(i,new Set(d||[]))}}catch{}}function by(n,l){if(l.size>0){let o={};for(let[c,i]of l)o[c]=[...i];try{n.sessionStorage.setItem(Qp,JSON.stringify(o))}catch(c){xt(!1,`Failed to save applied view transitions in sessionStorage (${c}).`)}}}function Qf(){let n,l,o=new Promise((c,i)=>{n=async d=>{c(d);try{await o}catch{}},l=async d=>{i(d);try{await o}catch{}}});return{promise:o,resolve:n,reject:l}}var gs=g.createContext(null);gs.displayName="DataRouter";var lo=g.createContext(null);lo.displayName="DataRouterState";var tm=g.createContext(!1);function wy(){return g.useContext(tm)}var Cd=g.createContext({isTransitioning:!1});Cd.displayName="ViewTransition";var rm=g.createContext(new Map);rm.displayName="Fetchers";var jy=g.createContext(null);jy.displayName="Await";var vr=g.createContext(null);vr.displayName="Navigation";var Ha=g.createContext(null);Ha.displayName="Location";var Wr=g.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Ed=g.createContext(null);Ed.displayName="RouteError";var nm="REACT_ROUTER_ERROR",Ny="REDIRECT",ky="ROUTE_ERROR_RESPONSE";function Sy(n){if(n.startsWith(`${nm}:${Ny}:{`))try{let l=JSON.parse(n.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Cy(n){if(n.startsWith(`${nm}:${ky}:{`))try{let l=JSON.parse(n.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new no(l.status,l.statusText,l.data)}catch{}}function Ey(n,{relative:l}={}){Je(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:c}=g.useContext(vr),{hash:i,pathname:d,search:h}=io(n,{relative:l}),x=d;return o!=="/"&&(x=d==="/"?o:$r([o,d])),c.createHref({pathname:x,search:h,hash:i})}function oo(){return g.useContext(Ha)!=null}function dn(){return Je(oo(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ha).location}var sm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lm(n){g.useContext(vr).static||g.useLayoutEffect(n)}function ao(){let{isDataRoute:n}=g.useContext(Wr);return n?Uy():Ty()}function Ty(){Je(oo(),"useNavigate() may be used only in the context of a <Router> component.");let n=g.useContext(gs),{basename:l,navigator:o}=g.useContext(vr),{matches:c}=g.useContext(Wr),{pathname:i}=dn(),d=JSON.stringify(wd(c)),h=g.useRef(!1);return lm(()=>{h.current=!0}),g.useCallback((f,m={})=>{if(xt(h.current,sm),!h.current)return;if(typeof f=="number"){o.go(f);return}let w=jd(f,JSON.parse(d),i,m.relative==="path");n==null&&l!=="/"&&(w.pathname=w.pathname==="/"?l:$r([l,w.pathname])),(m.replace?o.replace:o.push)(w,m.state,m)},[l,o,d,i,n])}var _y=g.createContext(null);function Ry(n){let l=g.useContext(Wr).outlet;return g.useMemo(()=>l&&g.createElement(_y.Provider,{value:n},l),[l,n])}function io(n,{relative:l}={}){let{matches:o}=g.useContext(Wr),{pathname:c}=dn(),i=JSON.stringify(wd(o));return g.useMemo(()=>jd(n,JSON.parse(i),c,l==="path"),[n,i,c,l])}function Py(n,l,o,c,i){Je(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=g.useContext(vr),{matches:h}=g.useContext(Wr),x=h[h.length-1],f=x?x.params:{},m=x?x.pathname:"/",w=x?x.pathnameBase:"/",b=x&&x.route;{let I=b&&b.path||"";am(m,!b||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let v=dn(),y;y=v;let N=y.pathname||"/",C=N;if(w!=="/"){let I=w.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(I.length).join("/")}let k=zn(n,{pathname:C});return xt(b||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),xt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Oy(k&&k.map(I=>Object.assign({},I,{params:Object.assign({},f,I.params),pathname:$r([w,d.encodeLocation?d.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?w:$r([w,d.encodeLocation?d.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),h,o,c,i)}function Ly(){let n=By(),l=eo(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,c="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:c},d={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:d},"ErrorBoundary")," or"," ",g.createElement("code",{style:d},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},l),o?g.createElement("pre",{style:i},o):null,h)}var Iy=g.createElement(Ly,null),om=class extends g.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,l){return l.location!==n.location||l.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:l.error,location:l.location,revalidation:n.revalidation||l.revalidation}}componentDidCatch(n,l){this.props.onError?this.props.onError(n,l):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const o=Cy(n.digest);o&&(n=o)}let l=n!==void 0?g.createElement(Wr.Provider,{value:this.props.routeContext},g.createElement(Ed.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?g.createElement(My,{error:n},l):l}};om.contextType=tm;var Yc=new WeakMap;function My({children:n,error:l}){let{basename:o}=g.useContext(vr);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let c=Sy(l.digest);if(c){let i=Yc.get(l);if(i)throw i;let d=Wp(c.location,o);if(Up&&!Yc.get(l))if(d.isExternal||c.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:c.replace}));throw Yc.set(l,h),h}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return n}function Dy({routeContext:n,match:l,children:o}){let c=g.useContext(gs);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),g.createElement(Wr.Provider,{value:n},o)}function Oy(n,l=[],o=null,c=null,i=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(l.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let d=n,h=o?.errors;if(h!=null){let w=d.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);Je(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,w+1))}let x=!1,f=-1;if(o)for(let w=0;w<d.length;w++){let b=d[w];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=w),b.route.id){let{loaderData:v,errors:y}=o,N=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!y||y[b.route.id]===void 0);if(b.route.lazy||N){x=!0,f>=0?d=d.slice(0,f+1):d=[d[0]];break}}}let m=o&&c?(w,b)=>{c(w,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:so(o.matches),errorInfo:b})}:void 0;return d.reduceRight((w,b,v)=>{let y,N=!1,C=null,k=null;o&&(y=h&&b.route.id?h[b.route.id]:void 0,C=b.route.errorElement||Iy,x&&(f<0&&v===0?(am("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):f===v&&(N=!0,k=b.route.hydrateFallbackElement||null)));let _=l.concat(d.slice(0,v+1)),I=()=>{let O;return y?O=C:N?O=k:b.route.Component?O=g.createElement(b.route.Component,null):b.route.element?O=b.route.element:O=w,g.createElement(Dy,{match:b,routeContext:{outlet:w,matches:_,isDataRoute:o!=null},children:O})};return o&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?g.createElement(om,{location:o.location,revalidation:o.revalidation,component:C,error:y,children:I(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:m}):I()},null)}function Td(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ay(n){let l=g.useContext(gs);return Je(l,Td(n)),l}function zy(n){let l=g.useContext(lo);return Je(l,Td(n)),l}function $y(n){let l=g.useContext(Wr);return Je(l,Td(n)),l}function _d(n){let l=$y(n),o=l.matches[l.matches.length-1];return Je(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function Fy(){return _d("useRouteId")}function By(){let n=g.useContext(Ed),l=zy("useRouteError"),o=_d("useRouteError");return n!==void 0?n:l.errors?.[o]}function Uy(){let{router:n}=Ay("useNavigate"),l=_d("useNavigate"),o=g.useRef(!1);return lm(()=>{o.current=!0}),g.useCallback(async(i,d={})=>{xt(o.current,sm),o.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:l,...d}))},[n,l])}var Yf={};function am(n,l,o){!l&&!Yf[n]&&(Yf[n]=!0,xt(!1,o))}var Gf={};function qf(n,l){!n&&!Gf[l]&&(Gf[l]=!0,console.warn(l))}var Wy="useOptimistic",Kf=Wa[Wy],Hy=()=>{};function Vy(n){return Kf?Kf(n):[n,Hy]}function Jy(n){let l={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&xt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(l,{element:g.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&xt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(l,{hydrateFallbackElement:g.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&xt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(l,{errorElement:g.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),l}var Qy=["HydrateFallback","hydrateFallbackElement"],Yy=class{constructor(){this.status="pending",this.promise=new Promise((n,l)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",n(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",l(o))}})}};function Gy({router:n,flushSync:l,onError:o,unstable_useTransitions:c}){c=wy()||c;let[d,h]=g.useState(n.state),[x,f]=Vy(d),[m,w]=g.useState(),[b,v]=g.useState({isTransitioning:!1}),[y,N]=g.useState(),[C,k]=g.useState(),[_,I]=g.useState(),O=g.useRef(new Map),V=g.useCallback((B,{deletedFetchers:Y,newErrors:ne,flushSync:oe,viewTransitionOpts:ve})=>{ne&&o&&Object.values(ne).forEach(q=>o(q,{location:B.location,params:B.matches[0]?.params??{},unstable_pattern:so(B.matches)})),B.fetchers.forEach((q,fe)=>{q.data!==void 0&&O.current.set(fe,q.data)}),Y.forEach(q=>O.current.delete(q)),qf(oe===!1||l!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let X=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(qf(ve==null||X,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ve||!X){l&&oe?l(()=>h(B)):c===!1?h(B):g.startTransition(()=>{c===!0&&f(q=>Xf(q,B)),h(B)});return}if(l&&oe){l(()=>{C&&(y?.resolve(),C.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation})});let q=n.window.document.startViewTransition(()=>{l(()=>h(B))});q.finished.finally(()=>{l(()=>{N(void 0),k(void 0),w(void 0),v({isTransitioning:!1})})}),l(()=>k(q));return}C?(y?.resolve(),C.skipTransition(),I({state:B,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation})):(w(B),v({isTransitioning:!0,flushSync:!1,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation}))},[n.window,l,C,y,c,f,o]);g.useLayoutEffect(()=>n.subscribe(V),[n,V]),g.useEffect(()=>{b.isTransitioning&&!b.flushSync&&N(new Yy)},[b]),g.useEffect(()=>{if(y&&m&&n.window){let B=m,Y=y.promise,ne=n.window.document.startViewTransition(async()=>{c===!1?h(B):g.startTransition(()=>{c===!0&&f(oe=>Xf(oe,B)),h(B)}),await Y});ne.finished.finally(()=>{N(void 0),k(void 0),w(void 0),v({isTransitioning:!1})}),k(ne)}},[m,y,n.window,c,f]),g.useEffect(()=>{y&&m&&x.location.key===m.location.key&&y.resolve()},[y,C,x.location,m]),g.useEffect(()=>{!b.isTransitioning&&_&&(w(_.state),v({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),I(void 0))},[b.isTransitioning,_]);let K=g.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:B=>n.navigate(B),push:(B,Y,ne)=>n.navigate(B,{state:Y,preventScrollReset:ne?.preventScrollReset}),replace:(B,Y,ne)=>n.navigate(B,{replace:!0,state:Y,preventScrollReset:ne?.preventScrollReset})}),[n]),F=n.basename||"/",S=g.useMemo(()=>({router:n,navigator:K,static:!1,basename:F,onError:o}),[n,K,F,o]);return g.createElement(g.Fragment,null,g.createElement(gs.Provider,{value:S},g.createElement(lo.Provider,{value:x},g.createElement(rm.Provider,{value:O.current},g.createElement(Cd.Provider,{value:b},g.createElement(Xy,{basename:F,location:x.location,navigationType:x.historyAction,navigator:K,unstable_useTransitions:c},g.createElement(qy,{routes:n.routes,future:n.future,state:x,onError:o})))))),null)}function Xf(n,l){return{...n,navigation:l.navigation.state!=="idle"?l.navigation:n.navigation,revalidation:l.revalidation!=="idle"?l.revalidation:n.revalidation,actionData:l.navigation.state!=="submitting"?l.actionData:n.actionData,fetchers:l.fetchers}}var qy=g.memo(Ky);function Ky({routes:n,future:l,state:o,onError:c}){return Py(n,void 0,o,c,l)}function im(n){return Ry(n.context)}function Xy({basename:n="/",children:l=null,location:o,navigationType:c="POP",navigator:i,static:d=!1,unstable_useTransitions:h}){Je(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=n.replace(/^\/*/,"/"),f=g.useMemo(()=>({basename:x,navigator:i,static:d,unstable_useTransitions:h,future:{}}),[x,i,d,h]);typeof o=="string"&&(o=Hn(o));let{pathname:m="/",search:w="",hash:b="",state:v=null,key:y="default"}=o,N=g.useMemo(()=>{let C=gr(m,x);return C==null?null:{location:{pathname:C,search:w,hash:b,state:v,key:y},navigationType:c}},[x,m,w,b,v,y,c]);return xt(N!=null,`<Router basename="${x}"> is not able to match the URL "${m}${w}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:g.createElement(vr.Provider,{value:f},g.createElement(Ha.Provider,{children:l,value:N}))}var Pa="get",La="application/x-www-form-urlencoded";function Va(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Zy(n){return Va(n)&&n.tagName.toLowerCase()==="button"}function e0(n){return Va(n)&&n.tagName.toLowerCase()==="form"}function t0(n){return Va(n)&&n.tagName.toLowerCase()==="input"}function r0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function n0(n,l){return n.button===0&&(!l||l==="_self")&&!r0(n)}function cd(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((l,o)=>{let c=n[o];return l.concat(Array.isArray(c)?c.map(i=>[o,i]):[[o,c]])},[]))}function s0(n,l){let o=cd(n);return l&&l.forEach((c,i)=>{o.has(i)||l.getAll(i).forEach(d=>{o.append(i,d)})}),o}var Na=null;function l0(){if(Na===null)try{new FormData(document.createElement("form"),0),Na=!1}catch{Na=!0}return Na}var o0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gc(n){return n!=null&&!o0.has(n)?(xt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${La}"`),null):n}function a0(n,l){let o,c,i,d,h;if(e0(n)){let x=n.getAttribute("action");c=x?gr(x,l):null,o=n.getAttribute("method")||Pa,i=Gc(n.getAttribute("enctype"))||La,d=new FormData(n)}else if(Zy(n)||t0(n)&&(n.type==="submit"||n.type==="image")){let x=n.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||x.getAttribute("action");if(c=f?gr(f,l):null,o=n.getAttribute("formmethod")||x.getAttribute("method")||Pa,i=Gc(n.getAttribute("formenctype"))||Gc(x.getAttribute("enctype"))||La,d=new FormData(x,n),!l0()){let{name:m,type:w,value:b}=n;if(w==="image"){let v=m?`${m}.`:"";d.append(`${v}x`,"0"),d.append(`${v}y`,"0")}else m&&d.append(m,b)}}else{if(Va(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Pa,c=null,i=La,h=n}return d&&i==="text/plain"&&(h=d,d=void 0),{action:c,method:o.toLowerCase(),encType:i,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rd(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function i0(n,l,o,c){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${c}`:i.pathname=`${i.pathname}.${c}`:i.pathname==="/"?i.pathname=`_root.${c}`:l&&gr(i.pathname,l)==="/"?i.pathname=`${l.replace(/\/$/,"")}/_root.${c}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${c}`,i}async function c0(n,l){if(n.id in l)return l[n.id];try{let o=await import(n.module);return l[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d0(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function u0(n,l,o){let c=await Promise.all(n.map(async i=>{let d=l.routes[i.route.id];if(d){let h=await c0(d,o);return h.links?h.links():[]}return[]}));return m0(c.flat(1).filter(d0).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zf(n,l,o,c,i,d){let h=(f,m)=>o[m]?f.route.id!==o[m].route.id:!0,x=(f,m)=>o[m].pathname!==f.pathname||o[m].route.path?.endsWith("*")&&o[m].params["*"]!==f.params["*"];return d==="assets"?l.filter((f,m)=>h(f,m)||x(f,m)):d==="data"?l.filter((f,m)=>{let w=c.routes[f.route.id];if(!w||!w.hasLoader)return!1;if(h(f,m)||x(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function h0(n,l,{includeHydrateFallback:o}={}){return f0(n.map(c=>{let i=l.routes[c.route.id];if(!i)return[];let d=[i.module];return i.clientActionModule&&(d=d.concat(i.clientActionModule)),i.clientLoaderModule&&(d=d.concat(i.clientLoaderModule)),o&&i.hydrateFallbackModule&&(d=d.concat(i.hydrateFallbackModule)),i.imports&&(d=d.concat(i.imports)),d}).flat(1))}function f0(n){return[...new Set(n)]}function p0(n){let l={},o=Object.keys(n).sort();for(let c of o)l[c]=n[c];return l}function m0(n,l){let o=new Set;return new Set(l),n.reduce((c,i)=>{let d=JSON.stringify(p0(i));return o.has(d)||(o.add(d),c.push({key:d,link:i})),c},[])}function cm(){let n=g.useContext(gs);return Rd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function x0(){let n=g.useContext(lo);return Rd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Pd=g.createContext(void 0);Pd.displayName="FrameworkContext";function dm(){let n=g.useContext(Pd);return Rd(n,"You must render this element inside a <HydratedRouter> element"),n}function g0(n,l){let o=g.useContext(Pd),[c,i]=g.useState(!1),[d,h]=g.useState(!1),{onFocus:x,onBlur:f,onMouseEnter:m,onMouseLeave:w,onTouchStart:b}=l,v=g.useRef(null);g.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let C=_=>{_.forEach(I=>{h(I.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return v.current&&k.observe(v.current),()=>{k.disconnect()}}},[n]),g.useEffect(()=>{if(c){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[c]);let y=()=>{i(!0)},N=()=>{i(!1),h(!1)};return o?n!=="intent"?[d,v,{}]:[d,v,{onFocus:Ql(x,y),onBlur:Ql(f,N),onMouseEnter:Ql(m,y),onMouseLeave:Ql(w,N),onTouchStart:Ql(b,y)}]:[!1,v,{}]}function Ql(n,l){return o=>{n&&n(o),o.defaultPrevented||l(o)}}function v0({page:n,...l}){let{router:o}=cm(),c=g.useMemo(()=>zn(o.routes,n,o.basename),[o.routes,n,o.basename]);return c?g.createElement(b0,{page:n,matches:c,...l}):null}function y0(n){let{manifest:l,routeModules:o}=dm(),[c,i]=g.useState([]);return g.useEffect(()=>{let d=!1;return u0(n,l,o).then(h=>{d||i(h)}),()=>{d=!0}},[n,l,o]),c}function b0({page:n,matches:l,...o}){let c=dn(),{future:i,manifest:d,routeModules:h}=dm(),{basename:x}=cm(),{loaderData:f,matches:m}=x0(),w=g.useMemo(()=>Zf(n,l,m,d,c,"data"),[n,l,m,d,c]),b=g.useMemo(()=>Zf(n,l,m,d,c,"assets"),[n,l,m,d,c]),v=g.useMemo(()=>{if(n===c.pathname+c.search+c.hash)return[];let C=new Set,k=!1;if(l.forEach(I=>{let O=d.routes[I.route.id];!O||!O.hasLoader||(!w.some(V=>V.route.id===I.route.id)&&I.route.id in f&&h[I.route.id]?.shouldRevalidate||O.hasClientLoader?k=!0:C.add(I.route.id))}),C.size===0)return[];let _=i0(n,x,i.unstable_trailingSlashAwareDataRequests,"data");return k&&C.size>0&&_.searchParams.set("_routes",l.filter(I=>C.has(I.route.id)).map(I=>I.route.id).join(",")),[_.pathname+_.search]},[x,i.unstable_trailingSlashAwareDataRequests,f,c,d,w,l,n,h]),y=g.useMemo(()=>h0(b,d),[b,d]),N=y0(b);return g.createElement(g.Fragment,null,v.map(C=>g.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...o})),y.map(C=>g.createElement("link",{key:C,rel:"modulepreload",href:C,...o})),N.map(({key:C,link:k})=>g.createElement("link",{key:C,nonce:o.nonce,...k,crossOrigin:k.crossOrigin??o.crossOrigin})))}function w0(...n){return l=>{n.forEach(o=>{typeof o=="function"?o(l):o!=null&&(o.current=l)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.13.0")}catch{}function N0(n,l){return qv({basename:l?.basename,getContext:l?.getContext,future:l?.future,history:hv({window:l?.window}),hydrationData:k0(),routes:n,mapRouteProperties:Jy,hydrationRouteProperties:Qy,dataStrategy:l?.dataStrategy,patchRoutesOnNavigation:l?.patchRoutesOnNavigation,window:l?.window,unstable_instrumentations:l?.unstable_instrumentations}).initialize()}function k0(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:S0(n.errors)}),n}function S0(n){if(!n)return null;let l=Object.entries(n),o={};for(let[c,i]of l)if(i&&i.__type==="RouteErrorResponse")o[c]=new no(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let d=window[i.__subType];if(typeof d=="function")try{let h=new d(i.message);h.stack="",o[c]=h}catch{}}if(o[c]==null){let d=new Error(i.message);d.stack="",o[c]=d}}else o[c]=i;return o}var um=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=g.forwardRef(function({onClick:l,discover:o="render",prefetch:c="none",relative:i,reloadDocument:d,replace:h,state:x,target:f,to:m,preventScrollReset:w,viewTransition:b,unstable_defaultShouldRevalidate:v,...y},N){let{basename:C,unstable_useTransitions:k}=g.useContext(vr),_=typeof m=="string"&&um.test(m),I=Wp(m,C);m=I.to;let O=Ey(m,{relative:i}),[V,K,F]=g0(c,y),S=T0(m,{replace:h,state:x,target:f,preventScrollReset:w,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:k});function B(ne){l&&l(ne),ne.defaultPrevented||S(ne)}let Y=g.createElement("a",{...y,...F,href:I.absoluteURL||O,onClick:I.isExternal||d?l:B,ref:w0(N,K),target:f,"data-discover":!_&&o==="render"?"true":void 0});return V&&!_?g.createElement(g.Fragment,null,Y,g.createElement(v0,{page:O})):Y});Ja.displayName="Link";var dd=g.forwardRef(function({"aria-current":l="page",caseSensitive:o=!1,className:c="",end:i=!1,style:d,to:h,viewTransition:x,children:f,...m},w){let b=io(h,{relative:m.relative}),v=dn(),y=g.useContext(lo),{navigator:N,basename:C}=g.useContext(vr),k=y!=null&&I0(b)&&x===!0,_=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,I=v.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(I=I.toLowerCase(),O=O?O.toLowerCase():null,_=_.toLowerCase()),O&&C&&(O=gr(O,C)||O);const V=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let K=I===_||!i&&I.startsWith(_)&&I.charAt(V)==="/",F=O!=null&&(O===_||!i&&O.startsWith(_)&&O.charAt(_.length)==="/"),S={isActive:K,isPending:F,isTransitioning:k},B=K?l:void 0,Y;typeof c=="function"?Y=c(S):Y=[c,K?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ne=typeof d=="function"?d(S):d;return g.createElement(Ja,{...m,"aria-current":B,className:Y,ref:w,style:ne,to:h,viewTransition:x},typeof f=="function"?f(S):f)});dd.displayName="NavLink";var C0=g.forwardRef(({discover:n="render",fetcherKey:l,navigate:o,reloadDocument:c,replace:i,state:d,method:h=Pa,action:x,onSubmit:f,relative:m,preventScrollReset:w,viewTransition:b,unstable_defaultShouldRevalidate:v,...y},N)=>{let{unstable_useTransitions:C}=g.useContext(vr),k=P0(),_=L0(x,{relative:m}),I=h.toLowerCase()==="get"?"get":"post",O=typeof x=="string"&&um.test(x),V=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let F=K.nativeEvent.submitter,S=F?.getAttribute("formmethod")||h,B=()=>k(F||K.currentTarget,{fetcherKey:l,method:S,navigate:o,replace:i,state:d,relative:m,preventScrollReset:w,viewTransition:b,unstable_defaultShouldRevalidate:v});C&&o!==!1?g.startTransition(()=>B()):B()};return g.createElement("form",{ref:N,method:I,action:_,onSubmit:c?f:V,...y,"data-discover":!O&&n==="render"?"true":void 0})});C0.displayName="Form";function E0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hm(n){let l=g.useContext(gs);return Je(l,E0(n)),l}function T0(n,{target:l,replace:o,state:c,preventScrollReset:i,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:x,unstable_useTransitions:f}={}){let m=ao(),w=dn(),b=io(n,{relative:d});return g.useCallback(v=>{if(n0(v,l)){v.preventDefault();let y=o!==void 0?o:Br(w)===Br(b),N=()=>m(n,{replace:y,state:c,preventScrollReset:i,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:x});f?g.startTransition(()=>N()):N()}},[w,m,b,o,c,l,n,i,d,h,x,f])}function vs(n){xt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let l=g.useRef(cd(n)),o=g.useRef(!1),c=dn(),i=g.useMemo(()=>s0(c.search,o.current?null:l.current),[c.search]),d=ao(),h=g.useCallback((x,f)=>{const m=cd(typeof x=="function"?x(new URLSearchParams(i)):x);o.current=!0,d("?"+m,f)},[d,i]);return[i,h]}var _0=0,R0=()=>`__${String(++_0)}__`;function P0(){let{router:n}=hm("useSubmit"),{basename:l}=g.useContext(vr),o=Fy(),c=n.fetch,i=n.navigate;return g.useCallback(async(d,h={})=>{let{action:x,method:f,encType:m,formData:w,body:b}=a0(d,l);if(h.navigate===!1){let v=h.fetcherKey||R0();await c(v,o,h.action||x,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:b,formMethod:h.method||f,formEncType:h.encType||m,flushSync:h.flushSync})}else await i(h.action||x,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:b,formMethod:h.method||f,formEncType:h.encType||m,replace:h.replace,state:h.state,fromRouteId:o,flushSync:h.flushSync,viewTransition:h.viewTransition})},[c,i,l,o])}function L0(n,{relative:l}={}){let{basename:o}=g.useContext(vr),c=g.useContext(Wr);Je(c,"useFormAction must be used inside a RouteContext");let[i]=c.matches.slice(-1),d={...io(n||".",{relative:l})},h=dn();if(n==null){d.search=h.search;let x=new URLSearchParams(d.search),f=x.getAll("index");if(f.some(w=>w==="")){x.delete("index"),f.filter(b=>b).forEach(b=>x.append("index",b));let w=x.toString();d.search=w?`?${w}`:""}}return(!n||n===".")&&i.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(d.pathname=d.pathname==="/"?o:$r([o,d.pathname])),Br(d)}function I0(n,{relative:l}={}){let o=g.useContext(Cd);Je(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=hm("useViewTransitionState"),i=io(n,{relative:l});if(!o.isTransitioning)return!1;let d=gr(o.currentLocation.pathname,c)||o.currentLocation.pathname,h=gr(o.nextLocation.pathname,c)||o.nextLocation.pathname;return Da(i.pathname,h)!=null||Da(i.pathname,d)!=null}function M0(){return g.useEffect(()=>{const n=localStorage.getItem("theme");(n==="dark"||!n&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark-theme")},[]),t.jsx(im,{})}const Me="/api";function ze(){const n=localStorage.getItem("authToken"),l={"Content-Type":"application/json"};return n&&(l.Authorization=`Bearer ${n}`),l}const me={login:async(n,l)=>{const o=await fetch(`${Me}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:l})});if(!o.ok)throw new Error("Invalid credentials");return o.json()},logout:async()=>{const n=localStorage.getItem("authToken");await fetch(`${Me}/logout`,{method:"POST",headers:{Authorization:`Bearer ${n}`}})},me:async()=>{const n=await fetch(`${Me}/me`,{headers:ze()});if(!n.ok)throw new Error("Not authenticated");return n.json()},authStatus:async()=>(await fetch(`${Me}/auth-status`,{headers:ze()})).json(),getRules:async()=>{const n=await fetch(`${Me}/rules`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch rules");return n.json()},getRule:async n=>{const l=await fetch(`${Me}/rules/${n}`,{headers:ze()});if(!l.ok)throw new Error("Failed to fetch rule");return l.json()},createRule:async n=>{const l=await fetch(`${Me}/rules`,{method:"POST",headers:ze(),body:JSON.stringify(n)});if(!l.ok){const o=await l.json();throw new Error(o.error||"Failed to create rule")}return l.json()},updateRule:async(n,l)=>{const o=await fetch(`${Me}/rules/${n}`,{method:"PUT",headers:ze(),body:JSON.stringify(l)});if(!o.ok)throw new Error("Failed to update rule");return o.json()},deleteRule:async n=>{if(!(await fetch(`${Me}/rules/${n}`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to delete rule")},getWebhookLogs:async()=>{const n=await fetch(`${Me}/webhook-logs`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch logs");return n.json()},getWebhookLog:async n=>{const l=await fetch(`${Me}/webhook-logs/${n}`,{headers:ze()});if(!l.ok)throw new Error("Failed to fetch log");return l.json()},clearWebhookLogs:async()=>{if(!(await fetch(`${Me}/webhook-logs`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to clear logs")},getQueueHistory:async(n=1,l,o=50)=>{let c=`${Me}/message-queue/history?page=${n}&limit=${o}`;l&&(c+=`&status=${encodeURIComponent(l)}`);const i=await fetch(c,{headers:ze()});if(!i.ok)throw new Error("Failed to fetch queue");return i.json()},getQueueStatus:async()=>{const n=await fetch(`${Me}/message-queue/status`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch queue status");return n.json()},testSend:async(n,l,o)=>(await fetch(`${Me}/test-send`,{method:"POST",headers:ze(),body:JSON.stringify({chatId:n,message:l,botToken:o})})).json(),saveBotToken:async n=>{const l=await fetch(`${Me}/bot-token`,{method:"POST",headers:ze(),body:JSON.stringify({botToken:n})});if(!l.ok)throw new Error("Failed to save token");return l.json()},getPolls:async()=>{const n=await fetch(`${Me}/polls`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch polls");return n.json()},createPoll:async n=>{const l=await fetch(`${Me}/polls`,{method:"POST",headers:ze(),body:JSON.stringify(n)});if(!l.ok){const o=await l.json();throw new Error(o.error||"Failed to create poll")}return l.json()},updatePoll:async(n,l)=>{const o=await fetch(`${Me}/polls/${n}`,{method:"PUT",headers:ze(),body:JSON.stringify(l)});if(!o.ok)throw new Error("Failed to update poll");return o.json()},deletePoll:async n=>{if(!(await fetch(`${Me}/polls/${n}`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to delete poll")},runPoll:async n=>{const l=await fetch(`${Me}/polls/${n}/run`,{method:"POST",headers:ze()});if(!l.ok){const o=await l.json();throw new Error(o.error||"Failed to run poll")}return l.json()},getPollHistory:async n=>{let l=`${Me}/polls/history?limit=100`;n&&(l+=`&pollId=${n}`);const o=await fetch(l,{headers:ze()});if(!o.ok)throw new Error("Failed to fetch poll history");return o.json()},clearPollHistory:async()=>{if(!(await fetch(`${Me}/polls/history`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to clear poll history")},getIntegrations:async()=>{const n=await fetch(`${Me}/integrations`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch integrations");return n.json()},getIntegration:async n=>{const l=await fetch(`${Me}/integrations/${n}`,{headers:ze()});if(!l.ok)throw new Error("Failed to fetch integration");return l.json()},createIntegration:async n=>{const l=await fetch(`${Me}/integrations`,{method:"POST",headers:ze(),body:JSON.stringify(n)});if(!l.ok)throw new Error("Failed to create integration");return l.json()},updateIntegration:async(n,l)=>{const o=await fetch(`${Me}/integrations/${n}`,{method:"PUT",headers:ze(),body:JSON.stringify(l)});if(!o.ok)throw new Error("Failed to update integration");return o.json()},deleteIntegration:async n=>{if(!(await fetch(`${Me}/integrations/${n}`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to delete integration")},runIntegration:async(n,l)=>{const o=await fetch(`${Me}/integrations/${n}/run`,{method:"POST",headers:ze(),body:JSON.stringify({testData:l})});if(!o.ok)throw new Error("Failed to run integration");return o.json()},getIntegrationHistory:async()=>{const n=await fetch(`${Me}/integrations/history/all`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch integration history");return n.json()},clearIntegrationHistory:async()=>{if(!(await fetch(`${Me}/integrations/history/all`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to clear history")},getBots:async()=>{const n=await fetch(`${Me}/bots`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch bots");return n.json()},getBot:async n=>{const l=await fetch(`${Me}/bots/${n}`,{headers:ze()});if(!l.ok)throw new Error("Failed to fetch bot");return l.json()},createBot:async n=>{const l=await fetch(`${Me}/bots`,{method:"POST",headers:ze(),body:JSON.stringify(n)});if(!l.ok){const o=await l.json();throw new Error(o.error||"Failed to create bot")}return l.json()},updateBot:async(n,l)=>{const o=await fetch(`${Me}/bots/${n}`,{method:"PUT",headers:ze(),body:JSON.stringify(l)});if(!o.ok)throw new Error("Failed to update bot");return o.json()},deleteBot:async n=>{if(!(await fetch(`${Me}/bots/${n}`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to delete bot")},runBot:async n=>{const l=await fetch(`${Me}/bots/${n}/run`,{method:"POST",headers:ze()});if(!l.ok){const o=await l.json();throw new Error(o.error||"Failed to run bot")}return l.json()},getBotHistory:async n=>{let l=`${Me}/bots/history?limit=100`;n&&(l+=`&botId=${n}`);const o=await fetch(l,{headers:ze()});if(!o.ok)throw new Error("Failed to fetch bot history");return o.json()},clearBotHistory:async()=>{if(!(await fetch(`${Me}/bots/history`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to clear bot history")},getAccountBotToken:async()=>{const n=await fetch(`${Me}/account-bot-token`,{headers:ze()});if(!n.ok)throw new Error("Failed to load account bot token");return n.json()},saveAccountBotToken:async n=>{const l=await fetch(`${Me}/account-bot-token`,{method:"POST",headers:ze(),body:JSON.stringify({botToken:n})});if(!l.ok){const o=await l.json();throw new Error(o.error||"Failed to save account bot token")}return l.json()},getReminders:async()=>{const n=await fetch(`${Me}/reminders`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch reminders");return n.json()},updateReminder:async(n,l)=>{const o=await fetch(`${Me}/reminders/${n}`,{method:"PUT",headers:ze(),body:JSON.stringify(l)});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.error||"Failed to update reminder")}return o.json()},deleteReminder:async n=>{const l=await fetch(`${Me}/reminders/${n}`,{method:"DELETE",headers:ze()});if(!l.ok){const o=await l.json().catch(()=>({}));throw new Error(o.error||"Failed to delete reminder")}},getReminderHistory:async n=>{const l=await fetch(`${Me}/reminders/${n}/history`,{headers:ze()});if(!l.ok)throw new Error("Failed to fetch reminder history");return l.json()},getAccounts:async()=>{const n=await fetch(`${Me}/accounts`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch accounts");return n.json()},createAccount:async(n,l)=>{const o=await fetch(`${Me}/accounts`,{method:"POST",headers:ze(),body:JSON.stringify({name:n,cloneOptions:l})});if(!o.ok){const c=await o.json();throw new Error(c.error||"Failed to create account")}return o.json()},deleteAccount:async n=>{const l=await fetch(`${Me}/accounts/${n}`,{method:"DELETE",headers:ze()});if(!l.ok){const o=await l.json().catch(()=>({}));throw new Error(o.error||"Failed to delete account")}return l.json()},getUsers:async()=>{const n=await fetch(`${Me}/users`,{headers:ze()});if(!n.ok)throw new Error("Failed to fetch users");return n.json()},createUser:async(n,l,o,c,i,d)=>{const h=await fetch(`${Me}/users`,{method:"POST",headers:ze(),body:JSON.stringify({username:n,password:l,account_id:o,role:c,name:i,photo_data:d})});if(!h.ok){const x=await h.json();throw new Error(x.error||"Failed to create user")}return h.json()},updateMe:async n=>{const l=await fetch(`${Me}/users/me`,{method:"PUT",headers:ze(),body:JSON.stringify(n)});if(!l.ok){const o=await l.json();throw new Error(o.error||"Failed to update profile")}return l.json()},updateUser:async(n,l)=>{const o=await fetch(`${Me}/users/${n}`,{method:"PUT",headers:ze(),body:JSON.stringify(l)});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.error||"Failed to update user")}return o.json()},deleteUser:async n=>{if(!(await fetch(`${Me}/users/${n}`,{method:"DELETE",headers:ze()})).ok)throw new Error("Failed to delete user")},changePassword:async(n,l,o)=>{const c=await fetch(`${Me}/users/${n}/password`,{method:"PUT",headers:ze(),body:JSON.stringify({oldPassword:l,password:o})});if(!c.ok){const i=await c.json();throw new Error(i.error||"Failed to change password")}return c.json()}},fm=g.createContext(void 0);function D0({children:n}){const[l,o]=g.useState(!1),[c,i]=g.useState(null),[d,h]=g.useState(!0);g.useEffect(()=>{f()},[]);const x=async(b,v=8e3)=>{let y=null;const N=new Promise((C,k)=>{y=setTimeout(()=>k(new Error("Auth request timeout")),v)});try{return await Promise.race([b,N])}finally{y&&clearTimeout(y)}},f=async()=>{if(!localStorage.getItem("authToken")){h(!1);return}try{const v=await x(me.authStatus());if(v.authenticated){const y=await x(me.me());o(!0),i({username:y.username,name:y.name??null,photo_data:y.photo_data??null,userId:y.userId??null,accountId:y.accountId??null,accountSlug:y.accountSlug??null,role:y.role==="auditor"?"auditor":"administrator",isVadmin:!!y.isVadmin})}else localStorage.removeItem("authToken"),o(!1),i(null),v?.redirect&&window.location.pathname!==v.redirect&&window.location.assign(v.redirect)}catch{localStorage.removeItem("authToken"),o(!1),i(null)}finally{h(!1)}},m=async(b,v)=>{const y=await me.login(b,v);localStorage.setItem("authToken",y.token);const N=await me.me();o(!0),i({username:N.username,name:N.name??null,photo_data:N.photo_data??null,userId:N.userId??null,accountId:N.accountId??null,accountSlug:N.accountSlug??null,role:N.role==="auditor"?"auditor":"administrator",isVadmin:!!N.isVadmin})},w=async()=>{await me.logout(),localStorage.removeItem("authToken"),o(!1),i(null)};return t.jsx(fm.Provider,{value:{isAuthenticated:l,user:c,login:m,logout:w,isLoading:d},children:n})}function Hr(){const n=g.useContext(fm);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A0=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,o,c)=>c?c.toUpperCase():o.toLowerCase()),ep=n=>{const l=A0(n);return l.charAt(0).toUpperCase()+l.slice(1)},pm=(...n)=>n.filter((l,o,c)=>!!l&&l.trim()!==""&&c.indexOf(l)===o).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=g.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:i="",children:d,iconNode:h,...x},f)=>g.createElement("svg",{ref:f,...z0,width:l,height:l,stroke:n,strokeWidth:c?Number(o)*24/Number(l):o,className:pm("lucide",i),...x},[...h.map(([m,w])=>g.createElement(m,w)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(n,l)=>{const o=g.forwardRef(({className:c,...i},d)=>g.createElement($0,{ref:d,iconNode:l,className:pm(`lucide-${O0(ep(n))}`,`lucide-${n}`,c),...i}));return o.displayName=ep(n),o};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],B0=Ue("activity",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],W0=Ue("bell",U0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Qa=Ue("bot",H0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],J0=Ue("building",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Y0=Ue("calendar",Q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ud=Ue("check-check",G0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tp=Ue("check",q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],X0=Ue("chevron-right",K0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eb=Ue("circle-check",Z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],rb=Ue("clock",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ms=Ue("copy",nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ya=Ue("download",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mm=Ue("eye-off",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xm=Ue("eye",ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ib=Ue("file-text",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],db=Ue("flask-conical",cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ft=Ue("info",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],fb=Ue("key",hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ld=Ue("link",pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],rp=Ue("list-checks",mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],np=Ue("lock",xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],sp=Ue("log-out",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],yb=Ue("message-circle",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],gm=Ue("message-square",bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],jb=Ue("moon",wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],el=Ue("pencil",Nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Id=Ue("play",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tr=Ue("plus",Sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Eb=Ue("power-off",Cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],_b=Ue("power",Tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yr=Ue("refresh-cw",Rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],vm=Ue("repeat-2",Pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],lp=Ue("repeat",Lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mb=Ue("save",Ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ga=Ue("search",Db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ab=Ue("send",Ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ym=Ue("settings",zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fb=Ue("shield",$b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ub=Ue("sun",Bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Pr=Ue("trash-2",Wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vb=Ue("triangle-alert",Hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],co=Ue("upload",Jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Ia=Ue("user-round",Qb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],op=Ue("users",Yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qa=Ue("x",Gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kb=Ue("zap",qb),ap=[{text:"> initializing VadminLink v1.0 ",delay:300},{text:"> loading webhook router  ok",delay:1200},{text:"> polling scheduler online  ok",delay:2e3},{text:"> HTTP integrations ready  ok",delay:2800},{text:"> Telegram bot engine  ok",delay:3600},{text:"> all systems operational",delay:4400},{text:"> awaiting authentication_",delay:5200}];function Xb(){const[n,l]=g.useState(0);return g.useEffect(()=>{const o=ap.map((c,i)=>setTimeout(()=>l(i+1),c.delay));return()=>o.forEach(clearTimeout)},[]),t.jsx("div",{className:"intro-viewport","aria-hidden":"true",children:t.jsx("div",{className:"intro-lines",children:ap.slice(0,n).map((o,c)=>t.jsxs("div",{className:`intro-line ${c===n-1?"intro-line-active":""}`,children:[t.jsx("span",{className:"intro-text",children:o.text}),c===n-1&&t.jsx("span",{className:"intro-cursor"})]},c))})})}function Zb(){const[n,l]=g.useState(""),[o,c]=g.useState(""),[i,d]=g.useState(""),[h,x]=g.useState(!1),[f,m]=g.useState(!1),{login:w}=Hr(),b=ao(),v=async y=>{y.preventDefault(),d(""),m(!0);try{await w(n,o),b("/")}catch{d("   "),c("")}finally{m(!1)}};return t.jsxs("div",{className:"login-page",children:[t.jsx("div",{className:"login-bg-orb login-bg-orb-1"}),t.jsx("div",{className:"login-bg-orb login-bg-orb-2"}),t.jsx("div",{className:"login-bg-orb login-bg-orb-3"}),t.jsx("div",{className:"login-grid-overlay"}),t.jsx(Xb,{}),t.jsxs("div",{className:"login-container",children:[t.jsxs("div",{className:"login-header",children:[t.jsx("div",{className:"login-logo",children:t.jsx(Ab,{className:"login-logo-icon"})}),t.jsxs("h1",{className:"login-title",children:[t.jsx("span",{className:"login-title-text",children:"Vadmin"}),t.jsx("span",{className:"login-title-highlight",children:"Link"})]}),t.jsx("p",{className:"login-subtitle",children:"Integration Platform"})]}),t.jsxs("div",{className:"login-card",children:[t.jsxs("div",{className:"login-card-header",children:[t.jsx(Fb,{className:"login-card-icon"}),t.jsx("span",{children:""})]}),i&&t.jsxs("div",{className:"login-error",children:[t.jsx("span",{className:"login-error-icon",children:""}),i]}),t.jsxs("form",{onSubmit:v,className:"login-form",children:[t.jsxs("div",{className:"login-field",children:[t.jsx("label",{htmlFor:"username",className:"login-label",children:""}),t.jsx("div",{className:"login-input-wrapper",children:t.jsx("input",{type:"text",id:"username",value:n,onChange:y=>l(y.target.value),placeholder:" ",required:!0,className:"login-input",autoComplete:"username"})})]}),t.jsxs("div",{className:"login-field",children:[t.jsx("label",{htmlFor:"password",className:"login-label",children:""}),t.jsxs("div",{className:"login-input-wrapper",children:[t.jsx("input",{type:h?"text":"password",id:"password",value:o,onChange:y=>c(y.target.value),placeholder:" ",required:!0,className:"login-input login-input-password",autoComplete:"current-password"}),t.jsx("button",{type:"button",onClick:()=>x(!h),className:"login-password-toggle",children:h?t.jsx(mm,{size:18}):t.jsx(xm,{size:18})})]})]}),t.jsx("button",{type:"submit",disabled:f,className:"login-submit",children:f?t.jsx("span",{className:"login-spinner"}):t.jsxs(t.Fragment,{children:[t.jsx(Kb,{size:18}),""]})})]})]}),t.jsxs("div",{className:"login-footer",children:[t.jsx("span",{children:" 2026 VadminLink"}),t.jsx("span",{className:"login-footer-dot",children:""}),t.jsx("span",{children:"Secure Access"})]})]})]})}function ew({onClose:n}){const{user:l}=Hr(),[o,c]=g.useState(""),[i,d]=g.useState(""),[h,x]=g.useState(""),[f,m]=g.useState(null),w=async b=>{if(b.preventDefault(),m(null),i!==h){m({text:"   ",type:"error"});return}if(l?.username==="vadmin"){m({text:" vadmin      .   .",type:"error"});return}try{await me.changePassword(l.userId,o,i),m({text:"  ",type:"success"}),setTimeout(()=>n(),1500)}catch(v){m({text:v.message||"  ",type:"error"})}};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:n,children:t.jsxs("div",{className:"w-full max-w-md rounded-lg border border-[hsl(var(--border)_/_0.7)] bg-[hsl(var(--card)_/_0.95)] shadow-2xl backdrop-blur-md",onClick:b=>b.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-[hsl(var(--border))] p-6",children:[t.jsx("h2",{className:"flex items-center gap-2 text-xl font-semibold",children:"  "}),t.jsx("button",{onClick:n,className:"rounded-full p-1 transition-colors hover:bg-[hsl(var(--accent))]",children:t.jsx(qa,{className:"h-5 w-5"})})]}),t.jsxs("form",{onSubmit:w,className:"p-6",children:[f&&t.jsx("div",{className:`mb-4 animate-fade-in rounded border p-3 text-sm ${f.type==="success"?"border-[hsl(var(--success)_/_0.3)] bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"border-[hsl(var(--destructive)_/_0.2)] bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:f.text}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"oldPassword",className:"mb-2 block text-sm font-medium",children:" "}),t.jsx("input",{type:"password",id:"oldPassword",value:o,onChange:b=>c(b.target.value),placeholder:"",required:!0,className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 transition-all focus:border-[hsl(var(--ring))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring)_/_0.2)]"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"newPassword",className:"mb-2 block text-sm font-medium",children:" "}),t.jsx("input",{type:"password",id:"newPassword",value:i,onChange:b=>d(b.target.value),placeholder:"",required:!0,className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 transition-all focus:border-[hsl(var(--ring))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring)_/_0.2)]"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"confirmPassword",className:"mb-2 block text-sm font-medium",children:"  "}),t.jsx("input",{type:"password",id:"confirmPassword",value:h,onChange:b=>x(b.target.value),placeholder:"",required:!0,className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 transition-all focus:border-[hsl(var(--ring))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring)_/_0.2)]"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"submit",className:"flex-1 rounded bg-[hsl(var(--primary))] px-4 py-2 font-semibold text-[hsl(var(--primary-foreground))] transition-all hover:bg-[hsl(var(--primary)_/_0.9)]",children:" "}),t.jsx("button",{type:"button",onClick:n,className:"flex-1 rounded bg-[hsl(var(--secondary))] px-4 py-2 font-semibold text-[hsl(var(--secondary-foreground))] transition-all hover:bg-[hsl(var(--accent))]",children:""})]})]})]})})}function tw(){const[n,l]=g.useState(!1),[o,c]=g.useState(""),[i,d]=g.useState([]),[h,x]=g.useState(0),[f,m]=g.useState(!1),[w,b]=g.useState([]),[v,y]=g.useState([]),[N,C]=g.useState([]),k=g.useRef(null),_=g.useRef(null),I=ao(),O=g.useCallback(async()=>{if(w.length===0||v.length===0||N.length===0){m(!0);try{const[S,B,Y]=await Promise.all([me.getRules(),me.getPolls(),me.getBots()]);b(S),y(B),C(Y)}catch(S){console.error("Failed to load search data:",S)}finally{m(!1)}}},[w.length,v.length,N.length]);g.useEffect(()=>{if(!o.trim()){d([]);return}const S=o.toLowerCase(),B=w.filter(oe=>oe.name?.toLowerCase().includes(S)||oe.condition?.toLowerCase().includes(S)).slice(0,5).map(oe=>({id:oe.id,type:"rule",name:oe.name,description:oe.condition,enabled:oe.enabled})),Y=v.filter(oe=>oe.name?.toLowerCase().includes(S)||oe.url?.toLowerCase().includes(S)).slice(0,5).map(oe=>({id:oe.id,type:"poll",name:oe.name,description:oe.url,enabled:oe.enabled})),ne=N.filter(oe=>oe.name?.toLowerCase().includes(S)||oe.pollQuestion?.toLowerCase().includes(S)).slice(0,5).map(oe=>({id:oe.id,type:"bot",name:oe.name,description:oe.messageType==="poll"?` ${oe.pollQuestion||""}`:` ${(oe.messageText||"").slice(0,50)}`,enabled:oe.enabled}));d([...B,...Y,...ne]),x(0)},[o,w,v,N]),g.useEffect(()=>{const S=B=>{B.key==="/"&&!n&&document.activeElement?.tagName!=="INPUT"&&document.activeElement?.tagName!=="TEXTAREA"&&(B.preventDefault(),k.current?.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),g.useEffect(()=>{const S=B=>{_.current&&!_.current.contains(B.target)&&l(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),g.useEffect(()=>{n&&O()},[n,O]);const V=S=>{S.key==="Escape"?(l(!1),c(""),k.current?.blur()):S.key==="ArrowDown"?(S.preventDefault(),x(B=>Math.min(B+1,i.length-1))):S.key==="ArrowUp"?(S.preventDefault(),x(B=>Math.max(B-1,0))):S.key==="Enter"&&i[h]&&(S.preventDefault(),K(i[h]))},K=S=>{l(!1),c(""),S.type==="rule"?I(`/?select=${S.id}`):S.type==="bot"?I(`/bots?select=${S.id}`):I(`/polling?select=${S.id}`)},F=S=>{l(!1),c(""),I(S)};return t.jsxs("div",{ref:_,className:"topbar-search-container",children:[t.jsxs("div",{className:`topbar-search ${n?"topbar-search-focused":""}`,children:[t.jsx(Ga,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))]"}),t.jsx("input",{ref:k,type:"text",value:o,onChange:S=>c(S.target.value),onFocus:()=>l(!0),onKeyDown:V,placeholder:"...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-[hsl(var(--muted-foreground))]"}),o?t.jsx("button",{onClick:()=>c(""),className:"text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]",children:t.jsx(qa,{className:"h-4 w-4"})}):t.jsx("kbd",{className:"rounded bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[10px] font-medium text-[hsl(var(--muted-foreground))]",children:"/"})]}),n&&t.jsx("div",{className:"topbar-search-dropdown",children:f?t.jsx("div",{className:"flex items-center justify-center py-6",children:t.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-[hsl(var(--primary))] border-t-transparent"})}):o&&i.length===0?t.jsx("div",{className:"py-6 text-center text-sm text-[hsl(var(--muted-foreground))]",children:"  "}):o?t.jsxs("div",{className:"p-2",children:[i.filter(S=>S.type==="rule").length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"px-2 py-1 text-[10px] font-medium uppercase tracking-wide text-[hsl(var(--muted-foreground))]",children:"Webhook"}),i.filter(S=>S.type==="rule").map(S=>{const B=i.indexOf(S);return t.jsxs("button",{onClick:()=>K(S),className:`flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left transition-colors ${h===B?"bg-[hsl(var(--accent))]":"hover:bg-[hsl(var(--accent)_/_0.5)]"}`,children:[t.jsx(rp,{className:"h-4 w-4 shrink-0 text-[hsl(var(--primary))]"}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"truncate text-sm font-medium",children:S.name}),t.jsx("span",{className:`shrink-0 rounded px-1 py-0.5 text-[9px] ${S.enabled?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--muted))] text-[hsl(var(--muted-foreground))]"}`,children:S.enabled?"":""})]}),t.jsx("div",{className:"truncate text-xs text-[hsl(var(--muted-foreground))]",children:S.description})]})]},`rule-${S.id}`)})]}),i.filter(S=>S.type==="poll").length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-1 px-2 py-1 text-[10px] font-medium uppercase tracking-wide text-[hsl(var(--muted-foreground))]",children:""}),i.filter(S=>S.type==="poll").map(S=>{const B=i.indexOf(S);return t.jsxs("button",{onClick:()=>K(S),className:`flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left transition-colors ${h===B?"bg-[hsl(var(--accent))]":"hover:bg-[hsl(var(--accent)_/_0.5)]"}`,children:[t.jsx(lp,{className:"h-4 w-4 shrink-0 text-[hsl(var(--primary))]"}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"truncate text-sm font-medium",children:S.name}),t.jsx("span",{className:`shrink-0 rounded px-1 py-0.5 text-[9px] ${S.enabled?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--muted))] text-[hsl(var(--muted-foreground))]"}`,children:S.enabled?"":""})]}),t.jsx("div",{className:"truncate text-xs text-[hsl(var(--muted-foreground))]",children:S.description})]})]},`poll-${S.id}`)})]})]}):t.jsxs("div",{className:"p-2",children:[t.jsx("div",{className:"px-2 py-1 text-[10px] font-medium uppercase tracking-wide text-[hsl(var(--muted-foreground))]",children:" "}),t.jsxs("button",{onClick:()=>F("/?create=true"),className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors hover:bg-[hsl(var(--accent))]",children:[t.jsx(rp,{className:"h-4 w-4 text-[hsl(var(--primary))]"}),t.jsx("span",{children:" Webhook"})]}),t.jsxs("button",{onClick:()=>F("/polling?create=true"),className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors hover:bg-[hsl(var(--accent))]",children:[t.jsx(lp,{className:"h-4 w-4 text-[hsl(var(--primary))]"}),t.jsx("span",{children:" "})]}),t.jsxs("button",{onClick:()=>F("/bots?create=true"),className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors hover:bg-[hsl(var(--accent))]",children:[t.jsx(Qa,{className:"h-4 w-4 text-[hsl(var(--primary))]"}),t.jsx("span",{children:" "})]}),t.jsxs("button",{onClick:()=>F("/history"),className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors hover:bg-[hsl(var(--accent))]",children:[t.jsx(ib,{className:"h-4 w-4 text-[hsl(var(--primary))]"}),t.jsx("span",{children:" "})]})]})})]})}function Vn({items:n=[]}){return t.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:t.jsx("ol",{className:"flex items-center space-x-2 text-sm",children:n.map((l,o)=>t.jsxs(g.Fragment,{children:[o>0&&t.jsx(X0,{className:"flex-shrink-0 mx-1 h-4 w-4 text-[hsl(var(--muted-foreground))]"}),l.path&&!l.active?t.jsx("li",{children:t.jsx(Ja,{to:l.path,className:"text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] transition-colors",children:l.label})}):t.jsx("li",{className:"text-[hsl(var(--foreground))] font-medium",children:l.label})]},o))})})}function rw(){const[n,l]=g.useState([]),[o,c]=g.useState(null),[i,d]=g.useState(!0);g.useEffect(()=>{h()},[]);const h=async()=>{try{d(!0);const m=await me.getWebhookLogs();l(m)}catch(m){console.error(m)}finally{d(!1)}},x=async()=>{if(confirm(" ,     ?"))try{await me.clearWebhookLogs(),l([]),c(null)}catch(m){console.error(m)}},f=async m=>{try{const w=await me.getWebhookLog(m);c(w)}catch(w){console.error(w)}};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:"  "}),t.jsx("div",{className:"mt-1",children:t.jsx(Vn,{items:[{label:"",path:"/"},{label:"",active:!0}]})})]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:h,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})}),t.jsx("button",{onClick:x,className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsxs("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[n.length," "]})]}),i?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):n.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:" "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:"Webhook"}),t.jsx("th",{className:"px-2 py-2",children:"/"}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:n.map(m=>{const w=m.telegram_results?.filter(v=>v.success).map(v=>v.ruleName).filter((v,y,N)=>v&&N.indexOf(v)===y)||[],b=w.length>0?w[0]:m.matched>0?`${m.matched} Webhook`:" ";return t.jsxs("tr",{onClick:()=>f(m.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${o?.id===m.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-xs",children:m.matched>0?"":""}),t.jsxs("span",{className:"font-medium text-xs truncate max-w-[150px]",title:w.join(", ")||b,children:[b,w.length>1&&t.jsxs("span",{className:"text-[hsl(var(--muted-foreground))]",children:[" +",w.length-1]})]})]})}),t.jsx("td",{className:"px-2 py-2 text-xs",children:new Date(m.timestamp).toLocaleString("ru-RU")}),t.jsx("td",{className:"px-2 py-2",children:t.jsxs("span",{className:`rounded px-1.5 py-0.5 text-[10px] ${m.status==="matched"?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:[m.matched,"/",m.total_rules]})})]},m.id)})})]})})]})}),t.jsx("div",{className:"split-right",children:o?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"  "}),t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"ID:"})," ",t.jsx("code",{children:o.id})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"/:"})," ",new Date(o.timestamp).toLocaleString("ru-RU")]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:" Webhook:"})," ",o.matched,"  ",o.total_rules]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"Payload"}),t.jsx("div",{className:"panel max-h-96 overflow-auto",children:t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs",children:JSON.stringify(o.payload,null,2)})})]}),o.telegram_results&&o.telegram_results.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"   Telegram"}),t.jsx("div",{className:"panel space-y-2",children:o.telegram_results.map((m,w)=>t.jsxs("div",{className:"border-b border-[hsl(var(--border))] pb-2 last:border-0",children:[m.ruleName&&t.jsxs("div",{className:"mb-1",children:[t.jsx("strong",{children:"Webhook:"})," ",t.jsx("span",{className:"font-medium",children:m.ruleName}),m.ruleId&&t.jsxs("code",{className:"ml-2 text-xs text-[hsl(var(--muted-foreground))]",children:["#",m.ruleId]})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Chat ID:"})," ",t.jsx("code",{children:m.chatId})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{className:`rounded px-2 py-1 text-xs ${m.success?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:m.success?" ":" "})]}),m.error&&t.jsxs("div",{className:"mt-1",children:[t.jsx("strong",{children:":"}),t.jsx("pre",{className:"mt-1 whitespace-pre-wrap rounded bg-[hsl(var(--destructive)_/_0.1)] p-2 text-xs",children:JSON.stringify(m.error,null,2)})]})]},w))})]})]}):t.jsx("p",{className:"py-20 text-center text-[hsl(var(--muted-foreground))]",children:"       "})})]})]})}function nw(){const[n,l]=g.useState([]),[o,c]=g.useState(null),[i,d]=g.useState(null),[h,x]=g.useState(!0),[f,m]=g.useState(""),[w,b]=g.useState(1);g.useEffect(()=>{v(),y()},[f,w]);const v=async()=>{try{x(!0);const C=await me.getQueueHistory(w,f);l(C.messages||[]),d(C.pagination||null)}catch(C){console.error(C)}finally{x(!1)}},y=async()=>{try{const C=await me.getQueueStatus();c(C)}catch(C){console.error(C)}},N=C=>{const _={pending:{bg:"bg-orange-500",text:"text-white",label:" "},processing:{bg:"bg-blue-500",text:"text-white",label:" "},sent:{bg:"bg-green-500",text:"text-white",label:" "},failed:{bg:"bg-red-500",text:"text-white",label:" "}}[C]||{bg:"bg-gray-500",text:"text-white",label:C};return t.jsx("span",{className:`rounded px-2 py-1 text-xs ${_.bg} ${_.text}`,children:_.label})};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:"    Telegram"}),t.jsx("div",{className:"mt-1",children:t.jsx(Vn,{items:[{label:"",path:"/"},{label:"  Telegram",active:!0}]})})]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:f,onChange:C=>{m(C.target.value),b(1)},className:"rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 text-sm",children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:"pending",children:""}),t.jsx("option",{value:"processing",children:""}),t.jsx("option",{value:"sent",children:""}),t.jsx("option",{value:"failed",children:""})]}),t.jsx("button",{onClick:v,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})})]})]}),o&&t.jsxs("div",{className:"grid grid-cols-4 gap-4 p-6 queue-stats-sticky",children:[t.jsxs("div",{className:"panel",children:[t.jsx("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("div",{className:"text-2xl font-semibold",children:o.total||0})]}),t.jsxs("div",{className:"panel",children:[t.jsx("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("div",{className:"text-2xl font-semibold text-orange-500",children:o.stats?.pending||0})]}),t.jsxs("div",{className:"panel",children:[t.jsx("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("div",{className:"text-2xl font-semibold text-green-500",children:o.stats?.sent||0})]}),t.jsxs("div",{className:"panel",children:[t.jsx("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("div",{className:"text-2xl font-semibold text-red-500",children:o.stats?.failed||0})]})]}),t.jsx("div",{className:"p-6",children:h?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):n.length===0?t.jsx("p",{className:"py-20 text-center text-[hsl(var(--muted-foreground))]",children:"  "}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"table-basic w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b-2 border-[hsl(var(--border))] text-left",children:[t.jsx("th",{className:"text-sm font-semibold",children:"ID"}),t.jsx("th",{className:"text-sm font-semibold",children:""}),t.jsx("th",{className:"text-sm font-semibold",children:"Chat ID"}),t.jsx("th",{className:"text-sm font-semibold",children:""}),t.jsx("th",{className:"text-sm font-semibold",children:""}),t.jsx("th",{className:"text-sm font-semibold",children:""})]})}),t.jsx("tbody",{children:n.map(C=>t.jsxs("tr",{className:"border-b border-[hsl(var(--border))]",children:[t.jsx("td",{children:t.jsx("code",{className:"text-xs",children:C.id})}),t.jsx("td",{children:N(C.status)}),t.jsx("td",{children:t.jsx("code",{className:"text-xs",children:C.chatId})}),t.jsx("td",{className:"max-w-xs",children:t.jsx("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap text-sm",title:C.messageTextFull,children:C.messageText})}),t.jsx("td",{className:"text-sm",children:t.jsxs("span",{className:C.attempts>=C.maxAttempts?"text-red-500":"",children:[C.attempts,"/",C.maxAttempts]})}),t.jsx("td",{className:"text-xs",children:new Date(C.createdAt).toLocaleString("ru-RU")})]},C.id))})]}),i&&i.totalPages>1&&t.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[" ",i.page,"  ",i.totalPages,"   ",i.total]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",className:"rounded border border-[hsl(var(--border))] px-3 py-1.5 text-xs disabled:opacity-50",onClick:()=>b(C=>Math.max(1,C-1)),disabled:i.page<=1,children:""}),t.jsx("button",{type:"button",className:"rounded border border-[hsl(var(--border))] px-3 py-1.5 text-xs disabled:opacity-50",onClick:()=>b(C=>Math.min(i.totalPages,C+1)),disabled:i.page>=i.totalPages,children:""})]})]})]})})]})}function sw(){const[n,l]=g.useState([]),[o,c]=g.useState([]),[i,d]=g.useState(!0),[h,x]=g.useState(null),f=g.useMemo(()=>n.find(y=>y.id===h)||null,[n,h]),m=y=>{if(!y)return"";try{return JSON.stringify(JSON.parse(y),null,2)}catch{return y}},w=g.useMemo(()=>{const y={};return o.forEach(N=>{y[N.id]=N.name}),y},[o]),b=async()=>{try{d(!0);const[y,N]=await Promise.all([me.getPollHistory(),me.getPolls()]);l(y),c(N)}catch(y){console.error(y)}finally{d(!1)}},v=async()=>{if(confirm(" ,      ?"))try{await me.clearPollHistory(),l([]),x(null)}catch(y){console.error(y)}};return g.useEffect(()=>{b()},[]),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:"  "}),t.jsx("div",{className:"mt-1",children:t.jsx(Vn,{items:[{label:"",path:"/"},{label:". ",active:!0}]})})]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:b,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})}),t.jsx("button",{onClick:v,className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsxs("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[n.length," "]})]}),i?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):n.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:" "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:"/"}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:n.map(y=>t.jsxs("tr",{onClick:()=>x(y.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${h===y.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-xs",children:y.matched?"":""}),t.jsx("span",{className:"font-medium text-xs truncate max-w-[150px]",title:w[y.poll_id]||`#${y.poll_id}`,children:w[y.poll_id]||`#${y.poll_id}`})]})}),t.jsx("td",{className:"px-2 py-2 text-xs",children:new Date(y.created_at).toLocaleString("ru-RU")}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] ${y.status==="success"?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:y.status==="success"?"":""})})]},y.id))})]})})]})}),t.jsx("div",{className:"split-right",children:f?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"  "}),t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{className:"font-medium",children:w[f.poll_id]||""}),t.jsxs("code",{className:"ml-2 text-xs text-[hsl(var(--muted-foreground))]",children:["#",f.poll_id]})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"/:"})," ",new Date(f.created_at).toLocaleString("ru-RU")]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{className:`rounded px-2 py-1 text-xs ${f.status==="success"?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:f.status==="success"?"":""})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",f.matched?" ":" "]}),t.jsxs("div",{children:[t.jsx("strong",{children:"  Telegram:"})," ",f.sent?" ":" "]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:""}),t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",f.request_method||""]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"URL:"})," ",t.jsx("code",{className:"break-all",children:f.request_url||""})]}),f.request_headers&&t.jsxs("div",{className:"mt-3",children:[t.jsx("strong",{children:"Headers:"}),t.jsx("pre",{className:"mt-1 max-h-96 overflow-auto whitespace-pre-wrap break-words text-xs",children:m(f.request_headers)})]}),f.request_body&&t.jsxs("div",{className:"mt-3",children:[t.jsx("strong",{children:"Body:"}),t.jsx("pre",{className:"mt-1 max-h-96 overflow-auto whitespace-pre-wrap break-words text-xs",children:m(f.request_body)})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:""}),t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"HTTP :"})," ",f.response_status??""]}),f.response_headers&&t.jsxs("div",{className:"mt-3",children:[t.jsx("strong",{children:"Headers:"}),t.jsx("pre",{className:"mt-1 max-h-96 overflow-auto whitespace-pre-wrap break-words text-xs",children:m(f.response_headers)})]}),f.response_snippet&&t.jsxs("div",{className:"mt-3",children:[t.jsx("strong",{children:"Body ():"}),t.jsx("pre",{className:"mt-1 max-h-96 overflow-auto whitespace-pre-wrap break-words text-xs",children:m(f.response_snippet)})]})]})]}),f.error_message&&t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--destructive))]",children:""}),t.jsx("div",{className:"panel border-[hsl(var(--destructive)_/_0.3)] bg-[hsl(var(--destructive)_/_0.05)]",children:t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-[hsl(var(--destructive))]",children:f.error_message})})]})]}):t.jsx("p",{className:"py-20 text-center text-[hsl(var(--muted-foreground))]",children:"       "})})]})]})}function lw(){const[n,l]=g.useState([]),[o,c]=g.useState([]),[i,d]=g.useState(!0),[h,x]=g.useState(null),f=g.useMemo(()=>n.find(y=>y.id===h)||null,[n,h]),m=y=>{if(!y)return"";try{return JSON.stringify(JSON.parse(y),null,2)}catch{return y}},w=g.useMemo(()=>{const y={};return o.forEach(N=>{y[N.id]=N.name}),y},[o]),b=async()=>{try{d(!0);const[y,N]=await Promise.all([me.getIntegrationHistory(),me.getIntegrations()]);l(y),c(N)}catch(y){console.error(y)}finally{d(!1)}},v=async()=>{if(confirm("  ?"))try{await me.clearIntegrationHistory(),l([]),x(null)}catch(y){console.error(y)}};return g.useEffect(()=>{b()},[]),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("div",{children:t.jsx("h2",{className:"text-xl font-semibold",children:"  "})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:b,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})}),t.jsx("button",{onClick:v,className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsxs("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[n.length," "]})]}),i?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):n.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:" "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:"/"}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:n.map(y=>t.jsxs("tr",{onClick:()=>x(y.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${h===y.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-xs",children:y.trigger_type==="webhook"?"":y.trigger_type==="polling"?"":""}),t.jsx("span",{className:"font-medium text-xs truncate max-w-[150px]",title:w[y.integration_id]||`#${y.integration_id}`,children:w[y.integration_id]||`#${y.integration_id}`})]})}),t.jsx("td",{className:"px-2 py-2 text-xs",children:new Date(y.created_at).toLocaleString("ru-RU")}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] ${y.status==="success"?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":y.status==="skipped"?"bg-[hsl(var(--muted)_/_0.15)] text-[hsl(var(--muted-foreground))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:y.status==="success"?"":y.status==="skipped"?"":""})})]},y.id))})]})})]})}),t.jsx("div",{className:"split-right",children:f?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:""}),t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{className:"font-medium",children:w[f.integration_id]||""}),t.jsxs("code",{className:"ml-2 text-xs text-[hsl(var(--muted-foreground))]",children:["#",f.integration_id]})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",new Date(f.created_at).toLocaleString("ru-RU")]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",f.trigger_type==="webhook"?" Webhook":f.trigger_type==="polling"?" Polling":" "]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{className:`rounded px-2 py-1 text-xs ${f.status==="success"?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":f.status==="skipped"?"bg-[hsl(var(--muted)_/_0.15)] text-[hsl(var(--muted-foreground))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:f.status==="success"?"":f.status==="skipped"?"":""})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Telegram:"})," ",f.telegram_sent?" ":" "]})]})]}),f.trigger_data&&t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:" "}),t.jsx("div",{className:"panel max-h-96 overflow-auto",children:t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs",children:m(f.trigger_data)})})]}),f.action_request&&t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"Action "}),t.jsx("div",{className:"panel max-h-96 overflow-auto",children:t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs",children:m(f.action_request)})})]}),f.action_response&&t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:["Action  (HTTP ",f.action_status,")"]}),t.jsx("div",{className:"panel max-h-96 overflow-auto",children:t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs",children:m(f.action_response)})})]}),f.error_message&&f.status!=="skipped"&&t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--destructive))]",children:""}),t.jsx("div",{className:"panel border-[hsl(var(--destructive)_/_0.3)] bg-[hsl(var(--destructive)_/_0.05)]",children:t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-[hsl(var(--destructive))]",children:f.error_message})})]})]}):t.jsx("p",{className:"py-20 text-center text-[hsl(var(--muted-foreground))]",children:"   "})})]})]})}function ow(){const[n,l]=g.useState([]),[o,c]=g.useState([]),[i,d]=g.useState(!0),[h,x]=g.useState(null),f=g.useMemo(()=>n.find(v=>v.id===h)||null,[n,h]),m=g.useMemo(()=>{const v={};return o.forEach(y=>{v[y.id]=y.name}),v},[o]),w=async()=>{try{d(!0);const[v,y]=await Promise.all([me.getBotHistory(),me.getBots()]);l(v),c(y)}catch(v){console.error(v)}finally{d(!1)}},b=async()=>{if(confirm(" ,      ?"))try{await me.clearBotHistory(),l([]),x(null)}catch(v){console.error(v)}};return g.useEffect(()=>{w()},[]),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:"  "}),t.jsx("div",{className:"mt-1",children:t.jsx(Vn,{items:[{label:"",path:"/"},{label:". ",active:!0}]})})]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:w,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})}),t.jsx("button",{onClick:b,className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsxs("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[n.length," "]})]}),i?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):n.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:" "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:"/"}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:n.map(v=>t.jsxs("tr",{onClick:()=>x(v.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${h===v.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-xs",children:v.message_type==="poll"?"":""}),t.jsx("span",{className:"font-medium text-xs truncate max-w-[150px]",title:m[v.bot_id]||`#${v.bot_id}`,children:m[v.bot_id]||`#${v.bot_id}`})]})}),t.jsx("td",{className:"px-2 py-2 text-xs",children:new Date(v.created_at).toLocaleString("ru-RU")}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] ${v.status==="success"?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:v.status==="success"?"":""})})]},v.id))})]})})]})}),t.jsx("div",{className:"split-right",children:f?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"  "}),t.jsxs("div",{style:{padding:"16px"},className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{className:"font-medium",children:m[f.bot_id]||""}),t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)] text-xs",children:["#",f.bot_id]})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"/:"})," ",new Date(f.created_at).toLocaleString("ru-RU")]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:`rounded text-xs ${f.status==="success"?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:f.status==="success"?" ":" "})]}),t.jsxs("div",{children:[t.jsx("strong",{children:" :"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:"rounded bg-[hsl(var(--muted)_/_0.3)] text-xs",children:f.message_type==="poll"?" ":" "})]})]})]}),f.error_message&&t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--destructive))]",children:""}),t.jsx("div",{style:{padding:"16px"},className:"rounded-lg border border-[hsl(var(--destructive)_/_0.3)] bg-[hsl(var(--destructive)_/_0.05)]",children:t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-[hsl(var(--destructive))]",children:f.error_message})})]})]}):t.jsx("p",{className:"py-20 text-center text-[hsl(var(--muted-foreground))]",children:"       "})})]})]})}const bm=[{key:"overview",label:""},{key:"history",label:"Webhook "},{key:"queue",label:" Telegram"},{key:"polling-history",label:" "},{key:"integration-history",label:" "},{key:"bot-history",label:" "}],aw={totalRules:0,activeRules:0,polls:0,activePolls:0,integrations:0,activeIntegrations:0,bots:0,activeBots:0,queueTotal:0,queuePending:0};function iw(n){const l="overview";if(!n)return l;const o=n;return bm.some(c=>c.key===o)?o:l}function cw(){const[n,l]=vs(),[o,c]=g.useState(!0),[i,d]=g.useState(aw),[h,x]=g.useState([]),f=g.useMemo(()=>iw(n.get("tab")),[n]);g.useEffect(()=>{if(!n.get("tab")){const N=new URLSearchParams(n);N.set("tab","overview"),l(N,{replace:!0})}},[n,l]);const m=g.useCallback(async()=>{c(!0);try{const[N,C,k,_,I,O,V,K,F]=await Promise.all([me.getRules().catch(()=>[]),me.getPolls().catch(()=>[]),me.getIntegrations().catch(()=>[]),me.getBots().catch(()=>[]),me.getWebhookLogs().catch(()=>[]),me.getQueueStatus().catch(()=>({total:0,pending:0})),me.getPollHistory().catch(()=>[]),me.getIntegrationHistory().catch(()=>[]),me.getBotHistory().catch(()=>[])]),S=Array.isArray(N)?N:[],B=Array.isArray(C)?C:[],Y=Array.isArray(k)?k:[],ne=Array.isArray(_)?_:[],oe=Array.isArray(I)?I:[],ve=Array.isArray(V)?V:[],X=Array.isArray(K)?K:[],q=Array.isArray(F)?F:[];d({totalRules:S.length,activeRules:S.filter(G=>G?.enabled).length,polls:B.length,activePolls:B.filter(G=>G?.enabled).length,integrations:Y.length,activeIntegrations:Y.filter(G=>G?.enabled).length,bots:ne.length,activeBots:ne.filter(G=>G?.enabled).length,queueTotal:Number(O?.total??0),queuePending:Number(O?.pending??0)});const fe=[...oe.slice(0,5).map(G=>({id:`webhook-${G.id}`,source:"Webhook",title:G.status==="ok"?"Webhook ":"Webhook  ",details:`: ${G.matched??0}/${G.total_rules??0}`,timestamp:G.timestamp,status:G.status==="ok"?"ok":"error"})),...ve.slice(0,5).map(G=>({id:`poll-${G.id}`,source:"",title:`: ${G.status??"unknown"}`,details:G.request_url||G.response_snippet||" ",timestamp:G.created_at,status:G.status==="success"?"ok":G.status==="error"?"error":"info"})),...X.slice(0,5).map(G=>({id:`integration-${G.id}`,source:"",title:`: ${G.status??"unknown"}`,details:G.error_message||`: ${G.trigger_type??"n/a"}`,timestamp:G.created_at,status:G.status==="success"?"ok":G.status==="error"?"error":"info"})),...q.slice(0,5).map(G=>({id:`bot-${G.id}`,source:"",title:`: ${G.status??"unknown"}`,details:G.error_message||`: ${G.message_type??"n/a"}`,timestamp:G.created_at,status:G.status==="success"?"ok":G.status==="error"?"error":"info"}))].filter(G=>G.timestamp).sort((G,xe)=>new Date(xe.timestamp).getTime()-new Date(G.timestamp).getTime()).slice(0,12);x(fe)}finally{c(!1)}},[]);g.useEffect(()=>{let N=!0;const C=async()=>{N&&await m()};C();const k=setInterval(C,3e4);return()=>{N=!1,clearInterval(k)}},[m]);const w=N=>{const C=new URLSearchParams(n);C.set("tab",N),l(C)},b=g.useMemo(()=>i.queuePending>20?{text:" ",tone:"warn"}:i.queuePending>0?{text:" ",tone:"ok"}:{text:"",tone:"ok"},[i.queuePending]),v=()=>t.jsxs("section",{className:"dashboard-home",children:[t.jsxs("div",{className:"dashboard-hero",children:[t.jsxs("div",{children:[t.jsx("p",{className:"dashboard-hero-kicker",children:" "}),t.jsx("h1",{children:"    "}),t.jsx("p",{className:"dashboard-hero-subtitle",children:"   webhook,  Telegram,  ,   ."})]}),t.jsx("button",{type:"button",className:"icon-button",onClick:m,title:" ",children:t.jsx(yr,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"dashboard-stat-grid",children:[t.jsxs("article",{className:"dashboard-stat-card dashboard-tone-primary",children:[t.jsxs("div",{className:"dashboard-stat-head",children:[t.jsx("span",{children:"Webhook"}),t.jsx("div",{className:"dashboard-stat-icon",children:t.jsx(gm,{className:"h-5 w-5"})})]}),t.jsx("p",{className:"dashboard-stat-value",children:o?"...":i.totalRules}),t.jsxs("p",{className:"dashboard-stat-subtitle",children:[i.activeRules," "]})]}),t.jsxs("article",{className:"dashboard-stat-card dashboard-tone-info",children:[t.jsxs("div",{className:"dashboard-stat-head",children:[t.jsx("span",{children:""}),t.jsx("div",{className:"dashboard-stat-icon",children:t.jsx(Ld,{className:"h-5 w-5"})})]}),t.jsx("p",{className:"dashboard-stat-value",children:o?"...":i.integrations}),t.jsxs("p",{className:"dashboard-stat-subtitle",children:[i.activeIntegrations," "]})]}),t.jsxs("article",{className:"dashboard-stat-card dashboard-tone-success",children:[t.jsxs("div",{className:"dashboard-stat-head",children:[t.jsx("span",{children:""}),t.jsx("div",{className:"dashboard-stat-icon",children:t.jsx(vm,{className:"h-5 w-5"})})]}),t.jsx("p",{className:"dashboard-stat-value",children:o?"...":i.polls}),t.jsxs("p",{className:"dashboard-stat-subtitle",children:[i.activePolls," "]})]}),t.jsxs("article",{className:"dashboard-stat-card dashboard-tone-info",children:[t.jsxs("div",{className:"dashboard-stat-head",children:[t.jsx("span",{children:""}),t.jsx("div",{className:"dashboard-stat-icon",children:t.jsx(Qa,{className:"h-5 w-5"})})]}),t.jsx("p",{className:"dashboard-stat-value",children:o?"...":i.bots}),t.jsxs("p",{className:"dashboard-stat-subtitle",children:[i.activeBots," "]})]})]}),t.jsxs("article",{className:"panel dashboard-block",children:[t.jsx("div",{className:"dashboard-block-title",children:" "}),t.jsxs("div",{className:"dashboard-status-list",children:[t.jsxs("div",{className:"dashboard-status-item",children:[t.jsx("span",{children:" "}),t.jsxs("span",{className:`dashboard-badge ${b.tone==="warn"?"dashboard-badge-warn":"dashboard-badge-ok"}`,children:[b.tone==="warn"?t.jsx(Vb,{className:"h-3.5 w-3.5"}):t.jsx(eb,{className:"h-3.5 w-3.5"}),b.text]})]}),t.jsxs("div",{className:"dashboard-status-item",children:[t.jsx("span",{children:" "}),t.jsx("strong",{children:i.queuePending})]}),t.jsxs("div",{className:"dashboard-status-item",children:[t.jsx("span",{children:"Webhook "}),t.jsx("strong",{children:i.activeRules})]})]})]}),t.jsxs("article",{className:"panel dashboard-block",children:[t.jsx("div",{className:"dashboard-block-title",children:" "}),o?t.jsx("div",{className:"dashboard-empty",children:"..."}):h.length===0?t.jsx("div",{className:"dashboard-empty",children:"  "}):t.jsx("div",{className:"dashboard-events-list",children:h.map(N=>t.jsxs("div",{className:`dashboard-event-item ${N.status==="error"?"dashboard-event-error":""}`,children:[t.jsxs("div",{className:"dashboard-event-title-row",children:[t.jsx("strong",{children:N.source}),t.jsx("span",{className:`dashboard-badge ${N.status==="error"?"dashboard-badge-error":N.status==="ok"?"dashboard-badge-success":"dashboard-badge-info"}`,children:N.status.toUpperCase()})]}),t.jsx("p",{children:N.title}),t.jsx("p",{children:N.details}),t.jsx("time",{children:new Date(N.timestamp).toLocaleString("ru-RU")})]},N.id))})]})]}),y=()=>f==="overview"?v():f==="history"?t.jsx(rw,{}):f==="queue"?t.jsx(nw,{}):f==="polling-history"?t.jsx(sw,{}):f==="integration-history"?t.jsx(lw,{}):t.jsx(ow,{});return t.jsxs("div",{className:"operations-page",children:[t.jsxs("div",{className:"card operations-tabs-card",children:[t.jsx("div",{className:"card-header",children:t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("h2",{className:"text-xl font-semibold",children:""})})}),t.jsx("div",{className:"card-body",children:t.jsx("div",{className:"operations-tabbar",children:bm.map(N=>t.jsx("button",{type:"button",onClick:()=>w(N.key),className:`operations-tab-btn ${f===N.key?"operations-tab-btn-active":""}`,children:N.label},N.key))})})]}),t.jsx("div",{className:"operations-content",children:y()})]})}function dw(){const{user:n,logout:l,isLoading:o}=Hr(),c=ao(),i=dn(),[,d]=vs(),[h,x]=g.useState(!1),[f,m]=g.useState(!1),w=g.useRef(null),b="1.0.375",v=g.useMemo(()=>{const O=new Date("2026-02-21T10:48:24.122Z");return Number.isNaN(O.getTime())?"2026-02-21T10:48:24.122Z":O.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},[]),y=g.useMemo(()=>n?.role==="auditor"?!1:i.pathname==="/"||i.pathname==="/polling"||i.pathname==="/users"||i.pathname==="/integrations"||i.pathname==="/bots",[i.pathname,n?.role]),N=g.useMemo(()=>{const O=[{path:"/",label:"",icon:t.jsx(B0,{className:"h-4 w-4"})},{path:"/rules",label:"Webhook",icon:t.jsx(gm,{className:"h-4 w-4"})},{path:"/polling",label:"",icon:t.jsx(vm,{className:"h-4 w-4"})},{path:"/integrations",label:"",icon:t.jsx(Ld,{className:"h-4 w-4"})},{path:"/bots",label:"",icon:t.jsx(Qa,{className:"h-4 w-4"})},{path:"/reminders",label:"",icon:t.jsx(rb,{className:"h-4 w-4"})}];return n?.isVadmin?[...O,{path:"/accounts",label:"",icon:t.jsx(J0,{className:"h-4 w-4"})},{path:"/users",label:"",icon:t.jsx(op,{className:"h-4 w-4"})}]:[...O,{path:"/users",label:"",icon:t.jsx(op,{className:"h-4 w-4"})}]},[n?.isVadmin]),C=g.useMemo(()=>{const O=N.find(V=>V.path===i.pathname);return i.pathname==="/"?[{label:"",active:!0}]:[{label:"",path:"/"},{label:O?.label??"",active:!0}]},[i.pathname,N]);g.useEffect(()=>{const O=V=>{w.current&&!w.current.contains(V.target)&&m(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const k=()=>{document.documentElement.classList.toggle("dark-theme");const O=document.documentElement.classList.contains("dark-theme");localStorage.setItem("theme",O?"dark":"light")},_=()=>{y&&d({create:"true"})},I=async()=>{await l(),c("/login")};return o||!n?t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):t.jsxs("div",{className:"app-shell",children:[t.jsxs("aside",{className:"sidebar","aria-label":" ",children:[t.jsx("div",{className:"sidebar-brand",children:t.jsx("img",{src:"/vadminlink-logo.png.jpg",alt:"VadminLink"})}),t.jsx("nav",{className:"sidebar-nav","aria-label":" ",children:N.map(O=>t.jsxs(dd,{to:O.path,className:({isActive:V})=>`sidebar-item ${V?"sidebar-item-active":""}`,children:[O.icon,t.jsx("span",{children:O.label})]},O.path))}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{onClick:()=>x(!0),className:"sidebar-item",children:[t.jsx(np,{className:"h-4 w-4"}),t.jsx("span",{children:""})]}),t.jsxs("button",{onClick:I,className:"sidebar-item",children:[t.jsx(sp,{className:"h-4 w-4"}),t.jsx("span",{children:""})]})]})]}),t.jsxs("div",{className:"app-page",children:[t.jsxs("header",{className:"topbar",children:[t.jsx("div",{className:"topbar-title",children:" VadminLink"}),t.jsx(tw,{}),t.jsxs("div",{className:"topbar-actions",children:[t.jsx("button",{className:`icon-button ${y?"":"opacity-50 cursor-not-allowed"}`,title:y?" ":"    ",onClick:_,disabled:!y,"aria-label":y?" ":" ",children:t.jsx(Tr,{className:"h-4 w-4"})}),t.jsx("button",{className:"icon-button desktop-only-btn",title:"","aria-label":"",children:t.jsx(W0,{className:"h-4 w-4"})}),t.jsx(dd,{to:"/testing",className:({isActive:O})=>`icon-button ${O?"bg-[hsl(var(--accent))]":""}`,title:"",children:t.jsx(db,{className:"h-4 w-4"})}),t.jsxs("div",{ref:w,style:{position:"relative"},children:[t.jsx("button",{className:"icon-button desktop-only-btn",title:" ",onClick:()=>m(O=>!O),"aria-label":" ","aria-expanded":f,"aria-controls":"version-panel",children:t.jsx(Ft,{className:"h-4 w-4"})}),f&&t.jsxs("div",{className:"version-panel",id:"version-panel",role:"dialog","aria-label":"  ",children:[t.jsx("div",{className:"version-panel-title",children:"VadminLink"}),t.jsxs("div",{className:"version-panel-row",children:[t.jsx("span",{className:"version-panel-label",children:""}),t.jsx("span",{className:"version-panel-value",children:b})]}),t.jsxs("div",{className:"version-panel-row",children:[t.jsx("span",{className:"version-panel-label",children:""}),t.jsx("span",{className:"version-panel-value",children:v})]})]})]}),t.jsxs("button",{onClick:k,className:"icon-button","aria-label":" ",children:[t.jsx(Ub,{className:"h-4 w-4 dark-theme:hidden"}),t.jsx(jb,{className:"hidden h-4 w-4 dark-theme:block"})]}),t.jsx("button",{onClick:()=>x(!0),className:"icon-button mobile-only-btn",title:"",children:t.jsx(np,{className:"h-4 w-4"})}),t.jsx("button",{onClick:I,className:"icon-button mobile-only-btn",title:"",children:t.jsx(sp,{className:"h-4 w-4"})}),t.jsx("div",{className:"ml-2 text-sm text-[hsl(var(--muted-foreground))] user-info-desktop",children:n.username})]})]}),t.jsx("main",{className:"content-area",id:"main-content",children:t.jsxs("div",{className:"content-inner",children:[t.jsx(Vn,{items:C}),i.pathname==="/"?t.jsx(cw,{}):t.jsx(im,{})]})})]}),h&&t.jsx(ew,{onClose:()=>x(!1)})]})}const uw=n=>!n.enabled&&(String(n.name||"").toLowerCase().startsWith("")||String(n.chatId||"").trim()==="0");function hw({rules:n,selectedId:l,onSelect:o,loading:c}){return c?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):n.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:"Webhook  "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:n.map(i=>t.jsxs("tr",{onClick:()=>o(i.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${l===i.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2 font-medium",children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx("span",{children:i.name}),uw(i)&&t.jsx("span",{className:"rounded-full bg-[hsl(var(--muted))] px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide text-[hsl(var(--muted-foreground))]",children:""})]})}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("code",{className:"text-xs text-[hsl(var(--muted-foreground))] line-clamp-1",children:i.condition})}),t.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:i.enabled?" ":" "})]},i.id))})]})})}function fw({ruleId:n,canEdit:l=!1,onToggleEnabled:o,toggling:c=!1}){const[i,d]=g.useState(null),[h,x]=g.useState(!0);g.useEffect(()=>{f()},[n]);const f=async()=>{try{x(!0);const m=await me.getRule(n);d(m)}catch(m){console.error(m)}finally{x(!1)}};return h?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):i?t.jsx("div",{children:t.jsxs("div",{className:"entity-view",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:"  Webhook"}),t.jsxs("div",{className:"entity-view-card",children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"ID:"})," ",t.jsx("code",{children:i.id})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",i.name]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:`rounded text-xs ${i.enabled?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:i.enabled?" ":" "})]}),i.updated_at&&t.jsxs("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[t.jsx("strong",{children:" :"})," ",new Date(i.updated_at).toLocaleString("ru-RU")]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsx("div",{className:"entity-view-card-muted overflow-x-auto",children:t.jsx("code",{className:"block whitespace-pre-wrap break-words text-sm",children:i.condition})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" "}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"ID /:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:i.chatId})]}),i.botToken&&t.jsxs("div",{children:[t.jsx("strong",{children:" :"})," ",t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:[i.botToken.substring(0,10),"..."]})]}),i.messageTemplate?t.jsxs("div",{children:[t.jsx("strong",{children:" :"}),t.jsx("div",{style:{padding:"16px",marginTop:"8px"},className:"whitespace-pre-wrap rounded-lg bg-[hsl(var(--muted)_/_0.3)] text-sm",children:i.messageTemplate})]}):t.jsx("div",{className:"text-[hsl(var(--muted-foreground))]",children:"   "})]})]})]})}):t.jsx("div",{className:"text-center text-[hsl(var(--destructive))]",children:"Webhook  "})}function on(n,l,{checkForDefaultPrevented:o=!0}={}){return function(i){if(n?.(i),o===!1||!i.defaultPrevented)return l?.(i)}}function ip(n,l){if(typeof n=="function")return n(l);n!=null&&(n.current=l)}function Md(...n){return l=>{let o=!1;const c=n.map(i=>{const d=ip(i,l);return!o&&typeof d=="function"&&(o=!0),d});if(o)return()=>{for(let i=0;i<c.length;i++){const d=c[i];typeof d=="function"?d():ip(n[i],null)}}}}function ys(...n){return g.useCallback(Md(...n),n)}function wm(n,l=[]){let o=[];function c(d,h){const x=g.createContext(h),f=o.length;o=[...o,h];const m=b=>{const{scope:v,children:y,...N}=b,C=v?.[n]?.[f]||x,k=g.useMemo(()=>N,Object.values(N));return t.jsx(C.Provider,{value:k,children:y})};m.displayName=d+"Provider";function w(b,v){const y=v?.[n]?.[f]||x,N=g.useContext(y);if(N)return N;if(h!==void 0)return h;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[m,w]}const i=()=>{const d=o.map(h=>g.createContext(h));return function(x){const f=x?.[n]||d;return g.useMemo(()=>({[`__scope${n}`]:{...x,[n]:f}}),[x,f])}};return i.scopeName=n,[c,pw(i,...l)]}function pw(...n){const l=n[0];if(n.length===1)return l;const o=()=>{const c=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(d){const h=c.reduce((x,{useScope:f,scopeName:m})=>{const b=f(d)[`__scope${m}`];return{...x,...b}},{});return g.useMemo(()=>({[`__scope${l.scopeName}`]:h}),[h])}};return o.scopeName=l.scopeName,o}var Ka=Dp();const mw=Mp(Ka);function xw(n){const l=gw(n),o=g.forwardRef((c,i)=>{const{children:d,...h}=c,x=g.Children.toArray(d),f=x.find(yw);if(f){const m=f.props.children,w=x.map(b=>b===f?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:b);return t.jsx(l,{...h,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,w):null})}return t.jsx(l,{...h,ref:i,children:d})});return o.displayName=`${n}.Slot`,o}function gw(n){const l=g.forwardRef((o,c)=>{const{children:i,...d}=o;if(g.isValidElement(i)){const h=ww(i),x=bw(d,i.props);return i.type!==g.Fragment&&(x.ref=c?Md(c,h):h),g.cloneElement(i,x)}return g.Children.count(i)>1?g.Children.only(null):null});return l.displayName=`${n}.SlotClone`,l}var vw=Symbol("radix.slottable");function yw(n){return g.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===vw}function bw(n,l){const o={...l};for(const c in l){const i=n[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?o[c]=(...x)=>{const f=d(...x);return i(...x),f}:i&&(o[c]=i):c==="style"?o[c]={...i,...d}:c==="className"&&(o[c]=[i,d].filter(Boolean).join(" "))}return{...n,...o}}function ww(n){let l=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,o=l&&"isReactWarning"in l&&l.isReactWarning;return o?n.ref:(l=Object.getOwnPropertyDescriptor(n,"ref")?.get,o=l&&"isReactWarning"in l&&l.isReactWarning,o?n.props.ref:n.props.ref||n.ref)}var jw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jn=jw.reduce((n,l)=>{const o=xw(`Primitive.${l}`),c=g.forwardRef((i,d)=>{const{asChild:h,...x}=i,f=h?o:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...x,ref:d})});return c.displayName=`Primitive.${l}`,{...n,[l]:c}},{});function Nw(n,l){n&&Ka.flushSync(()=>n.dispatchEvent(l))}function Xa(n){const l=g.useRef(n);return g.useEffect(()=>{l.current=n}),g.useMemo(()=>(...o)=>l.current?.(...o),[])}function kw(n,l=globalThis?.document){const o=Xa(n);g.useEffect(()=>{const c=i=>{i.key==="Escape"&&o(i)};return l.addEventListener("keydown",c,{capture:!0}),()=>l.removeEventListener("keydown",c,{capture:!0})},[o,l])}var Sw="DismissableLayer",hd="dismissableLayer.update",Cw="dismissableLayer.pointerDownOutside",Ew="dismissableLayer.focusOutside",cp,jm=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nm=g.forwardRef((n,l)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:c,onPointerDownOutside:i,onFocusOutside:d,onInteractOutside:h,onDismiss:x,...f}=n,m=g.useContext(jm),[w,b]=g.useState(null),v=w?.ownerDocument??globalThis?.document,[,y]=g.useState({}),N=ys(l,S=>b(S)),C=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),_=C.indexOf(k),I=w?C.indexOf(w):-1,O=m.layersWithOutsidePointerEventsDisabled.size>0,V=I>=_,K=Rw(S=>{const B=S.target,Y=[...m.branches].some(ne=>ne.contains(B));!V||Y||(i?.(S),h?.(S),S.defaultPrevented||x?.())},v),F=Pw(S=>{const B=S.target;[...m.branches].some(ne=>ne.contains(B))||(d?.(S),h?.(S),S.defaultPrevented||x?.())},v);return kw(S=>{I===m.layers.size-1&&(c?.(S),!S.defaultPrevented&&x&&(S.preventDefault(),x()))},v),g.useEffect(()=>{if(w)return o&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(cp=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(w)),m.layers.add(w),dp(),()=>{o&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=cp)}},[w,v,o,m]),g.useEffect(()=>()=>{w&&(m.layers.delete(w),m.layersWithOutsidePointerEventsDisabled.delete(w),dp())},[w,m]),g.useEffect(()=>{const S=()=>y({});return document.addEventListener(hd,S),()=>document.removeEventListener(hd,S)},[]),t.jsx(Jn.div,{...f,ref:N,style:{pointerEvents:O?V?"auto":"none":void 0,...n.style},onFocusCapture:on(n.onFocusCapture,F.onFocusCapture),onBlurCapture:on(n.onBlurCapture,F.onBlurCapture),onPointerDownCapture:on(n.onPointerDownCapture,K.onPointerDownCapture)})});Nm.displayName=Sw;var Tw="DismissableLayerBranch",_w=g.forwardRef((n,l)=>{const o=g.useContext(jm),c=g.useRef(null),i=ys(l,c);return g.useEffect(()=>{const d=c.current;if(d)return o.branches.add(d),()=>{o.branches.delete(d)}},[o.branches]),t.jsx(Jn.div,{...n,ref:i})});_w.displayName=Tw;function Rw(n,l=globalThis?.document){const o=Xa(n),c=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const d=x=>{if(x.target&&!c.current){let f=function(){km(Cw,o,m,{discrete:!0})};const m={originalEvent:x};x.pointerType==="touch"?(l.removeEventListener("click",i.current),i.current=f,l.addEventListener("click",i.current,{once:!0})):f()}else l.removeEventListener("click",i.current);c.current=!1},h=window.setTimeout(()=>{l.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(h),l.removeEventListener("pointerdown",d),l.removeEventListener("click",i.current)}},[l,o]),{onPointerDownCapture:()=>c.current=!0}}function Pw(n,l=globalThis?.document){const o=Xa(n),c=g.useRef(!1);return g.useEffect(()=>{const i=d=>{d.target&&!c.current&&km(Ew,o,{originalEvent:d},{discrete:!1})};return l.addEventListener("focusin",i),()=>l.removeEventListener("focusin",i)},[l,o]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function dp(){const n=new CustomEvent(hd);document.dispatchEvent(n)}function km(n,l,o,{discrete:c}){const i=o.originalEvent.target,d=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:o});l&&i.addEventListener(n,l,{once:!0}),c?Nw(i,d):i.dispatchEvent(d)}var Bn=globalThis?.document?g.useLayoutEffect:()=>{},Lw=Wa[" useId ".trim().toString()]||(()=>{}),Iw=0;function Mw(n){const[l,o]=g.useState(Lw());return Bn(()=>{o(c=>c??String(Iw++))},[n]),l?`radix-${l}`:""}const Dw=["top","right","bottom","left"],Un=Math.min,lr=Math.max,Oa=Math.round,ka=Math.floor,Fr=n=>({x:n,y:n}),Ow={left:"right",right:"left",bottom:"top",top:"bottom"},Aw={start:"end",end:"start"};function fd(n,l,o){return lr(n,Un(l,o))}function an(n,l){return typeof n=="function"?n(l):n}function cn(n){return n.split("-")[0]}function tl(n){return n.split("-")[1]}function Dd(n){return n==="x"?"y":"x"}function Od(n){return n==="y"?"height":"width"}const zw=new Set(["top","bottom"]);function zr(n){return zw.has(cn(n))?"y":"x"}function Ad(n){return Dd(zr(n))}function $w(n,l,o){o===void 0&&(o=!1);const c=tl(n),i=Ad(n),d=Od(i);let h=i==="x"?c===(o?"end":"start")?"right":"left":c==="start"?"bottom":"top";return l.reference[d]>l.floating[d]&&(h=Aa(h)),[h,Aa(h)]}function Fw(n){const l=Aa(n);return[pd(n),l,pd(l)]}function pd(n){return n.replace(/start|end/g,l=>Aw[l])}const up=["left","right"],hp=["right","left"],Bw=["top","bottom"],Uw=["bottom","top"];function Ww(n,l,o){switch(n){case"top":case"bottom":return o?l?hp:up:l?up:hp;case"left":case"right":return l?Bw:Uw;default:return[]}}function Hw(n,l,o,c){const i=tl(n);let d=Ww(cn(n),o==="start",c);return i&&(d=d.map(h=>h+"-"+i),l&&(d=d.concat(d.map(pd)))),d}function Aa(n){return n.replace(/left|right|bottom|top/g,l=>Ow[l])}function Vw(n){return{top:0,right:0,bottom:0,left:0,...n}}function Sm(n){return typeof n!="number"?Vw(n):{top:n,right:n,bottom:n,left:n}}function za(n){const{x:l,y:o,width:c,height:i}=n;return{width:c,height:i,top:o,left:l,right:l+c,bottom:o+i,x:l,y:o}}function fp(n,l,o){let{reference:c,floating:i}=n;const d=zr(l),h=Ad(l),x=Od(h),f=cn(l),m=d==="y",w=c.x+c.width/2-i.width/2,b=c.y+c.height/2-i.height/2,v=c[x]/2-i[x]/2;let y;switch(f){case"top":y={x:w,y:c.y-i.height};break;case"bottom":y={x:w,y:c.y+c.height};break;case"right":y={x:c.x+c.width,y:b};break;case"left":y={x:c.x-i.width,y:b};break;default:y={x:c.x,y:c.y}}switch(tl(l)){case"start":y[h]-=v*(o&&m?-1:1);break;case"end":y[h]+=v*(o&&m?-1:1);break}return y}async function Jw(n,l){var o;l===void 0&&(l={});const{x:c,y:i,platform:d,rects:h,elements:x,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:w="viewport",elementContext:b="floating",altBoundary:v=!1,padding:y=0}=an(l,n),N=Sm(y),k=x[v?b==="floating"?"reference":"floating":b],_=za(await d.getClippingRect({element:(o=await(d.isElement==null?void 0:d.isElement(k)))==null||o?k:k.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(x.floating)),boundary:m,rootBoundary:w,strategy:f})),I=b==="floating"?{x:c,y:i,width:h.floating.width,height:h.floating.height}:h.reference,O=await(d.getOffsetParent==null?void 0:d.getOffsetParent(x.floating)),V=await(d.isElement==null?void 0:d.isElement(O))?await(d.getScale==null?void 0:d.getScale(O))||{x:1,y:1}:{x:1,y:1},K=za(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:x,rect:I,offsetParent:O,strategy:f}):I);return{top:(_.top-K.top+N.top)/V.y,bottom:(K.bottom-_.bottom+N.bottom)/V.y,left:(_.left-K.left+N.left)/V.x,right:(K.right-_.right+N.right)/V.x}}const Qw=async(n,l,o)=>{const{placement:c="bottom",strategy:i="absolute",middleware:d=[],platform:h}=o,x=d.filter(Boolean),f=await(h.isRTL==null?void 0:h.isRTL(l));let m=await h.getElementRects({reference:n,floating:l,strategy:i}),{x:w,y:b}=fp(m,c,f),v=c,y={},N=0;for(let k=0;k<x.length;k++){var C;const{name:_,fn:I}=x[k],{x:O,y:V,data:K,reset:F}=await I({x:w,y:b,initialPlacement:c,placement:v,strategy:i,middlewareData:y,rects:m,platform:{...h,detectOverflow:(C=h.detectOverflow)!=null?C:Jw},elements:{reference:n,floating:l}});w=O??w,b=V??b,y={...y,[_]:{...y[_],...K}},F&&N<=50&&(N++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(m=F.rects===!0?await h.getElementRects({reference:n,floating:l,strategy:i}):F.rects),{x:w,y:b}=fp(m,v,f)),k=-1)}return{x:w,y:b,placement:v,strategy:i,middlewareData:y}},Yw=n=>({name:"arrow",options:n,async fn(l){const{x:o,y:c,placement:i,rects:d,platform:h,elements:x,middlewareData:f}=l,{element:m,padding:w=0}=an(n,l)||{};if(m==null)return{};const b=Sm(w),v={x:o,y:c},y=Ad(i),N=Od(y),C=await h.getDimensions(m),k=y==="y",_=k?"top":"left",I=k?"bottom":"right",O=k?"clientHeight":"clientWidth",V=d.reference[N]+d.reference[y]-v[y]-d.floating[N],K=v[y]-d.reference[y],F=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let S=F?F[O]:0;(!S||!await(h.isElement==null?void 0:h.isElement(F)))&&(S=x.floating[O]||d.floating[N]);const B=V/2-K/2,Y=S/2-C[N]/2-1,ne=Un(b[_],Y),oe=Un(b[I],Y),ve=ne,X=S-C[N]-oe,q=S/2-C[N]/2+B,fe=fd(ve,q,X),G=!f.arrow&&tl(i)!=null&&q!==fe&&d.reference[N]/2-(q<ve?ne:oe)-C[N]/2<0,xe=G?q<ve?q-ve:q-X:0;return{[y]:v[y]+xe,data:{[y]:fe,centerOffset:q-fe-xe,...G&&{alignmentOffset:xe}},reset:G}}}),Gw=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(l){var o,c;const{placement:i,middlewareData:d,rects:h,initialPlacement:x,platform:f,elements:m}=l,{mainAxis:w=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:C=!0,...k}=an(n,l);if((o=d.arrow)!=null&&o.alignmentOffset)return{};const _=cn(i),I=zr(x),O=cn(x)===x,V=await(f.isRTL==null?void 0:f.isRTL(m.floating)),K=v||(O||!C?[Aa(x)]:Fw(x)),F=N!=="none";!v&&F&&K.push(...Hw(x,C,N,V));const S=[x,...K],B=await f.detectOverflow(l,k),Y=[];let ne=((c=d.flip)==null?void 0:c.overflows)||[];if(w&&Y.push(B[_]),b){const q=$w(i,h,V);Y.push(B[q[0]],B[q[1]])}if(ne=[...ne,{placement:i,overflows:Y}],!Y.every(q=>q<=0)){var oe,ve;const q=(((oe=d.flip)==null?void 0:oe.index)||0)+1,fe=S[q];if(fe&&(!(b==="alignment"?I!==zr(fe):!1)||ne.every(L=>zr(L.placement)===I?L.overflows[0]>0:!0)))return{data:{index:q,overflows:ne},reset:{placement:fe}};let G=(ve=ne.filter(xe=>xe.overflows[0]<=0).sort((xe,L)=>xe.overflows[1]-L.overflows[1])[0])==null?void 0:ve.placement;if(!G)switch(y){case"bestFit":{var X;const xe=(X=ne.filter(L=>{if(F){const se=zr(L.placement);return se===I||se==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(se=>se>0).reduce((se,re)=>se+re,0)]).sort((L,se)=>L[1]-se[1])[0])==null?void 0:X[0];xe&&(G=xe);break}case"initialPlacement":G=x;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function pp(n,l){return{top:n.top-l.height,right:n.right-l.width,bottom:n.bottom-l.height,left:n.left-l.width}}function mp(n){return Dw.some(l=>n[l]>=0)}const qw=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(l){const{rects:o,platform:c}=l,{strategy:i="referenceHidden",...d}=an(n,l);switch(i){case"referenceHidden":{const h=await c.detectOverflow(l,{...d,elementContext:"reference"}),x=pp(h,o.reference);return{data:{referenceHiddenOffsets:x,referenceHidden:mp(x)}}}case"escaped":{const h=await c.detectOverflow(l,{...d,altBoundary:!0}),x=pp(h,o.floating);return{data:{escapedOffsets:x,escaped:mp(x)}}}default:return{}}}}},Cm=new Set(["left","top"]);async function Kw(n,l){const{placement:o,platform:c,elements:i}=n,d=await(c.isRTL==null?void 0:c.isRTL(i.floating)),h=cn(o),x=tl(o),f=zr(o)==="y",m=Cm.has(h)?-1:1,w=d&&f?-1:1,b=an(l,n);let{mainAxis:v,crossAxis:y,alignmentAxis:N}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return x&&typeof N=="number"&&(y=x==="end"?N*-1:N),f?{x:y*w,y:v*m}:{x:v*m,y:y*w}}const Xw=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(l){var o,c;const{x:i,y:d,placement:h,middlewareData:x}=l,f=await Kw(l,n);return h===((o=x.offset)==null?void 0:o.placement)&&(c=x.arrow)!=null&&c.alignmentOffset?{}:{x:i+f.x,y:d+f.y,data:{...f,placement:h}}}}},Zw=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(l){const{x:o,y:c,placement:i,platform:d}=l,{mainAxis:h=!0,crossAxis:x=!1,limiter:f={fn:_=>{let{x:I,y:O}=_;return{x:I,y:O}}},...m}=an(n,l),w={x:o,y:c},b=await d.detectOverflow(l,m),v=zr(cn(i)),y=Dd(v);let N=w[y],C=w[v];if(h){const _=y==="y"?"top":"left",I=y==="y"?"bottom":"right",O=N+b[_],V=N-b[I];N=fd(O,N,V)}if(x){const _=v==="y"?"top":"left",I=v==="y"?"bottom":"right",O=C+b[_],V=C-b[I];C=fd(O,C,V)}const k=f.fn({...l,[y]:N,[v]:C});return{...k,data:{x:k.x-o,y:k.y-c,enabled:{[y]:h,[v]:x}}}}}},ej=function(n){return n===void 0&&(n={}),{options:n,fn(l){const{x:o,y:c,placement:i,rects:d,middlewareData:h}=l,{offset:x=0,mainAxis:f=!0,crossAxis:m=!0}=an(n,l),w={x:o,y:c},b=zr(i),v=Dd(b);let y=w[v],N=w[b];const C=an(x,l),k=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(f){const O=v==="y"?"height":"width",V=d.reference[v]-d.floating[O]+k.mainAxis,K=d.reference[v]+d.reference[O]-k.mainAxis;y<V?y=V:y>K&&(y=K)}if(m){var _,I;const O=v==="y"?"width":"height",V=Cm.has(cn(i)),K=d.reference[b]-d.floating[O]+(V&&((_=h.offset)==null?void 0:_[b])||0)+(V?0:k.crossAxis),F=d.reference[b]+d.reference[O]+(V?0:((I=h.offset)==null?void 0:I[b])||0)-(V?k.crossAxis:0);N<K?N=K:N>F&&(N=F)}return{[v]:y,[b]:N}}}},tj=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(l){var o,c;const{placement:i,rects:d,platform:h,elements:x}=l,{apply:f=()=>{},...m}=an(n,l),w=await h.detectOverflow(l,m),b=cn(i),v=tl(i),y=zr(i)==="y",{width:N,height:C}=d.floating;let k,_;b==="top"||b==="bottom"?(k=b,_=v===(await(h.isRTL==null?void 0:h.isRTL(x.floating))?"start":"end")?"left":"right"):(_=b,k=v==="end"?"top":"bottom");const I=C-w.top-w.bottom,O=N-w.left-w.right,V=Un(C-w[k],I),K=Un(N-w[_],O),F=!l.middlewareData.shift;let S=V,B=K;if((o=l.middlewareData.shift)!=null&&o.enabled.x&&(B=O),(c=l.middlewareData.shift)!=null&&c.enabled.y&&(S=I),F&&!v){const ne=lr(w.left,0),oe=lr(w.right,0),ve=lr(w.top,0),X=lr(w.bottom,0);y?B=N-2*(ne!==0||oe!==0?ne+oe:lr(w.left,w.right)):S=C-2*(ve!==0||X!==0?ve+X:lr(w.top,w.bottom))}await f({...l,availableWidth:B,availableHeight:S});const Y=await h.getDimensions(x.floating);return N!==Y.width||C!==Y.height?{reset:{rects:!0}}:{}}}};function Za(){return typeof window<"u"}function rl(n){return Em(n)?(n.nodeName||"").toLowerCase():"#document"}function or(n){var l;return(n==null||(l=n.ownerDocument)==null?void 0:l.defaultView)||window}function Vr(n){var l;return(l=(Em(n)?n.ownerDocument:n.document)||window.document)==null?void 0:l.documentElement}function Em(n){return Za()?n instanceof Node||n instanceof or(n).Node:!1}function _r(n){return Za()?n instanceof Element||n instanceof or(n).Element:!1}function Ur(n){return Za()?n instanceof HTMLElement||n instanceof or(n).HTMLElement:!1}function xp(n){return!Za()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof or(n).ShadowRoot}const rj=new Set(["inline","contents"]);function uo(n){const{overflow:l,overflowX:o,overflowY:c,display:i}=Rr(n);return/auto|scroll|overlay|hidden|clip/.test(l+c+o)&&!rj.has(i)}const nj=new Set(["table","td","th"]);function sj(n){return nj.has(rl(n))}const lj=[":popover-open",":modal"];function ei(n){return lj.some(l=>{try{return n.matches(l)}catch{return!1}})}const oj=["transform","translate","scale","rotate","perspective"],aj=["transform","translate","scale","rotate","perspective","filter"],ij=["paint","layout","strict","content"];function zd(n){const l=$d(),o=_r(n)?Rr(n):n;return oj.some(c=>o[c]?o[c]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!l&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!l&&(o.filter?o.filter!=="none":!1)||aj.some(c=>(o.willChange||"").includes(c))||ij.some(c=>(o.contain||"").includes(c))}function cj(n){let l=Wn(n);for(;Ur(l)&&!Xs(l);){if(zd(l))return l;if(ei(l))return null;l=Wn(l)}return null}function $d(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dj=new Set(["html","body","#document"]);function Xs(n){return dj.has(rl(n))}function Rr(n){return or(n).getComputedStyle(n)}function ti(n){return _r(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Wn(n){if(rl(n)==="html")return n;const l=n.assignedSlot||n.parentNode||xp(n)&&n.host||Vr(n);return xp(l)?l.host:l}function Tm(n){const l=Wn(n);return Xs(l)?n.ownerDocument?n.ownerDocument.body:n.body:Ur(l)&&uo(l)?l:Tm(l)}function to(n,l,o){var c;l===void 0&&(l=[]),o===void 0&&(o=!0);const i=Tm(n),d=i===((c=n.ownerDocument)==null?void 0:c.body),h=or(i);if(d){const x=md(h);return l.concat(h,h.visualViewport||[],uo(i)?i:[],x&&o?to(x):[])}return l.concat(i,to(i,[],o))}function md(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _m(n){const l=Rr(n);let o=parseFloat(l.width)||0,c=parseFloat(l.height)||0;const i=Ur(n),d=i?n.offsetWidth:o,h=i?n.offsetHeight:c,x=Oa(o)!==d||Oa(c)!==h;return x&&(o=d,c=h),{width:o,height:c,$:x}}function Fd(n){return _r(n)?n:n.contextElement}function Ks(n){const l=Fd(n);if(!Ur(l))return Fr(1);const o=l.getBoundingClientRect(),{width:c,height:i,$:d}=_m(l);let h=(d?Oa(o.width):o.width)/c,x=(d?Oa(o.height):o.height)/i;return(!h||!Number.isFinite(h))&&(h=1),(!x||!Number.isFinite(x))&&(x=1),{x:h,y:x}}const uj=Fr(0);function Rm(n){const l=or(n);return!$d()||!l.visualViewport?uj:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function hj(n,l,o){return l===void 0&&(l=!1),!o||l&&o!==or(n)?!1:l}function xs(n,l,o,c){l===void 0&&(l=!1),o===void 0&&(o=!1);const i=n.getBoundingClientRect(),d=Fd(n);let h=Fr(1);l&&(c?_r(c)&&(h=Ks(c)):h=Ks(n));const x=hj(d,o,c)?Rm(d):Fr(0);let f=(i.left+x.x)/h.x,m=(i.top+x.y)/h.y,w=i.width/h.x,b=i.height/h.y;if(d){const v=or(d),y=c&&_r(c)?or(c):c;let N=v,C=md(N);for(;C&&c&&y!==N;){const k=Ks(C),_=C.getBoundingClientRect(),I=Rr(C),O=_.left+(C.clientLeft+parseFloat(I.paddingLeft))*k.x,V=_.top+(C.clientTop+parseFloat(I.paddingTop))*k.y;f*=k.x,m*=k.y,w*=k.x,b*=k.y,f+=O,m+=V,N=or(C),C=md(N)}}return za({width:w,height:b,x:f,y:m})}function ri(n,l){const o=ti(n).scrollLeft;return l?l.left+o:xs(Vr(n)).left+o}function Pm(n,l){const o=n.getBoundingClientRect(),c=o.left+l.scrollLeft-ri(n,o),i=o.top+l.scrollTop;return{x:c,y:i}}function fj(n){let{elements:l,rect:o,offsetParent:c,strategy:i}=n;const d=i==="fixed",h=Vr(c),x=l?ei(l.floating):!1;if(c===h||x&&d)return o;let f={scrollLeft:0,scrollTop:0},m=Fr(1);const w=Fr(0),b=Ur(c);if((b||!b&&!d)&&((rl(c)!=="body"||uo(h))&&(f=ti(c)),Ur(c))){const y=xs(c);m=Ks(c),w.x=y.x+c.clientLeft,w.y=y.y+c.clientTop}const v=h&&!b&&!d?Pm(h,f):Fr(0);return{width:o.width*m.x,height:o.height*m.y,x:o.x*m.x-f.scrollLeft*m.x+w.x+v.x,y:o.y*m.y-f.scrollTop*m.y+w.y+v.y}}function pj(n){return Array.from(n.getClientRects())}function mj(n){const l=Vr(n),o=ti(n),c=n.ownerDocument.body,i=lr(l.scrollWidth,l.clientWidth,c.scrollWidth,c.clientWidth),d=lr(l.scrollHeight,l.clientHeight,c.scrollHeight,c.clientHeight);let h=-o.scrollLeft+ri(n);const x=-o.scrollTop;return Rr(c).direction==="rtl"&&(h+=lr(l.clientWidth,c.clientWidth)-i),{width:i,height:d,x:h,y:x}}const gp=25;function xj(n,l){const o=or(n),c=Vr(n),i=o.visualViewport;let d=c.clientWidth,h=c.clientHeight,x=0,f=0;if(i){d=i.width,h=i.height;const w=$d();(!w||w&&l==="fixed")&&(x=i.offsetLeft,f=i.offsetTop)}const m=ri(c);if(m<=0){const w=c.ownerDocument,b=w.body,v=getComputedStyle(b),y=w.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,N=Math.abs(c.clientWidth-b.clientWidth-y);N<=gp&&(d-=N)}else m<=gp&&(d+=m);return{width:d,height:h,x,y:f}}const gj=new Set(["absolute","fixed"]);function vj(n,l){const o=xs(n,!0,l==="fixed"),c=o.top+n.clientTop,i=o.left+n.clientLeft,d=Ur(n)?Ks(n):Fr(1),h=n.clientWidth*d.x,x=n.clientHeight*d.y,f=i*d.x,m=c*d.y;return{width:h,height:x,x:f,y:m}}function vp(n,l,o){let c;if(l==="viewport")c=xj(n,o);else if(l==="document")c=mj(Vr(n));else if(_r(l))c=vj(l,o);else{const i=Rm(n);c={x:l.x-i.x,y:l.y-i.y,width:l.width,height:l.height}}return za(c)}function Lm(n,l){const o=Wn(n);return o===l||!_r(o)||Xs(o)?!1:Rr(o).position==="fixed"||Lm(o,l)}function yj(n,l){const o=l.get(n);if(o)return o;let c=to(n,[],!1).filter(x=>_r(x)&&rl(x)!=="body"),i=null;const d=Rr(n).position==="fixed";let h=d?Wn(n):n;for(;_r(h)&&!Xs(h);){const x=Rr(h),f=zd(h);!f&&x.position==="fixed"&&(i=null),(d?!f&&!i:!f&&x.position==="static"&&!!i&&gj.has(i.position)||uo(h)&&!f&&Lm(n,h))?c=c.filter(w=>w!==h):i=x,h=Wn(h)}return l.set(n,c),c}function bj(n){let{element:l,boundary:o,rootBoundary:c,strategy:i}=n;const h=[...o==="clippingAncestors"?ei(l)?[]:yj(l,this._c):[].concat(o),c],x=h[0],f=h.reduce((m,w)=>{const b=vp(l,w,i);return m.top=lr(b.top,m.top),m.right=Un(b.right,m.right),m.bottom=Un(b.bottom,m.bottom),m.left=lr(b.left,m.left),m},vp(l,x,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function wj(n){const{width:l,height:o}=_m(n);return{width:l,height:o}}function jj(n,l,o){const c=Ur(l),i=Vr(l),d=o==="fixed",h=xs(n,!0,d,l);let x={scrollLeft:0,scrollTop:0};const f=Fr(0);function m(){f.x=ri(i)}if(c||!c&&!d)if((rl(l)!=="body"||uo(i))&&(x=ti(l)),c){const y=xs(l,!0,d,l);f.x=y.x+l.clientLeft,f.y=y.y+l.clientTop}else i&&m();d&&!c&&i&&m();const w=i&&!c&&!d?Pm(i,x):Fr(0),b=h.left+x.scrollLeft-f.x-w.x,v=h.top+x.scrollTop-f.y-w.y;return{x:b,y:v,width:h.width,height:h.height}}function qc(n){return Rr(n).position==="static"}function yp(n,l){if(!Ur(n)||Rr(n).position==="fixed")return null;if(l)return l(n);let o=n.offsetParent;return Vr(n)===o&&(o=o.ownerDocument.body),o}function Im(n,l){const o=or(n);if(ei(n))return o;if(!Ur(n)){let i=Wn(n);for(;i&&!Xs(i);){if(_r(i)&&!qc(i))return i;i=Wn(i)}return o}let c=yp(n,l);for(;c&&sj(c)&&qc(c);)c=yp(c,l);return c&&Xs(c)&&qc(c)&&!zd(c)?o:c||cj(n)||o}const Nj=async function(n){const l=this.getOffsetParent||Im,o=this.getDimensions,c=await o(n.floating);return{reference:jj(n.reference,await l(n.floating),n.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}};function kj(n){return Rr(n).direction==="rtl"}const Sj={convertOffsetParentRelativeRectToViewportRelativeRect:fj,getDocumentElement:Vr,getClippingRect:bj,getOffsetParent:Im,getElementRects:Nj,getClientRects:pj,getDimensions:wj,getScale:Ks,isElement:_r,isRTL:kj};function Mm(n,l){return n.x===l.x&&n.y===l.y&&n.width===l.width&&n.height===l.height}function Cj(n,l){let o=null,c;const i=Vr(n);function d(){var x;clearTimeout(c),(x=o)==null||x.disconnect(),o=null}function h(x,f){x===void 0&&(x=!1),f===void 0&&(f=1),d();const m=n.getBoundingClientRect(),{left:w,top:b,width:v,height:y}=m;if(x||l(),!v||!y)return;const N=ka(b),C=ka(i.clientWidth-(w+v)),k=ka(i.clientHeight-(b+y)),_=ka(w),O={rootMargin:-N+"px "+-C+"px "+-k+"px "+-_+"px",threshold:lr(0,Un(1,f))||1};let V=!0;function K(F){const S=F[0].intersectionRatio;if(S!==f){if(!V)return h();S?h(!1,S):c=setTimeout(()=>{h(!1,1e-7)},1e3)}S===1&&!Mm(m,n.getBoundingClientRect())&&h(),V=!1}try{o=new IntersectionObserver(K,{...O,root:i.ownerDocument})}catch{o=new IntersectionObserver(K,O)}o.observe(n)}return h(!0),d}function Ej(n,l,o,c){c===void 0&&(c={});const{ancestorScroll:i=!0,ancestorResize:d=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:x=typeof IntersectionObserver=="function",animationFrame:f=!1}=c,m=Fd(n),w=i||d?[...m?to(m):[],...to(l)]:[];w.forEach(_=>{i&&_.addEventListener("scroll",o,{passive:!0}),d&&_.addEventListener("resize",o)});const b=m&&x?Cj(m,o):null;let v=-1,y=null;h&&(y=new ResizeObserver(_=>{let[I]=_;I&&I.target===m&&y&&(y.unobserve(l),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=y)==null||O.observe(l)})),o()}),m&&!f&&y.observe(m),y.observe(l));let N,C=f?xs(n):null;f&&k();function k(){const _=xs(n);C&&!Mm(C,_)&&o(),C=_,N=requestAnimationFrame(k)}return o(),()=>{var _;w.forEach(I=>{i&&I.removeEventListener("scroll",o),d&&I.removeEventListener("resize",o)}),b?.(),(_=y)==null||_.disconnect(),y=null,f&&cancelAnimationFrame(N)}}const Tj=Xw,_j=Zw,Rj=Gw,Pj=tj,Lj=qw,bp=Yw,Ij=ej,Mj=(n,l,o)=>{const c=new Map,i={platform:Sj,...o},d={...i.platform,_c:c};return Qw(n,l,{...i,platform:d})};var Dj=typeof document<"u",Oj=function(){},Ma=Dj?g.useLayoutEffect:Oj;function $a(n,l){if(n===l)return!0;if(typeof n!=typeof l)return!1;if(typeof n=="function"&&n.toString()===l.toString())return!0;let o,c,i;if(n&&l&&typeof n=="object"){if(Array.isArray(n)){if(o=n.length,o!==l.length)return!1;for(c=o;c--!==0;)if(!$a(n[c],l[c]))return!1;return!0}if(i=Object.keys(n),o=i.length,o!==Object.keys(l).length)return!1;for(c=o;c--!==0;)if(!{}.hasOwnProperty.call(l,i[c]))return!1;for(c=o;c--!==0;){const d=i[c];if(!(d==="_owner"&&n.$$typeof)&&!$a(n[d],l[d]))return!1}return!0}return n!==n&&l!==l}function Dm(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function wp(n,l){const o=Dm(n);return Math.round(l*o)/o}function Kc(n){const l=g.useRef(n);return Ma(()=>{l.current=n}),l}function Aj(n){n===void 0&&(n={});const{placement:l="bottom",strategy:o="absolute",middleware:c=[],platform:i,elements:{reference:d,floating:h}={},transform:x=!0,whileElementsMounted:f,open:m}=n,[w,b]=g.useState({x:0,y:0,strategy:o,placement:l,middlewareData:{},isPositioned:!1}),[v,y]=g.useState(c);$a(v,c)||y(c);const[N,C]=g.useState(null),[k,_]=g.useState(null),I=g.useCallback(L=>{L!==F.current&&(F.current=L,C(L))},[]),O=g.useCallback(L=>{L!==S.current&&(S.current=L,_(L))},[]),V=d||N,K=h||k,F=g.useRef(null),S=g.useRef(null),B=g.useRef(w),Y=f!=null,ne=Kc(f),oe=Kc(i),ve=Kc(m),X=g.useCallback(()=>{if(!F.current||!S.current)return;const L={placement:l,strategy:o,middleware:v};oe.current&&(L.platform=oe.current),Mj(F.current,S.current,L).then(se=>{const re={...se,isPositioned:ve.current!==!1};q.current&&!$a(B.current,re)&&(B.current=re,Ka.flushSync(()=>{b(re)}))})},[v,l,o,oe,ve]);Ma(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,b(L=>({...L,isPositioned:!1})))},[m]);const q=g.useRef(!1);Ma(()=>(q.current=!0,()=>{q.current=!1}),[]),Ma(()=>{if(V&&(F.current=V),K&&(S.current=K),V&&K){if(ne.current)return ne.current(V,K,X);X()}},[V,K,X,ne,Y]);const fe=g.useMemo(()=>({reference:F,floating:S,setReference:I,setFloating:O}),[I,O]),G=g.useMemo(()=>({reference:V,floating:K}),[V,K]),xe=g.useMemo(()=>{const L={position:o,left:0,top:0};if(!G.floating)return L;const se=wp(G.floating,w.x),re=wp(G.floating,w.y);return x?{...L,transform:"translate("+se+"px, "+re+"px)",...Dm(G.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:se,top:re}},[o,x,G.floating,w.x,w.y]);return g.useMemo(()=>({...w,update:X,refs:fe,elements:G,floatingStyles:xe}),[w,X,fe,G,xe])}const zj=n=>{function l(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:n,fn(o){const{element:c,padding:i}=typeof n=="function"?n(o):n;return c&&l(c)?c.current!=null?bp({element:c.current,padding:i}).fn(o):{}:c?bp({element:c,padding:i}).fn(o):{}}}},$j=(n,l)=>({...Tj(n),options:[n,l]}),Fj=(n,l)=>({..._j(n),options:[n,l]}),Bj=(n,l)=>({...Ij(n),options:[n,l]}),Uj=(n,l)=>({...Rj(n),options:[n,l]}),Wj=(n,l)=>({...Pj(n),options:[n,l]}),Hj=(n,l)=>({...Lj(n),options:[n,l]}),Vj=(n,l)=>({...zj(n),options:[n,l]});var Jj="Arrow",Om=g.forwardRef((n,l)=>{const{children:o,width:c=10,height:i=5,...d}=n;return t.jsx(Jn.svg,{...d,ref:l,width:c,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?o:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});Om.displayName=Jj;var Qj=Om;function Yj(n){const[l,o]=g.useState(void 0);return Bn(()=>{if(n){o({width:n.offsetWidth,height:n.offsetHeight});const c=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const d=i[0];let h,x;if("borderBoxSize"in d){const f=d.borderBoxSize,m=Array.isArray(f)?f[0]:f;h=m.inlineSize,x=m.blockSize}else h=n.offsetWidth,x=n.offsetHeight;o({width:h,height:x})});return c.observe(n,{box:"border-box"}),()=>c.unobserve(n)}else o(void 0)},[n]),l}var Bd="Popper",[Am,zm]=wm(Bd),[Gj,$m]=Am(Bd),Fm=n=>{const{__scopePopper:l,children:o}=n,[c,i]=g.useState(null);return t.jsx(Gj,{scope:l,anchor:c,onAnchorChange:i,children:o})};Fm.displayName=Bd;var Bm="PopperAnchor",Um=g.forwardRef((n,l)=>{const{__scopePopper:o,virtualRef:c,...i}=n,d=$m(Bm,o),h=g.useRef(null),x=ys(l,h),f=g.useRef(null);return g.useEffect(()=>{const m=f.current;f.current=c?.current||h.current,m!==f.current&&d.onAnchorChange(f.current)}),c?null:t.jsx(Jn.div,{...i,ref:x})});Um.displayName=Bm;var Ud="PopperContent",[qj,Kj]=Am(Ud),Wm=g.forwardRef((n,l)=>{const{__scopePopper:o,side:c="bottom",sideOffset:i=0,align:d="center",alignOffset:h=0,arrowPadding:x=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:w=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:N,...C}=n,k=$m(Ud,o),[_,I]=g.useState(null),O=ys(l,E=>I(E)),[V,K]=g.useState(null),F=Yj(V),S=F?.width??0,B=F?.height??0,Y=c+(d!=="center"?"-"+d:""),ne=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},oe=Array.isArray(m)?m:[m],ve=oe.length>0,X={padding:ne,boundary:oe.filter(Zj),altBoundary:ve},{refs:q,floatingStyles:fe,placement:G,isPositioned:xe,middlewareData:L}=Aj({strategy:"fixed",placement:Y,whileElementsMounted:(...E)=>Ej(...E,{animationFrame:y==="always"}),elements:{reference:k.anchor},middleware:[$j({mainAxis:i+B,alignmentAxis:h}),f&&Fj({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?Bj():void 0,...X}),f&&Uj({...X}),Wj({...X,apply:({elements:E,rects:te,availableWidth:ue,availableHeight:De})=>{const{width:Qe,height:U}=te.reference,Ce=E.floating.style;Ce.setProperty("--radix-popper-available-width",`${ue}px`),Ce.setProperty("--radix-popper-available-height",`${De}px`),Ce.setProperty("--radix-popper-anchor-width",`${Qe}px`),Ce.setProperty("--radix-popper-anchor-height",`${U}px`)}}),V&&Vj({element:V,padding:x}),e1({arrowWidth:S,arrowHeight:B}),v&&Hj({strategy:"referenceHidden",...X})]}),[se,re]=Jm(G),D=Xa(N);Bn(()=>{xe&&D?.()},[xe,D]);const A=L.arrow?.x,ee=L.arrow?.y,R=L.arrow?.centerOffset!==0,[Z,de]=g.useState();return Bn(()=>{_&&de(window.getComputedStyle(_).zIndex)},[_]),t.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:xe?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:t.jsx(qj,{scope:o,placedSide:se,onArrowChange:K,arrowX:A,arrowY:ee,shouldHideArrow:R,children:t.jsx(Jn.div,{"data-side":se,"data-align":re,...C,ref:O,style:{...C.style,animation:xe?void 0:"none"}})})})});Wm.displayName=Ud;var Hm="PopperArrow",Xj={top:"bottom",right:"left",bottom:"top",left:"right"},Vm=g.forwardRef(function(l,o){const{__scopePopper:c,...i}=l,d=Kj(Hm,c),h=Xj[d.placedSide];return t.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:t.jsx(Qj,{...i,ref:o,style:{...i.style,display:"block"}})})});Vm.displayName=Hm;function Zj(n){return n!==null}var e1=n=>({name:"transformOrigin",options:n,fn(l){const{placement:o,rects:c,middlewareData:i}=l,h=i.arrow?.centerOffset!==0,x=h?0:n.arrowWidth,f=h?0:n.arrowHeight,[m,w]=Jm(o),b={start:"0%",center:"50%",end:"100%"}[w],v=(i.arrow?.x??0)+x/2,y=(i.arrow?.y??0)+f/2;let N="",C="";return m==="bottom"?(N=h?b:`${v}px`,C=`${-f}px`):m==="top"?(N=h?b:`${v}px`,C=`${c.floating.height+f}px`):m==="right"?(N=`${-f}px`,C=h?b:`${y}px`):m==="left"&&(N=`${c.floating.width+f}px`,C=h?b:`${y}px`),{data:{x:N,y:C}}}});function Jm(n){const[l,o="center"]=n.split("-");return[l,o]}var t1=Fm,r1=Um,n1=Wm,s1=Vm,l1="Portal",Qm=g.forwardRef((n,l)=>{const{container:o,...c}=n,[i,d]=g.useState(!1);Bn(()=>d(!0),[]);const h=o||i&&globalThis?.document?.body;return h?mw.createPortal(t.jsx(Jn.div,{...c,ref:l}),h):null});Qm.displayName=l1;function o1(n,l){return g.useReducer((o,c)=>l[o][c]??o,n)}var Wd=n=>{const{present:l,children:o}=n,c=a1(l),i=typeof o=="function"?o({present:c.isPresent}):g.Children.only(o),d=ys(c.ref,i1(i));return typeof o=="function"||c.isPresent?g.cloneElement(i,{ref:d}):null};Wd.displayName="Presence";function a1(n){const[l,o]=g.useState(),c=g.useRef(null),i=g.useRef(n),d=g.useRef("none"),h=n?"mounted":"unmounted",[x,f]=o1(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const m=Sa(c.current);d.current=x==="mounted"?m:"none"},[x]),Bn(()=>{const m=c.current,w=i.current;if(w!==n){const v=d.current,y=Sa(m);n?f("MOUNT"):y==="none"||m?.display==="none"?f("UNMOUNT"):f(w&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),Bn(()=>{if(l){let m;const w=l.ownerDocument.defaultView??window,b=y=>{const C=Sa(c.current).includes(CSS.escape(y.animationName));if(y.target===l&&C&&(f("ANIMATION_END"),!i.current)){const k=l.style.animationFillMode;l.style.animationFillMode="forwards",m=w.setTimeout(()=>{l.style.animationFillMode==="forwards"&&(l.style.animationFillMode=k)})}},v=y=>{y.target===l&&(d.current=Sa(c.current))};return l.addEventListener("animationstart",v),l.addEventListener("animationcancel",b),l.addEventListener("animationend",b),()=>{w.clearTimeout(m),l.removeEventListener("animationstart",v),l.removeEventListener("animationcancel",b),l.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[l,f]),{isPresent:["mounted","unmountSuspended"].includes(x),ref:g.useCallback(m=>{c.current=m?getComputedStyle(m):null,o(m)},[])}}function Sa(n){return n?.animationName||"none"}function i1(n){let l=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,o=l&&"isReactWarning"in l&&l.isReactWarning;return o?n.ref:(l=Object.getOwnPropertyDescriptor(n,"ref")?.get,o=l&&"isReactWarning"in l&&l.isReactWarning,o?n.props.ref:n.props.ref||n.ref)}var c1=Symbol("radix.slottable");function d1(n){const l=({children:o})=>t.jsx(t.Fragment,{children:o});return l.displayName=`${n}.Slottable`,l.__radixId=c1,l}var u1=Wa[" useInsertionEffect ".trim().toString()]||Bn;function h1({prop:n,defaultProp:l,onChange:o=()=>{},caller:c}){const[i,d,h]=f1({defaultProp:l,onChange:o}),x=n!==void 0,f=x?n:i;{const w=g.useRef(n!==void 0);g.useEffect(()=>{const b=w.current;b!==x&&console.warn(`${c} is changing from ${b?"controlled":"uncontrolled"} to ${x?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=x},[x,c])}const m=g.useCallback(w=>{if(x){const b=p1(w)?w(n):w;b!==n&&h.current?.(b)}else d(w)},[x,n,d,h]);return[f,m]}function f1({defaultProp:n,onChange:l}){const[o,c]=g.useState(n),i=g.useRef(o),d=g.useRef(l);return u1(()=>{d.current=l},[l]),g.useEffect(()=>{i.current!==o&&(d.current?.(o),i.current=o)},[o,i]),[o,c,d]}function p1(n){return typeof n=="function"}var m1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),x1="VisuallyHidden",Ym=g.forwardRef((n,l)=>t.jsx(Jn.span,{...n,ref:l,style:{...m1,...n.style}}));Ym.displayName=x1;var g1=Ym,[ni]=wm("Tooltip",[zm]),si=zm(),Gm="TooltipProvider",v1=700,xd="tooltip.open",[y1,Hd]=ni(Gm),qm=n=>{const{__scopeTooltip:l,delayDuration:o=v1,skipDelayDuration:c=300,disableHoverableContent:i=!1,children:d}=n,h=g.useRef(!0),x=g.useRef(!1),f=g.useRef(0);return g.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),t.jsx(y1,{scope:l,isOpenDelayedRef:h,delayDuration:o,onOpen:g.useCallback(()=>{window.clearTimeout(f.current),h.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>h.current=!0,c)},[c]),isPointerInTransitRef:x,onPointerInTransitChange:g.useCallback(m=>{x.current=m},[]),disableHoverableContent:i,children:d})};qm.displayName=Gm;var ro="Tooltip",[b1,ho]=ni(ro),Km=n=>{const{__scopeTooltip:l,children:o,open:c,defaultOpen:i,onOpenChange:d,disableHoverableContent:h,delayDuration:x}=n,f=Hd(ro,n.__scopeTooltip),m=si(l),[w,b]=g.useState(null),v=Mw(),y=g.useRef(0),N=h??f.disableHoverableContent,C=x??f.delayDuration,k=g.useRef(!1),[_,I]=h1({prop:c,defaultProp:i??!1,onChange:S=>{S?(f.onOpen(),document.dispatchEvent(new CustomEvent(xd))):f.onClose(),d?.(S)},caller:ro}),O=g.useMemo(()=>_?k.current?"delayed-open":"instant-open":"closed",[_]),V=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,k.current=!1,I(!0)},[I]),K=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,I(!1)},[I]),F=g.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{k.current=!0,I(!0),y.current=0},C)},[C,I]);return g.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),t.jsx(t1,{...m,children:t.jsx(b1,{scope:l,contentId:v,open:_,stateAttribute:O,trigger:w,onTriggerChange:b,onTriggerEnter:g.useCallback(()=>{f.isOpenDelayedRef.current?F():V()},[f.isOpenDelayedRef,F,V]),onTriggerLeave:g.useCallback(()=>{N?K():(window.clearTimeout(y.current),y.current=0)},[K,N]),onOpen:V,onClose:K,disableHoverableContent:N,children:o})})};Km.displayName=ro;var gd="TooltipTrigger",Xm=g.forwardRef((n,l)=>{const{__scopeTooltip:o,...c}=n,i=ho(gd,o),d=Hd(gd,o),h=si(o),x=g.useRef(null),f=ys(l,x,i.onTriggerChange),m=g.useRef(!1),w=g.useRef(!1),b=g.useCallback(()=>m.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),t.jsx(r1,{asChild:!0,...h,children:t.jsx(Jn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...c,ref:f,onPointerMove:on(n.onPointerMove,v=>{v.pointerType!=="touch"&&!w.current&&!d.isPointerInTransitRef.current&&(i.onTriggerEnter(),w.current=!0)}),onPointerLeave:on(n.onPointerLeave,()=>{i.onTriggerLeave(),w.current=!1}),onPointerDown:on(n.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:on(n.onFocus,()=>{m.current||i.onOpen()}),onBlur:on(n.onBlur,i.onClose),onClick:on(n.onClick,i.onClose)})})});Xm.displayName=gd;var Vd="TooltipPortal",[w1,j1]=ni(Vd,{forceMount:void 0}),Zm=n=>{const{__scopeTooltip:l,forceMount:o,children:c,container:i}=n,d=ho(Vd,l);return t.jsx(w1,{scope:l,forceMount:o,children:t.jsx(Wd,{present:o||d.open,children:t.jsx(Qm,{asChild:!0,container:i,children:c})})})};Zm.displayName=Vd;var Zs="TooltipContent",ex=g.forwardRef((n,l)=>{const o=j1(Zs,n.__scopeTooltip),{forceMount:c=o.forceMount,side:i="top",...d}=n,h=ho(Zs,n.__scopeTooltip);return t.jsx(Wd,{present:c||h.open,children:h.disableHoverableContent?t.jsx(tx,{side:i,...d,ref:l}):t.jsx(N1,{side:i,...d,ref:l})})}),N1=g.forwardRef((n,l)=>{const o=ho(Zs,n.__scopeTooltip),c=Hd(Zs,n.__scopeTooltip),i=g.useRef(null),d=ys(l,i),[h,x]=g.useState(null),{trigger:f,onClose:m}=o,w=i.current,{onPointerInTransitChange:b}=c,v=g.useCallback(()=>{x(null),b(!1)},[b]),y=g.useCallback((N,C)=>{const k=N.currentTarget,_={x:N.clientX,y:N.clientY},I=T1(_,k.getBoundingClientRect()),O=_1(_,I),V=R1(C.getBoundingClientRect()),K=L1([...O,...V]);x(K),b(!0)},[b]);return g.useEffect(()=>()=>v(),[v]),g.useEffect(()=>{if(f&&w){const N=k=>y(k,w),C=k=>y(k,f);return f.addEventListener("pointerleave",N),w.addEventListener("pointerleave",C),()=>{f.removeEventListener("pointerleave",N),w.removeEventListener("pointerleave",C)}}},[f,w,y,v]),g.useEffect(()=>{if(h){const N=C=>{const k=C.target,_={x:C.clientX,y:C.clientY},I=f?.contains(k)||w?.contains(k),O=!P1(_,h);I?v():O&&(v(),m())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[f,w,h,m,v]),t.jsx(tx,{...n,ref:d})}),[k1,S1]=ni(ro,{isInside:!1}),C1=d1("TooltipContent"),tx=g.forwardRef((n,l)=>{const{__scopeTooltip:o,children:c,"aria-label":i,onEscapeKeyDown:d,onPointerDownOutside:h,...x}=n,f=ho(Zs,o),m=si(o),{onClose:w}=f;return g.useEffect(()=>(document.addEventListener(xd,w),()=>document.removeEventListener(xd,w)),[w]),g.useEffect(()=>{if(f.trigger){const b=v=>{v.target?.contains(f.trigger)&&w()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[f.trigger,w]),t.jsx(Nm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:b=>b.preventDefault(),onDismiss:w,children:t.jsxs(n1,{"data-state":f.stateAttribute,...m,...x,ref:l,style:{...x.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(C1,{children:c}),t.jsx(k1,{scope:o,isInside:!0,children:t.jsx(g1,{id:f.contentId,role:"tooltip",children:i||c})})]})})});ex.displayName=Zs;var rx="TooltipArrow",E1=g.forwardRef((n,l)=>{const{__scopeTooltip:o,...c}=n,i=si(o);return S1(rx,o).isInside?null:t.jsx(s1,{...i,...c,ref:l})});E1.displayName=rx;function T1(n,l){const o=Math.abs(l.top-n.y),c=Math.abs(l.bottom-n.y),i=Math.abs(l.right-n.x),d=Math.abs(l.left-n.x);switch(Math.min(o,c,i,d)){case d:return"left";case i:return"right";case o:return"top";case c:return"bottom";default:throw new Error("unreachable")}}function _1(n,l,o=5){const c=[];switch(l){case"top":c.push({x:n.x-o,y:n.y+o},{x:n.x+o,y:n.y+o});break;case"bottom":c.push({x:n.x-o,y:n.y-o},{x:n.x+o,y:n.y-o});break;case"left":c.push({x:n.x+o,y:n.y-o},{x:n.x+o,y:n.y+o});break;case"right":c.push({x:n.x-o,y:n.y-o},{x:n.x-o,y:n.y+o});break}return c}function R1(n){const{top:l,right:o,bottom:c,left:i}=n;return[{x:i,y:l},{x:o,y:l},{x:o,y:c},{x:i,y:c}]}function P1(n,l){const{x:o,y:c}=n;let i=!1;for(let d=0,h=l.length-1;d<l.length;h=d++){const x=l[d],f=l[h],m=x.x,w=x.y,b=f.x,v=f.y;w>c!=v>c&&o<(b-m)*(c-w)/(v-w)+m&&(i=!i)}return i}function L1(n){const l=n.slice();return l.sort((o,c)=>o.x<c.x?-1:o.x>c.x?1:o.y<c.y?-1:o.y>c.y?1:0),I1(l)}function I1(n){if(n.length<=1)return n.slice();const l=[];for(let c=0;c<n.length;c++){const i=n[c];for(;l.length>=2;){const d=l[l.length-1],h=l[l.length-2];if((d.x-h.x)*(i.y-h.y)>=(d.y-h.y)*(i.x-h.x))l.pop();else break}l.push(i)}l.pop();const o=[];for(let c=n.length-1;c>=0;c--){const i=n[c];for(;o.length>=2;){const d=o[o.length-1],h=o[o.length-2];if((d.x-h.x)*(i.y-h.y)>=(d.y-h.y)*(i.x-h.x))o.pop();else break}o.push(i)}return o.pop(),l.length===1&&o.length===1&&l[0].x===o[0].x&&l[0].y===o[0].y?l:l.concat(o)}var M1=qm,D1=Km,O1=Xm,A1=Zm,z1=ex;function nx(n){var l,o,c="";if(typeof n=="string"||typeof n=="number")c+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(l=0;l<i;l++)n[l]&&(o=nx(n[l]))&&(c&&(c+=" "),c+=o)}else for(o in n)n[o]&&(c&&(c+=" "),c+=o);return c}function sx(){for(var n,l,o=0,c="",i=arguments.length;o<i;o++)(n=arguments[o])&&(l=nx(n))&&(c&&(c+=" "),c+=l);return c}const $1=(n,l)=>{const o=new Array(n.length+l.length);for(let c=0;c<n.length;c++)o[c]=n[c];for(let c=0;c<l.length;c++)o[n.length+c]=l[c];return o},F1=(n,l)=>({classGroupId:n,validator:l}),lx=(n=new Map,l=null,o)=>({nextPart:n,validators:l,classGroupId:o}),Fa="-",jp=[],B1="arbitrary..",U1=n=>{const l=H1(n),{conflictingClassGroups:o,conflictingClassGroupModifiers:c}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return W1(h);const x=h.split(Fa),f=x[0]===""&&x.length>1?1:0;return ox(x,f,l)},getConflictingClassGroupIds:(h,x)=>{if(x){const f=c[h],m=o[h];return f?m?$1(m,f):f:m||jp}return o[h]||jp}}},ox=(n,l,o)=>{if(n.length-l===0)return o.classGroupId;const i=n[l],d=o.nextPart.get(i);if(d){const m=ox(n,l+1,d);if(m)return m}const h=o.validators;if(h===null)return;const x=l===0?n.join(Fa):n.slice(l).join(Fa),f=h.length;for(let m=0;m<f;m++){const w=h[m];if(w.validator(x))return w.classGroupId}},W1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const l=n.slice(1,-1),o=l.indexOf(":"),c=l.slice(0,o);return c?B1+c:void 0})(),H1=n=>{const{theme:l,classGroups:o}=n;return V1(o,l)},V1=(n,l)=>{const o=lx();for(const c in n){const i=n[c];Jd(i,o,c,l)}return o},Jd=(n,l,o,c)=>{const i=n.length;for(let d=0;d<i;d++){const h=n[d];J1(h,l,o,c)}},J1=(n,l,o,c)=>{if(typeof n=="string"){Q1(n,l,o);return}if(typeof n=="function"){Y1(n,l,o,c);return}G1(n,l,o,c)},Q1=(n,l,o)=>{const c=n===""?l:ax(l,n);c.classGroupId=o},Y1=(n,l,o,c)=>{if(q1(n)){Jd(n(c),l,o,c);return}l.validators===null&&(l.validators=[]),l.validators.push(F1(o,n))},G1=(n,l,o,c)=>{const i=Object.entries(n),d=i.length;for(let h=0;h<d;h++){const[x,f]=i[h];Jd(f,ax(l,x),o,c)}},ax=(n,l)=>{let o=n;const c=l.split(Fa),i=c.length;for(let d=0;d<i;d++){const h=c[d];let x=o.nextPart.get(h);x||(x=lx(),o.nextPart.set(h,x)),o=x}return o},q1=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,K1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let l=0,o=Object.create(null),c=Object.create(null);const i=(d,h)=>{o[d]=h,l++,l>n&&(l=0,c=o,o=Object.create(null))};return{get(d){let h=o[d];if(h!==void 0)return h;if((h=c[d])!==void 0)return i(d,h),h},set(d,h){d in o?o[d]=h:i(d,h)}}},vd="!",Np=":",X1=[],kp=(n,l,o,c,i)=>({modifiers:n,hasImportantModifier:l,baseClassName:o,maybePostfixModifierPosition:c,isExternal:i}),Z1=n=>{const{prefix:l,experimentalParseClassName:o}=n;let c=i=>{const d=[];let h=0,x=0,f=0,m;const w=i.length;for(let C=0;C<w;C++){const k=i[C];if(h===0&&x===0){if(k===Np){d.push(i.slice(f,C)),f=C+1;continue}if(k==="/"){m=C;continue}}k==="["?h++:k==="]"?h--:k==="("?x++:k===")"&&x--}const b=d.length===0?i:i.slice(f);let v=b,y=!1;b.endsWith(vd)?(v=b.slice(0,-1),y=!0):b.startsWith(vd)&&(v=b.slice(1),y=!0);const N=m&&m>f?m-f:void 0;return kp(d,y,v,N)};if(l){const i=l+Np,d=c;c=h=>h.startsWith(i)?d(h.slice(i.length)):kp(X1,!1,h,void 0,!0)}if(o){const i=c;c=d=>o({className:d,parseClassName:i})}return c},eN=n=>{const l=new Map;return n.orderSensitiveModifiers.forEach((o,c)=>{l.set(o,1e6+c)}),o=>{const c=[];let i=[];for(let d=0;d<o.length;d++){const h=o[d],x=h[0]==="[",f=l.has(h);x||f?(i.length>0&&(i.sort(),c.push(...i),i=[]),c.push(h)):i.push(h)}return i.length>0&&(i.sort(),c.push(...i)),c}},tN=n=>({cache:K1(n.cacheSize),parseClassName:Z1(n),sortModifiers:eN(n),...U1(n)}),rN=/\s+/,nN=(n,l)=>{const{parseClassName:o,getClassGroupId:c,getConflictingClassGroupIds:i,sortModifiers:d}=l,h=[],x=n.trim().split(rN);let f="";for(let m=x.length-1;m>=0;m-=1){const w=x[m],{isExternal:b,modifiers:v,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:C}=o(w);if(b){f=w+(f.length>0?" "+f:f);continue}let k=!!C,_=c(k?N.substring(0,C):N);if(!_){if(!k){f=w+(f.length>0?" "+f:f);continue}if(_=c(N),!_){f=w+(f.length>0?" "+f:f);continue}k=!1}const I=v.length===0?"":v.length===1?v[0]:d(v).join(":"),O=y?I+vd:I,V=O+_;if(h.indexOf(V)>-1)continue;h.push(V);const K=i(_,k);for(let F=0;F<K.length;++F){const S=K[F];h.push(O+S)}f=w+(f.length>0?" "+f:f)}return f},sN=(...n)=>{let l=0,o,c,i="";for(;l<n.length;)(o=n[l++])&&(c=ix(o))&&(i&&(i+=" "),i+=c);return i},ix=n=>{if(typeof n=="string")return n;let l,o="";for(let c=0;c<n.length;c++)n[c]&&(l=ix(n[c]))&&(o&&(o+=" "),o+=l);return o},lN=(n,...l)=>{let o,c,i,d;const h=f=>{const m=l.reduce((w,b)=>b(w),n());return o=tN(m),c=o.cache.get,i=o.cache.set,d=x,x(f)},x=f=>{const m=c(f);if(m)return m;const w=nN(f,o);return i(f,w),w};return d=h,(...f)=>d(sN(...f))},oN=[],jt=n=>{const l=o=>o[n]||oN;return l.isThemeGetter=!0,l},cx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aN=/^\d+\/\d+$/,iN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,uN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=n=>aN.test(n),He=n=>!!n&&!Number.isNaN(Number(n)),On=n=>!!n&&Number.isInteger(Number(n)),Xc=n=>n.endsWith("%")&&He(n.slice(0,-1)),sn=n=>iN.test(n),fN=()=>!0,pN=n=>cN.test(n)&&!dN.test(n),ux=()=>!1,mN=n=>uN.test(n),xN=n=>hN.test(n),gN=n=>!Ne(n)&&!ke(n),vN=n=>nl(n,px,ux),Ne=n=>cx.test(n),fs=n=>nl(n,mx,pN),Zc=n=>nl(n,NN,He),Sp=n=>nl(n,hx,ux),yN=n=>nl(n,fx,xN),Ca=n=>nl(n,xx,mN),ke=n=>dx.test(n),Yl=n=>sl(n,mx),bN=n=>sl(n,kN),Cp=n=>sl(n,hx),wN=n=>sl(n,px),jN=n=>sl(n,fx),Ea=n=>sl(n,xx,!0),nl=(n,l,o)=>{const c=cx.exec(n);return c?c[1]?l(c[1]):o(c[2]):!1},sl=(n,l,o=!1)=>{const c=dx.exec(n);return c?c[1]?l(c[1]):o:!1},hx=n=>n==="position"||n==="percentage",fx=n=>n==="image"||n==="url",px=n=>n==="length"||n==="size"||n==="bg-size",mx=n=>n==="length",NN=n=>n==="number",kN=n=>n==="family-name",xx=n=>n==="shadow",SN=()=>{const n=jt("color"),l=jt("font"),o=jt("text"),c=jt("font-weight"),i=jt("tracking"),d=jt("leading"),h=jt("breakpoint"),x=jt("container"),f=jt("spacing"),m=jt("radius"),w=jt("shadow"),b=jt("inset-shadow"),v=jt("text-shadow"),y=jt("drop-shadow"),N=jt("blur"),C=jt("perspective"),k=jt("aspect"),_=jt("ease"),I=jt("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...V(),ke,Ne],F=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],B=()=>[ke,Ne,f],Y=()=>[Js,"full","auto",...B()],ne=()=>[On,"none","subgrid",ke,Ne],oe=()=>["auto",{span:["full",On,ke,Ne]},On,ke,Ne],ve=()=>[On,"auto",ke,Ne],X=()=>["auto","min","max","fr",ke,Ne],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...B()],xe=()=>[Js,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],L=()=>[n,ke,Ne],se=()=>[...V(),Cp,Sp,{position:[ke,Ne]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",wN,vN,{size:[ke,Ne]}],A=()=>[Xc,Yl,fs],ee=()=>["","none","full",m,ke,Ne],R=()=>["",He,Yl,fs],Z=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>[He,Xc,Cp,Sp],te=()=>["","none",N,ke,Ne],ue=()=>["none",He,ke,Ne],De=()=>["none",He,ke,Ne],Qe=()=>[He,ke,Ne],U=()=>[Js,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[sn],breakpoint:[sn],color:[fN],container:[sn],"drop-shadow":[sn],ease:["in","out","in-out"],font:[gN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[sn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[sn],shadow:[sn],spacing:["px",He],text:[sn],"text-shadow":[sn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Js,Ne,ke,k]}],container:["container"],columns:[{columns:[He,Ne,ke,x]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[On,"auto",ke,Ne]}],basis:[{basis:[Js,"full","auto",x,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,Js,"auto","initial","none",Ne]}],grow:[{grow:["",He,ke,Ne]}],shrink:[{shrink:["",He,ke,Ne]}],order:[{order:[On,"first","last","none",ke,Ne]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:xe()}],w:[{w:[x,"screen",...xe()]}],"min-w":[{"min-w":[x,"screen","none",...xe()]}],"max-w":[{"max-w":[x,"screen","none","prose",{screen:[h]},...xe()]}],h:[{h:["screen","lh",...xe()]}],"min-h":[{"min-h":["screen","lh","none",...xe()]}],"max-h":[{"max-h":["screen","lh",...xe()]}],"font-size":[{text:["base",o,Yl,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[c,ke,Zc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xc,Ne]}],"font-family":[{font:[bN,Ne,l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ke,Ne]}],"line-clamp":[{"line-clamp":[He,"none",ke,Zc]}],leading:[{leading:[d,...B()]}],"list-image":[{"list-image":["none",ke,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",ke,fs]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[He,"auto",ke,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},On,ke,Ne],radial:["",ke,Ne],conic:[On,ke,Ne]},jN,yN]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,ke,Ne]}],"outline-w":[{outline:["",He,Yl,fs]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",w,Ea,Ca]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",b,Ea,Ca]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[He,fs]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",v,Ea,Ca]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[He,ke,Ne]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":E()}],"mask-image-linear-to-pos":[{"mask-linear-to":E()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":E()}],"mask-image-t-to-pos":[{"mask-t-to":E()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":E()}],"mask-image-r-to-pos":[{"mask-r-to":E()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":E()}],"mask-image-b-to-pos":[{"mask-b-to":E()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":E()}],"mask-image-l-to-pos":[{"mask-l-to":E()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":E()}],"mask-image-x-to-pos":[{"mask-x-to":E()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":E()}],"mask-image-y-to-pos":[{"mask-y-to":E()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[ke,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":E()}],"mask-image-radial-to-pos":[{"mask-radial-to":E()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":E()}],"mask-image-conic-to-pos":[{"mask-conic-to":E()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ne]}],filter:[{filter:["","none",ke,Ne]}],blur:[{blur:te()}],brightness:[{brightness:[He,ke,Ne]}],contrast:[{contrast:[He,ke,Ne]}],"drop-shadow":[{"drop-shadow":["","none",y,Ea,Ca]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",He,ke,Ne]}],"hue-rotate":[{"hue-rotate":[He,ke,Ne]}],invert:[{invert:["",He,ke,Ne]}],saturate:[{saturate:[He,ke,Ne]}],sepia:[{sepia:["",He,ke,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ne]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[He,ke,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[He,ke,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,ke,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,ke,Ne]}],"backdrop-invert":[{"backdrop-invert":["",He,ke,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[He,ke,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[He,ke,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",He,ke,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",ke,Ne]}],ease:[{ease:["linear","initial",_,ke,Ne]}],delay:[{delay:[He,ke,Ne]}],animate:[{animate:["none",I,ke,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ke,Ne]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[ke,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ne]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[He,Yl,fs,Zc]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CN=lN(SN);function ll(...n){return CN(sx(n))}function Bt({delayDuration:n=0,...l}){return t.jsx(M1,{delayDuration:n,...l})}function qt({...n}){return t.jsx(Bt,{children:t.jsx(D1,{...n})})}function Kt({...n}){return t.jsx(O1,{...n})}function Xt({className:n,sideOffset:l=6,children:o,style:c,...i}){return t.jsx(A1,{children:t.jsx(z1,{sideOffset:l,collisionPadding:12,className:ll("z-50 max-w-[min(320px,calc(100vw-24px))] border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-xs shadow-md",n),style:{padding:"16px",borderRadius:"12px",...c},...i,children:o})})}function fo({enabled:n,disabled:l=!1,onChange:o,idPrefix:c,size:i="md",showStateText:d=!0}){const[h,x]=g.useState(!1),[f,m]=g.useState(n);g.useEffect(()=>{m(n)},[n]);const w=async()=>{if(l||h)return;const N=!f;m(N),x(!0);try{await o(N)}catch(C){m(!N),console.error("Failed to update status:",C)}finally{x(!1)}},b={sm:"w-10 h-5",md:"w-12 h-6",lg:"w-14 h-7"},v={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},y={sm:"min-w-10 min-h-8",md:"min-w-11 min-h-9",lg:"min-w-12 min-h-10"};return t.jsxs("div",{className:`inline-flex items-center gap-2.5 ${l?"opacity-60":""}`,children:[t.jsxs("div",{className:"relative inline-block",children:[t.jsx("button",{type:"button",id:`${c}-state-toggle`,role:"switch","aria-checked":f,"aria-disabled":l||h,disabled:l||h,onClick:w,className:`relative inline-flex items-center justify-center rounded-md border-2 p-1 ${y[i]} ${l?"cursor-not-allowed border-[hsl(var(--muted-foreground)_/_0.4)]":"cursor-pointer border-[hsl(var(--primary))] shadow-[0_0_0_3px_hsl(var(--primary)_/_0.25)]"}`,children:t.jsx("div",{className:`relative ${b[i]} rounded-full border border-[hsl(var(--border)_/_0.7)] transition-colors duration-300 ease-in-out ${f?"bg-[hsl(var(--success))]":"bg-[hsl(var(--muted-foreground))]"} ${h?"opacity-70":""}`,children:t.jsx("div",{className:`absolute top-0.5 left-0.5 transform transition-transform duration-300 ease-in-out ${f?"translate-x-full":"translate-x-0"} ${v[i]} rounded-full bg-white shadow-md flex items-center justify-center`,children:h?t.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-[hsl(var(--primary))] border-t-transparent"}):null})})}),f&&t.jsx("div",{className:"absolute inset-0 rounded-full pointer-events-none",children:t.jsx("div",{className:"absolute inset-0 rounded-full bg-[hsl(var(--success)_/_0.3)] opacity-0 animate-[pulse_2s_ease-in-out_infinite]"})})]}),d&&t.jsx("label",{htmlFor:`${c}-state-toggle`,className:`cursor-pointer text-sm font-semibold ${f?"text-[hsl(var(--success))]":"text-[hsl(var(--muted-foreground))]"}`,children:f?"":""})]})}function Ba({context:n="integration"}){const[l,o]=g.useState(null),[c,i]=g.useState(!1),d=async(w,b)=>{b.preventDefault(),b.stopPropagation();try{await navigator.clipboard.writeText(w),o(w),setTimeout(()=>o(null),2e3)}catch{const v=document.createElement("textarea");v.value=w,document.body.appendChild(v),v.select(),document.execCommand("copy"),document.body.removeChild(v),o(w),setTimeout(()=>o(null),2e3)}},h=[{code:"${payload.name}",description:""},{code:"${payload.status}",description:""},{code:"${payload.id}",description:"ID"},{code:'${payload?.field || " "}',description:" fallback"},{code:"${payload.items?.[0]?.name}",description:"  "}],x=[{code:"${response.name}",description:"  Action API"},{code:"${trigger.id}",description:"  "}],f=n==="integration"?[...h,...x]:h,m=n==="integration"?" ${payload.name}\n ${payload.job_title || ''}\n ${payload.location || ''}\n ID: ${payload.id}":` 

 \${payload.subject || payload.name}
 : \${payload.status}
 ID: \${payload.id}`;return t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{open:c,onOpenChange:i,children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),i(b=>!b)},className:"ml-1.5 flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]","aria-label":"   ",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"left",className:"max-w-md text-left p-0",onPointerDownOutside:()=>i(!1),children:t.jsxs("div",{className:"p-3 space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium mb-2",children:" "}),t.jsxs("p",{className:"text-xs text-[hsl(var(--muted-foreground))] mb-2",children:[" ",t.jsxs("code",{className:"bg-[hsl(var(--muted))] px-1 rounded",children:["$","{","...","}"]}),"   .   ."]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))]",children:":"}),f.map(w=>t.jsxs("div",{onClick:b=>d(w.code,b),className:"flex items-center justify-between gap-2 p-1.5 rounded cursor-pointer hover:bg-[hsl(var(--accent))] transition-colors group",children:[t.jsx("code",{className:"text-xs bg-[hsl(var(--muted))] px-1.5 py-0.5 rounded flex-1 overflow-hidden text-ellipsis",children:w.code}),t.jsx("span",{className:"text-xs text-[hsl(var(--muted-foreground))] shrink-0",children:w.description}),t.jsx("span",{className:"shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:l===w.code?t.jsx(ud,{className:"h-3.5 w-3.5 text-[hsl(var(--success))]"}):t.jsx(ms,{className:"h-3.5 w-3.5"})})]},w.code))]}),t.jsxs("div",{className:"border-t border-[hsl(var(--border))] pt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))]",children:" :"}),t.jsx("button",{onClick:w=>d(m,w),className:"flex items-center gap-1 text-xs text-[hsl(var(--primary))] hover:underline",children:l===m?t.jsxs(t.Fragment,{children:[t.jsx(ud,{className:"h-3 w-3"}),""]}):t.jsxs(t.Fragment,{children:[t.jsx(ms,{className:"h-3 w-3"}),""]})})]}),t.jsx("pre",{className:"text-xs bg-[hsl(var(--muted))] p-2 rounded overflow-x-auto whitespace-pre-wrap",children:m})]}),n==="integration"&&t.jsxs("div",{className:"text-xs text-[hsl(var(--muted-foreground))] border-t border-[hsl(var(--border))] pt-2",children:[t.jsx("p",{className:"font-medium mb-1",children:" :"}),t.jsxs("ul",{className:"space-y-0.5",children:[t.jsxs("li",{children:[t.jsx("code",{className:"bg-[hsl(var(--muted))] px-1 rounded",children:"payload"}),"   Action API ( )"]}),t.jsxs("li",{children:[t.jsx("code",{className:"bg-[hsl(var(--muted))] px-1 rounded",children:"response"}),"   Action API"]}),t.jsxs("li",{children:[t.jsx("code",{className:"bg-[hsl(var(--muted))] px-1 rounded",children:"trigger"}),"   "]})]})]})]})})]})})}function EN({className:n,...l}){return t.jsx("div",{"data-slot":"card",className:ll("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...l})}function TN({className:n,...l}){return t.jsx("div",{"data-slot":"card-header",className:ll("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...l})}function _N({className:n,...l}){return t.jsx("h4",{"data-slot":"card-title",className:ll("leading-none",n),...l})}function RN({className:n,...l}){return t.jsx("div",{"data-slot":"card-content",className:ll("px-6 [&:last-child]:pb-6",n),...l})}var PN=Symbol.for("react.lazy"),Ua=Wa[" use ".trim().toString()];function LN(n){return typeof n=="object"&&n!==null&&"then"in n}function gx(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===PN&&"_payload"in n&&LN(n._payload)}function IN(n){const l=DN(n),o=g.forwardRef((c,i)=>{let{children:d,...h}=c;gx(d)&&typeof Ua=="function"&&(d=Ua(d._payload));const x=g.Children.toArray(d),f=x.find(AN);if(f){const m=f.props.children,w=x.map(b=>b===f?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:b);return t.jsx(l,{...h,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,w):null})}return t.jsx(l,{...h,ref:i,children:d})});return o.displayName=`${n}.Slot`,o}var MN=IN("Slot");function DN(n){const l=g.forwardRef((o,c)=>{let{children:i,...d}=o;if(gx(i)&&typeof Ua=="function"&&(i=Ua(i._payload)),g.isValidElement(i)){const h=$N(i),x=zN(d,i.props);return i.type!==g.Fragment&&(x.ref=c?Md(c,h):h),g.cloneElement(i,x)}return g.Children.count(i)>1?g.Children.only(null):null});return l.displayName=`${n}.SlotClone`,l}var ON=Symbol("radix.slottable");function AN(n){return g.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===ON}function zN(n,l){const o={...l};for(const c in l){const i=n[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?o[c]=(...x)=>{const f=d(...x);return i(...x),f}:i&&(o[c]=i):c==="style"?o[c]={...i,...d}:c==="className"&&(o[c]=[i,d].filter(Boolean).join(" "))}return{...n,...o}}function $N(n){let l=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,o=l&&"isReactWarning"in l&&l.isReactWarning;return o?n.ref:(l=Object.getOwnPropertyDescriptor(n,"ref")?.get,o=l&&"isReactWarning"in l&&l.isReactWarning,o?n.props.ref:n.props.ref||n.ref)}const Ep=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Tp=sx,FN=(n,l)=>o=>{var c;if(l?.variants==null)return Tp(n,o?.class,o?.className);const{variants:i,defaultVariants:d}=l,h=Object.keys(i).map(m=>{const w=o?.[m],b=d?.[m];if(w===null)return null;const v=Ep(w)||Ep(b);return i[m][v]}),x=o&&Object.entries(o).reduce((m,w)=>{let[b,v]=w;return v===void 0||(m[b]=v),m},{}),f=l==null||(c=l.compoundVariants)===null||c===void 0?void 0:c.reduce((m,w)=>{let{class:b,className:v,...y}=w;return Object.entries(y).every(N=>{let[C,k]=N;return Array.isArray(k)?k.includes({...d,...x}[C]):{...d,...x}[C]===k})?[...m,b,v]:m},[]);return Tp(n,h,f,o?.class,o?.className)},BN=FN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function UN({className:n,variant:l,size:o,asChild:c=!1,...i}){const d=c?MN:"button";return t.jsx(d,{"data-slot":"button",className:ll(BN({variant:l,size:o,className:n})),...i})}function WN({message:n,payload:l,context:o="rule"}){const[c,i]=g.useState(!0),h=l?((x,f)=>{if(!x||typeof x!="string"){if(f&&typeof f=="object"){const m=[];if(f.subject&&m.push(` ${f.subject}`),f.requested_by?.name&&m.push(` ${f.requested_by.name}`),f.status&&m.push(` ${f.status}`),f.team_name&&m.push(` ${f.team_name}`),f.category&&m.push(` ${f.category}`),f.priority&&m.push(` ${f.priority}`),m.length>0)return m.join(`
`)}return"  "}try{let m=x;const w=/\$\{([^}]+)\}|{{([^}]+)}}/g;let b;for(;(b=w.exec(m))!==null;){const v=b[0],y=b[1],N=b[2],C=y||N;if(C&&f){const k=C.split(".").filter(I=>I!=="payload"&&I!=="response"&&I!=="trigger");let _=f;for(const I of k)if(_&&typeof _=="object")_=_[I];else{_=void 0;break}_!=null&&(m=m.replace(v,String(_)))}}return m}catch(m){return console.error("Error formatting message:",m),x}})(n,l):n;return t.jsxs(EN,{className:"border border-[hsl(var(--border))] bg-[hsl(var(--muted))]",children:[t.jsx(TN,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(_N,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(yb,{className:"h-4 w-4"}),"  "]}),t.jsx(UN,{variant:"ghost",size:"sm",onClick:()=>i(!c),className:"h-8 w-8 p-0",children:c?t.jsx(mm,{className:"h-4 w-4"}):t.jsx(xm,{className:"h-4 w-4"})})]})}),t.jsx(RN,{children:c?t.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"bg-blue-500 rounded-full w-8 h-8 flex items-center justify-center text-white text-sm font-medium",children:"B"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm mb-1",children:"Webhook Bot"}),t.jsx("div",{className:"text-gray-800 text-sm whitespace-pre-wrap break-words",children:h}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:" "})]})]})}):t.jsx("div",{className:"text-center py-4 text-sm text-[hsl(var(--muted-foreground))]",children:"  "})})]})}function Ta({children:n}){const[l,o]=g.useState(!1);return t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{open:l,onOpenChange:o,children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",onClick:c=>{c.stopPropagation(),o(i=>!i)},className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",align:"start",className:"max-w-xs text-left",onPointerDownOutside:()=>o(!1),children:n})]})})}function HN({ruleId:n,onSave:l,onCancel:o}){const[c,i]=g.useState(""),[d,h]=g.useState('payload.category === "incident"'),[x,f]=g.useState(""),[m,w]=g.useState(""),[b,v]=g.useState(""),[y,N]=g.useState(!0),[C,k]=g.useState(!1),[_,I]=g.useState(""),O={id:12345,subject:"   ",status:"open",category:"incident",priority:"high",impact:"medium",team_name:"Support Team",requested_by:{name:" ",account:{name:"Acme Corp"}},note:[{person:{name:" "},text:" ",created_at:"2023-05-15T10:30:00Z"}]};g.useEffect(()=>{n&&V()},[n]);const V=async()=>{if(n)try{const F=await me.getRule(n);i(F.name),h(F.condition),f(F.chatId),w(F.botToken||""),v(F.messageTemplate||""),N(F.enabled)}catch(F){I(F.message)}},K=async F=>{if(F.preventDefault(),I(""),!c||!d||!x){I("   ");return}k(!0);try{await l({name:c,condition:d,chatId:x,botToken:m||void 0,messageTemplate:b||void 0,enabled:y})}catch(S){I(S.message)}finally{k(!1)}};return t.jsxs("form",{className:"entity-edit-form",onSubmit:K,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[_&&t.jsx("div",{style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid hsl(var(--destructive) / 0.2)",background:"hsl(var(--destructive) / 0.1)",color:"hsl(var(--destructive))",fontSize:"14px"},children:_}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"ruleName",style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" Webhook",t.jsx(Ta,{children:"    Webhook  .    , :        ."})]}),t.jsx("input",{type:"text",id:"ruleName",value:c,onChange:F=>i(F.target.value),placeholder:":    ",required:!0,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"}})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"condition",style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" (JavaScript )",t.jsx(Ta,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:["JavaScript ,    ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"true"}),"   Webhook."]}),t.jsx("p",{children:t.jsx("strong",{children:" :"})}),t.jsx("ul",{className:"list-inside list-disc",children:t.jsxs("li",{children:[t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"payload"}),"   "]})}),t.jsx("p",{children:t.jsx("strong",{children:":"})}),t.jsxs("ul",{className:"list-inside list-disc",children:[t.jsx("li",{children:t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:'payload.status === "open"'})}),t.jsx("li",{children:t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"payload.priority > 3"})}),t.jsx("li",{children:t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:'payload.category === "incident"'})})]})]})})]}),t.jsx("textarea",{id:"condition",value:d,onChange:F=>h(F.target.value),placeholder:'payload.category === "incident"',required:!0,rows:4,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"}})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"chatId",style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["ID Telegram ",t.jsx(Ta,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"  /  Telegram."}),t.jsx("p",{children:t.jsx("strong",{children:" :"})}),t.jsxs("ul",{className:"list-inside list-disc",children:[t.jsxs("li",{children:["  ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"@userinfobot"}),"  "]}),t.jsxs("li",{children:["    ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"@getmyid_bot"})]})]}),t.jsxs("p",{children:[t.jsx("strong",{children:":"}),"  / ID   ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"-100"})]})]})})]}),t.jsx("input",{type:"text",id:"chatId",value:x,onChange:F=>f(F.target.value),placeholder:": -1001234567890",required:!0,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"}})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"botToken",style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" Telegram ",t.jsx(Ta,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"    .         ."}),t.jsx("p",{children:t.jsx("strong",{children:" :"})}),t.jsxs("ul",{className:"list-inside list-disc",children:[t.jsxs("li",{children:["   ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"@BotFather"})]}),t.jsx("li",{children:"   "})]}),t.jsxs("p",{children:[": ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted))] px-1",children:"123456789:ABC..."})]})]})})]}),t.jsx("input",{type:"password",id:"botToken",value:m,onChange:F=>w(F.target.value),placeholder:"    ",style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"}})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"messageTemplate",style:{display:"flex",alignItems:"center",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" ",t.jsx(Ba,{context:"rule"})]}),t.jsx("textarea",{id:"messageTemplate",value:b,onChange:F=>v(F.target.value),placeholder:"   ",rows:4,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"}})]}),t.jsx("div",{children:t.jsx(WN,{message:b,payload:O,context:"rule"})}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:""}),t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:t.jsx(fo,{idPrefix:"rule-form",enabled:y,onChange:N})})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[t.jsx("button",{type:"submit",disabled:C,style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,cursor:"pointer",border:"none",opacity:C?.5:1},children:C?"...":" Webhook"}),t.jsx("button",{type:"button",onClick:o,style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--secondary))",color:"hsl(var(--secondary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""})]})]})}function li({isOpen:n,onClose:l,title:o,description:c,items:i,loading:d=!1,exportFileName:h,exportType:x,onExportSuccess:f}){const[m,w]=g.useState(new Set);g.useEffect(()=>{n&&w(new Set)},[n]);const b=N=>{w(C=>{const k=new Set(C);return k.has(N)?k.delete(N):k.add(N),k})},v=()=>{m.size===i.length?w(new Set):w(new Set(i.map(N=>N.id)))},y=()=>{const N=i.filter(O=>m.has(O.id));if(N.length===0)return;const C={exportedAt:new Date().toISOString(),count:N.length,[x]:N},k=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),_=URL.createObjectURL(k),I=document.createElement("a");I.href=_,I.download=h,I.click(),URL.revokeObjectURL(_),f?.(N.length),l()};return n?t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"100px",zIndex:9999},onClick:l,children:t.jsxs("div",{style:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",padding:"24px",width:"100%",maxWidth:"450px",maxHeight:"calc(100vh - 150px)",overflow:"hidden",display:"flex",flexDirection:"column",border:"1px solid hsl(var(--border))",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},onClick:N=>N.stopPropagation(),children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:600,marginBottom:"4px"},children:o}),t.jsx("p",{style:{fontSize:"14px",color:"hsl(var(--muted-foreground))"},children:c})]}),t.jsx("div",{style:{maxHeight:"300px",overflow:"auto",borderRadius:"8px",border:"1px solid hsl(var(--border))",flex:1},children:d?t.jsx("div",{style:{padding:"32px",textAlign:"center"},children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-[hsl(var(--primary))] border-t-transparent",style:{margin:"0 auto"}})}):i.length===0?t.jsx("div",{style:{padding:"32px",textAlign:"center",color:"hsl(var(--muted-foreground))"},children:"   "}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{padding:"12px 16px",cursor:"pointer",position:"sticky",top:0,background:"hsl(var(--muted))",borderBottom:"1px solid hsl(var(--border))"},onClick:v,children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid",borderColor:m.size===i.length?"hsl(var(--primary))":"hsl(var(--input))",background:m.size===i.length?"hsl(var(--primary))":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:m.size===i.length&&i.length>0&&t.jsx(tp,{className:"h-3 w-3",style:{color:"hsl(var(--primary-foreground))"}})}),t.jsxs("span",{style:{fontWeight:500},children:["  (",i.length,")"]})]})}),i.map(N=>t.jsx("div",{style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid hsl(var(--border))"},onClick:()=>b(N.id),children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid",flexShrink:0,borderColor:m.has(N.id)?"hsl(var(--primary))":"hsl(var(--input))",background:m.has(N.id)?"hsl(var(--primary))":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:m.has(N.id)&&t.jsx(tp,{className:"h-3 w-3",style:{color:"hsl(var(--primary-foreground))"}})}),t.jsx("div",{style:{flex:1,overflow:"hidden"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[N.enabled!==void 0&&t.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"11px",background:N.enabled?"hsl(var(--success) / 0.15)":"hsl(var(--destructive) / 0.1)",color:N.enabled?"hsl(var(--success))":"hsl(var(--destructive))"},children:N.enabled?"":""}),t.jsx("span",{style:{fontWeight:500},children:N.name})]})})]})},N.id))]})}),t.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:l,style:{padding:"10px 16px",borderRadius:"8px",border:"1px solid hsl(var(--border))",background:"hsl(var(--secondary))",cursor:"pointer",fontSize:"14px"},children:""}),t.jsxs("button",{onClick:y,disabled:m.size===0,style:{padding:"10px 16px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",cursor:"pointer",fontSize:"14px",fontWeight:500,opacity:m.size===0?.5:1},children:[" (",m.size,")"]})]})]})}):null}function po({enabled:n,disabled:l=!1,onChange:o,title:c=n?"":""}){return t.jsx("button",{type:"button",title:c,"aria-label":c,onClick:()=>o(!n),disabled:l,className:"icon-button",children:n?t.jsx(_b,{className:"h-4 w-4 text-[hsl(var(--success))]"}):t.jsx(Eb,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))]"})})}const vx=g.createContext(void 0),Qn=()=>{const n=g.useContext(vx);if(!n)throw new Error("useToast must be used within a ToastProvider");return n},VN=({children:n})=>{const[l,o]=g.useState([]),[c,i]=g.useState(!1);g.useEffect(()=>{i(!0)},[]);const d=(x,f,m=5e3)=>{const w=Math.random().toString(36).substring(2,9),b={id:w,message:x,type:f,duration:m};o(v=>[...v,b]),setTimeout(()=>{h(w)},m)},h=x=>{o(f=>f.filter(m=>m.id!==x))};return t.jsxs(vx.Provider,{value:{toasts:l,addToast:d,removeToast:h},children:[n,c&&Ka.createPortal(t.jsx("div",{style:{position:"fixed",right:"16px",bottom:"16px",zIndex:99999,display:"flex",flexDirection:"column",gap:"8px",maxWidth:"420px"},children:l.map(x=>t.jsx(JN,{toast:x,onClose:()=>h(x.id)},x.id))}),document.body)]})},JN=({toast:n,onClose:l})=>{const[o,c]=g.useState(!1);g.useEffect(()=>{const d=setTimeout(()=>c(!0),10);return()=>clearTimeout(d)},[]);const i={success:{bg:"#ecfdf5",border:"#34d399",text:"#065f46"},error:{bg:"#fef2f2",border:"#f87171",text:"#991b1b"},info:{bg:"#eff6ff",border:"#60a5fa",text:"#1e3a8a"},warning:{bg:"#fffbeb",border:"#f59e0b",text:"#92400e"}}[n.type];return t.jsxs("div",{style:{transform:o?"translateX(0)":"translateX(16px)",opacity:o?1:0,transition:"transform 220ms ease, opacity 220ms ease",display:"flex",alignItems:"flex-start",gap:"12px",borderRadius:"10px",border:`1px solid ${i.border}`,background:i.bg,color:i.text,padding:"12px 14px",boxShadow:"0 10px 20px rgba(0,0,0,0.18)",width:"100%"},children:[t.jsx("div",{style:{flex:1},children:n.message}),t.jsx("button",{onClick:l,style:{flexShrink:0,borderRadius:"999px",padding:"4px",cursor:"pointer",border:"none"},"aria-label":" ",children:t.jsx(qa,{className:"h-4 w-4"})})]})};function _p(){const{user:n}=Hr(),l=n?.role!=="auditor",[o,c]=vs(),[i,d]=g.useState([]),[h,x]=g.useState(!0),[f,m]=g.useState(null),[w,b]=g.useState(null),[v,y]=g.useState(""),{addToast:N}=Qn(),[C,k]=g.useState(!1),[_,I]=g.useState(null),[O,V]=g.useState(!1),[K,F]=g.useState(!1),S=g.useRef(null);g.useEffect(()=>{const A=o.get("create"),ee=o.get("select");if(A==="true")m(null),b(-1),c({},{replace:!0});else if(ee){const R=parseInt(ee,10);isNaN(R)||(m(R),b(null)),c({},{replace:!0})}},[o,c]);const B=typeof window<"u"?n?.accountSlug?`${window.location.origin}/webhook/${n.accountSlug}`:`${window.location.origin}/webhook`:"/webhook",Y=async()=>{try{await navigator.clipboard.writeText(B),F(!0),setTimeout(()=>F(!1),2e3)}catch{const A=document.createElement("textarea");A.value=B,document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A),F(!0),setTimeout(()=>F(!1),2e3)}};g.useEffect(()=>{ne()},[]);const ne=async()=>{try{x(!0);const A=await me.getRules();d(A)}catch(A){N(A.message,"error")}finally{x(!1)}},oe=i.filter(A=>{const ee=v.toLowerCase();return(A.name??"").toLowerCase().includes(ee)||(A.condition??"").toLowerCase().includes(ee)||String(A.chatId??"").includes(v)}),ve=A=>{m(A),b(null)},X=A=>{m(A),b(A)},q=()=>{m(null),b(null)},fe=()=>{m(null),b(-1)},G=async A=>{if(confirm(" ,     Webhook?"))try{await me.deleteRule(A),N("Webhook ","success"),d(i.filter(ee=>ee.id!==A)),f===A&&(m(null),b(null))}catch(ee){N(ee.message,"error")}},xe=async A=>{try{const ee=await me.getRule(A),R={...ee,name:`${ee.name} ()`,enabled:!1};delete R.id;const Z=await me.createRule(R);N("Webhook ","success"),d([...i,Z]),m(Z.id)}catch(ee){N(ee.message,"error")}},L=async A=>{try{if(w&&w!==-1){const ee=await me.updateRule(w,A);N("Webhook ","success"),d(i.map(R=>R.id===w?ee:R)),m(ee.id),b(null)}else{const ee=await me.createRule(A);N("Webhook ","success"),d([...i,ee]),m(ee.id),b(null)}}catch(ee){throw N(ee.message,"error"),ee}},se=async A=>{const ee=!A.enabled;try{I(A.id);const R=await me.updateRule(A.id,{enabled:ee}),Z={...A,...R,id:A.id};d(de=>de.map(E=>E.id===A.id?Z:E)),N(ee?"Webhook ":"Webhook ","success")}catch(R){N(R.message||"    Webhook","error")}finally{I(null)}},re=(A,ee)=>{const R=Array.isArray(A.chatIds)?A.chatIds:A.chatId,Z=Array.isArray(R)?R.join(","):R,de=String(A.name??"").trim(),E=String(A.condition??"").trim(),te=Z!=null?String(Z).trim():"",ue=!de||!E||!te;return{payload:{name:de||` webhook ${ee+1}`,condition:E||"true",chatId:te||"0",botToken:A.botToken?String(A.botToken).trim():void 0,messageTemplate:A.messageTemplate?String(A.messageTemplate):void 0,enabled:ue?!1:A.enabled??!0},drafted:ue}},D=async A=>{const ee=A.target.files?.[0];if(ee){k(!0);try{const R=await ee.text(),Z=JSON.parse(R),de=Array.isArray(Z)?Z:Array.isArray(Z?.rules)?Z.rules:[];if(!de.length)throw new Error("   Webhook");let E=0,te=0,ue=0,De="";for(const[U,Ce]of de.entries()){const{payload:Fe,drafted:Ke}=re(Ce,U);Ke&&(ue+=1);try{const et=await me.createRule(Fe);E+=1,d(Ie=>[...Ie,et])}catch(et){te+=1,De||(De=et?.message||" ")}}const Qe=te===0?ue>0?` webhook: ${E}, : ${ue}`:` webhook: ${E}`:De?`: ${E}, : ${ue}, : ${te}. : ${De}`:`: ${E}, : ${ue}, : ${te}`;N(Qe,te===0?"success":"info")}catch(R){N(R.message||"  Webhook","error")}finally{k(!1),S.current&&(S.current.value="")}}};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h2",{className:"text-xl font-semibold",children:" Webhook"}),t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"bottom",className:"max-w-sm",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"mb-2 font-medium",children:"    :"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-[hsl(var(--muted))] px-2 py-1 break-all",children:B}),t.jsx("button",{onClick:Y,className:"flex h-6 w-6 shrink-0 items-center justify-center rounded bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] transition-colors hover:bg-[hsl(var(--primary)_/_0.9)]",title:"",children:K?t.jsx(ud,{className:"h-3.5 w-3.5"}):t.jsx(ms,{className:"h-3.5 w-3.5"})})]})]}),t.jsxs("div",{className:"text-[hsl(var(--muted-foreground))]",children:[t.jsxs("p",{className:"mb-1",children:[t.jsx("strong",{children:":"})," POST"]}),t.jsxs("p",{className:"mb-1",children:[t.jsx("strong",{children:"Content-Type:"})," application/json"]}),t.jsx("p",{children:"  URL       (ITSM, CRM  ..)"})]})]})})]})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[l&&f&&!w&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>X(f),className:"icon-button",title:"",children:t.jsx(el,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>xe(f),className:"icon-button",title:"",children:t.jsx(ms,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>G(f),className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsx(po,{enabled:i.find(A=>A.id===f)?.enabled??!1,onChange:()=>{const A=i.find(ee=>ee.id===f);A&&se(A)},title:i.find(A=>A.id===f)?.enabled?" Webhook":" Webhook"}),t.jsx("div",{className:"mx-1 h-6 w-px bg-[hsl(var(--border))]"})]}),t.jsxs("div",{className:"rules-search flex items-center gap-2 rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 text-sm transition-all focus-within:border-[hsl(var(--ring))] focus-within:ring-2 focus-within:ring-[hsl(var(--ring)_/_0.2)]",children:[t.jsx(Ga,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))]"}),t.jsx("input",{type:"text",placeholder:" Webhook...",value:v,onChange:A=>y(A.target.value),className:"w-56 bg-transparent text-sm outline-none placeholder:text-[hsl(var(--muted-foreground))]"})]}),l&&t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:S,type:"file",accept:"application/json",className:"hidden",onChange:D}),t.jsx("button",{onClick:()=>S.current?.click(),disabled:C,className:"icon-button disabled:cursor-not-allowed disabled:opacity-60",title:" Webhook",children:t.jsx(co,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>V(!0),className:"icon-button",title:" Webhook",children:t.jsx(Ya,{className:"h-4 w-4"})}),t.jsx("button",{onClick:fe,className:"icon-button",title:" Webhook",children:t.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:`panel ${w!==null?"entity-edit-panel":""}`,children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  Webhook"}),t.jsx("button",{onClick:ne,className:"rounded border border-[hsl(var(--border))] px-2 py-1 text-xs hover:bg-[hsl(var(--accent))]",children:""})]}),t.jsx(hw,{rules:oe,selectedId:f,onSelect:ve,loading:h})]})}),t.jsx("div",{className:"split-right",children:t.jsx("div",{className:"panel",children:w!==null?t.jsx(HN,{ruleId:w===-1?null:w,onSave:L,onCancel:()=>{f?b(null):q()}}):f?t.jsx(fw,{ruleId:f,canEdit:l,onToggleEnabled:se,toggling:_===f}):t.jsxs("div",{className:"flex min-h-[420px] w-full flex-col items-center justify-center text-center text-[hsl(var(--muted-foreground))]",children:[t.jsx("p",{className:"mb-4",children:" Webhook       "}),t.jsxs("button",{onClick:fe,className:"inline-flex items-center gap-2 rounded bg-[hsl(var(--primary))] px-4 py-2 font-semibold text-[hsl(var(--primary-foreground))] transition-all hover:bg-[hsl(var(--primary)_/_0.9)]",children:[t.jsx(Tr,{className:"h-4 w-4"})," Webhook"]})]})})})]}),t.jsx(li,{isOpen:O,onClose:()=>V(!1),title:" Webhook",description:" Webhook  ",items:i.map(A=>({id:A.id,name:A.name,enabled:A.enabled})),loading:h,exportFileName:`rules-${new Date().toISOString().slice(0,10)}.json`,exportType:"rules",onExportSuccess:A=>N(` Webhook: ${A}`,"success")})]})}function QN(){const[n,l]=g.useState('payload.category === "incident"'),[o,c]=g.useState(`{
  "team_id": 40,
  "category": "incident",
  "impact": "medium",
  "subject": " "
}`),[i,d]=g.useState(null),[h,x]=g.useState(""),[f,m]=g.useState(""),[w,b]=g.useState("   webhook "),[v,y]=g.useState(null),N=()=>{try{const _=JSON.parse(o),O=new Function("payload",`return ${n}`)(_);d({success:!0,message:`: ${O?"TRUE ":"FALSE "}`})}catch(_){d({success:!1,message:`: ${_.message}`})}},C=async()=>{try{const _=await me.testSend(f,w,h||void 0);_.success?y({success:!0,message:` !     ${f}`}):y({success:!1,message:` : ${_.error?.description||_.error||"Unknown error"}`})}catch(_){y({success:!1,message:` : ${_.message}`})}},k=async()=>{try{await me.saveBotToken(h),y({success:!0,message:"  !"})}catch(_){y({success:!1,message:` : ${_.message}`})}};return t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:" "}),t.jsx("div",{className:"mt-1",children:t.jsx(Vn,{items:[{label:"",path:"/"},{label:"",active:!0}]})})]})})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-4",children:[t.jsxs("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[t.jsx("div",{style:{padding:"16px",borderBottom:"1px solid hsl(var(--border))"},children:t.jsx("h3",{className:"font-semibold",children:"  "})}),t.jsxs("div",{style:{padding:"16px"},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500,color:"hsl(var(--muted-foreground))"},children:" (JavaScript)"}),t.jsx("input",{type:"text",value:n,onChange:_=>l(_.target.value),placeholder:'payload.category === "incident"',style:{padding:"10px 12px",width:"100%",borderRadius:"6px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"13px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500,color:"hsl(var(--muted-foreground))"},children:" payload (JSON)"}),t.jsx("textarea",{value:o,onChange:_=>c(_.target.value),rows:6,style:{padding:"10px 12px",width:"100%",borderRadius:"6px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"13px",resize:"vertical"}})]}),t.jsx("button",{onClick:N,style:{padding:"10px 16px",borderRadius:"6px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:500,cursor:"pointer",border:"none",fontSize:"13px"},children:" "}),i&&t.jsx("div",{style:{padding:"12px",borderRadius:"6px",fontSize:"13px"},className:`${i.success?"border border-[hsl(var(--success)_/_0.3)] bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"border border-[hsl(var(--destructive)_/_0.2)] bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:i.message})]})]}),t.jsxs("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[t.jsx("div",{style:{padding:"16px",borderBottom:"1px solid hsl(var(--border))"},children:t.jsx("h3",{className:"font-semibold",children:"    Telegram"})}),t.jsxs("div",{style:{padding:"16px"},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500,color:"hsl(var(--muted-foreground))"},children:" "}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"password",value:h,onChange:_=>x(_.target.value),placeholder:"123456789:ABCdefGHIjkl...",style:{padding:"10px 12px",flex:1,borderRadius:"6px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontSize:"13px"}}),t.jsx("button",{onClick:k,style:{padding:"10px 12px",borderRadius:"6px",border:"1px solid hsl(var(--border))",background:"hsl(var(--secondary))",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap"},title:"   ",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500,color:"hsl(var(--muted-foreground))"},children:"ID "}),t.jsx("input",{type:"text",value:f,onChange:_=>m(_.target.value),placeholder:"-1001234567890",style:{padding:"10px 12px",width:"100%",borderRadius:"6px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontSize:"13px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500,color:"hsl(var(--muted-foreground))"},children:" "}),t.jsx("textarea",{value:w,onChange:_=>b(_.target.value),rows:3,style:{padding:"10px 12px",width:"100%",borderRadius:"6px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontSize:"13px",resize:"vertical"}})]}),t.jsx("button",{onClick:C,style:{padding:"10px 16px",borderRadius:"6px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:500,cursor:"pointer",border:"none",fontSize:"13px"},children:" "}),v&&t.jsx("div",{style:{padding:"12px",borderRadius:"6px",fontSize:"13px"},className:`${v.success?"border border-[hsl(var(--success)_/_0.3)] bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"border border-[hsl(var(--destructive)_/_0.2)] bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:v.message})]})]})]})]})}const ed={name:"",url:"",method:"GET",headersJson:"",bodyJson:"",conditionJson:"",intervalSec:60,timeoutSec:10,chatId:"",botToken:"",sendToTelegram:!1,messageTemplate:"",enabled:!0,onlyOnChange:!1,continueAfterMatch:!1},td=n=>({name:n?.name||"",url:n?.url||"",method:n?.method||"GET",headersJson:n?.headersJson||"",bodyJson:n?.bodyJson||"",conditionJson:n?.conditionJson||"",intervalSec:n?.intervalSec??60,timeoutSec:n?.timeoutSec??10,chatId:n?.chatId||"",botToken:n?.botToken||"",sendToTelegram:n?.sendToTelegram??!!n?.chatId,messageTemplate:n?.messageTemplate||"",enabled:n?.enabled??!0,onlyOnChange:n?.onlyOnChange??!1,continueAfterMatch:n?.continueAfterMatch??!1}),YN=n=>!n.enabled&&(String(n.name||"").toLowerCase().startsWith("")||String(n.chatId||"").trim()==="0"||String(n.url||"").trim()==="https://example.com/health");function GN(){const{user:n}=Hr(),l=n?.role!=="auditor",[o,c]=vs(),[i,d]=g.useState([]),[h,x]=g.useState(!0),[f,m]=g.useState(null),[w,b]=g.useState(null),[v,y]=g.useState(ed),{addToast:N}=Qn(),[C,k]=g.useState(!1),[_,I]=g.useState(!1),[O,V]=g.useState(null),[K,F]=g.useState(!1),[S,B]=g.useState(""),[Y,ne]=g.useState(""),[oe,ve]=g.useState(!1),[X,q]=g.useState(!1),[fe,G]=g.useState(!1),xe=g.useRef(null),L=g.useMemo(()=>i.find(U=>U.id===f)||null,[i,f]),se=async()=>{try{x(!0);const U=await me.getPolls();d(U)}catch(U){N(U.message||"   ","error")}finally{x(!1)}},re=async()=>{try{q(!0);const U=await me.getAccountBotToken();ne(U.botToken||""),ve(!!U.isSet),B("")}catch(U){N(U.message||"    ","error")}finally{q(!1)}},D=async()=>{try{G(!0),await me.saveAccountBotToken(S.trim()),N(S.trim()?"  ":"  ","success"),await re(),F(!1)}catch(U){N(U.message||"    ","error")}finally{G(!1)}};g.useEffect(()=>{se()},[]),g.useEffect(()=>{K&&re()},[K]),g.useEffect(()=>{const U=o.get("create"),Ce=o.get("select");if(U==="true")m(null),b(-1),y(ed),c({},{replace:!0});else if(Ce){const Fe=parseInt(Ce,10);isNaN(Fe)||(m(Fe),b(null)),c({},{replace:!0})}},[o,c]);const A=U=>{m(U),b(null)},ee=()=>{m(null),b(-1),y(ed)},R=U=>{m(U.id),b(U.id),y(td(U))},Z=async U=>{if(U.preventDefault(),!v.name||!v.url){N("   URL","error");return}if(v.sendToTelegram&&!v.chatId){N(" Chat ID   Telegram notifications","error");return}try{const Ce={...v,intervalSec:Number(v.intervalSec)||60,timeoutSec:Number(v.timeoutSec)||10,headersJson:v.headersJson||void 0,bodyJson:v.bodyJson||void 0,conditionJson:v.conditionJson||void 0,botToken:v.sendToTelegram&&v.botToken||void 0,sendToTelegram:v.sendToTelegram,messageTemplate:v.sendToTelegram&&v.messageTemplate||void 0};if(w&&w!==-1){const Fe=await me.updatePoll(w,Ce);b(null),m(Fe.id),N(" ","success"),await se()}else{const Fe=await me.createPoll(Ce);b(null),m(Fe.id),N(" ","success"),await se()}}catch(Ce){N(Ce.message||"   ","error")}},de=async U=>{try{const Ce={...td(U),name:`${U.name} ()`,enabled:!1},Fe=await me.createPoll(Ce);d(Ke=>[Fe,...Ke]),m(Fe.id),N(" ","success")}catch(Ce){N(Ce.message||"   ","error")}},E=async U=>{if(confirm(`  "${U.name}"?`))try{await me.deletePoll(U.id),d(Ce=>Ce.filter(Fe=>Fe.id!==U.id)),f===U.id&&(m(null),b(null)),N(" ","success")}catch(Ce){N(Ce.message||"   ","error")}},te=async U=>{try{await me.runPoll(U.id),N(" ","success")}catch(Ce){N(Ce.message||"   ","error")}},ue=async U=>{const Ce=!U.enabled;try{V(U.id);const Fe=await me.updatePoll(U.id,{enabled:Ce}),Ke={...U,...Fe,id:U.id};d(et=>et.map(Ie=>Ie.id===U.id?Ke:Ie)),N(Ce?" ":" ","success")}catch(Fe){N(Fe.message||"    ","error")}finally{V(null)}},De=(U,Ce)=>{const Fe=String(U.name??"").trim(),Ke=String(U.url??"").trim(),et=String(U.chatId??"").trim(),Ie=!Fe||!Ke;return{payload:{name:Fe||`  ${Ce+1}`,url:Ke||"https://example.com/health",method:U.method||"GET",headersJson:U.headersJson!=null?String(U.headersJson):void 0,bodyJson:U.bodyJson!=null?String(U.bodyJson):void 0,conditionJson:U.conditionJson!=null?String(U.conditionJson):void 0,intervalSec:Number(U.intervalSec)||60,timeoutSec:Number(U.timeoutSec)||10,chatId:et||"0",botToken:U.botToken?String(U.botToken).trim():void 0,sendToTelegram:U.sendToTelegram??!!et,messageTemplate:U.messageTemplate?String(U.messageTemplate):void 0,enabled:Ie?!1:U.enabled??!0,onlyOnChange:U.onlyOnChange??!1,continueAfterMatch:U.continueAfterMatch??!1},drafted:Ie}},Qe=async U=>{const Ce=U.target.files?.[0];if(Ce){I(!0);try{const Fe=await Ce.text(),Ke=JSON.parse(Fe),et=Array.isArray(Ke)?Ke:Array.isArray(Ke?.polls)?Ke.polls:[];if(!et.length)throw new Error("   ");let Ie=0,ht=0,Nt=0,Rt="";for(const[br,un]of et.entries()){const{payload:ge,drafted:We}=De(un,br);We&&(Nt+=1);try{const yt=await me.createPoll(ge);Ie+=1,d(wr=>[...wr,yt])}catch(yt){ht+=1,Rt||(Rt=yt?.message||" ")}}const Pt=ht===0?Nt>0?` : ${Ie}, : ${Nt}`:` : ${Ie}`:Rt?`: ${Ie}, : ${Nt}, : ${ht}. : ${Rt}`:`: ${Ie}, : ${Nt}, : ${ht}`;N(Pt,ht===0?"success":"info")}catch(Fe){N(Fe.message||"  ","error")}finally{I(!1),xe.current&&(xe.current.value="")}}};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{className:"text-xl font-semibold",children:" "}),t.jsxs("div",{className:"flex items-center gap-2",children:[l&&L&&!w&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>te(L),className:"icon-button text-[hsl(var(--success))] hover:bg-[hsl(var(--success)_/_0.1)]",title:"",children:t.jsx(Id,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>R(L),className:"icon-button",title:"",children:t.jsx(el,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>de(L),className:"icon-button",title:"",children:t.jsx(ms,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>E(L),className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsx(po,{enabled:i.find(U=>U.id===f)?.enabled??!1,onChange:()=>{const U=i.find(Ce=>Ce.id===f);U&&ue(U)},title:i.find(U=>U.id===f)?.enabled?" ":" "}),t.jsx("div",{className:"mx-1 h-6 w-px bg-[hsl(var(--border))]"})]}),t.jsx("button",{onClick:()=>se(),className:"icon-button",title:" ",children:t.jsx(yr,{className:"h-4 w-4"})}),l&&t.jsx("button",{onClick:()=>F(!0),className:"icon-button",title:"Account Telegram token",children:t.jsx(ym,{className:"h-4 w-4"})}),l&&t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:xe,type:"file",accept:"application/json",className:"hidden",onChange:Qe}),t.jsx("button",{onClick:()=>xe.current?.click(),disabled:_,className:"icon-button disabled:cursor-not-allowed disabled:opacity-60",title:" ",children:t.jsx(co,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>k(!0),className:"icon-button",title:" ",children:t.jsx(Ya,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ee,className:"icon-button",title:" ",children:t.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsx("button",{onClick:()=>se(),className:"rounded border border-[hsl(var(--border))] px-2 py-1 text-xs",children:""})]}),h?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):i.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:"  "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:i.map(U=>t.jsxs("tr",{onClick:()=>A(U.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${f===U.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2 font-medium",children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx("span",{children:U.name}),YN(U)&&t.jsx("span",{className:"rounded-full bg-[hsl(var(--muted))] px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide text-[hsl(var(--muted-foreground))]",children:""})]})}),t.jsxs("td",{className:"px-2 py-2",children:[U.intervalSec,"s"]}),t.jsx("td",{className:"px-2 py-2",children:U.enabled?" ":" "})]},U.id))})]})})]})}),t.jsx("div",{className:"split-right",children:t.jsx("div",{className:`panel ${w!==null?"entity-edit-panel":""}`,children:w!==null?t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"mb-4 text-lg font-semibold",children:w===-1?" ":" "}),t.jsxs("form",{className:"entity-edit-form",onSubmit:Z,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"      ."}),t.jsx("p",{children:"   , :      ."})]})})]})})]}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.name,onChange:U=>y({...v,name:U.target.value}),placeholder:":   "})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["URL",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:" API,      ."}),t.jsx("p",{children:" HTTP  HTTPS ."})]})})]})})]}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.url,onChange:U=>y({...v,url:U.target.value}),placeholder:"https://api.example.com/status"})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"HTTP     API."}),t.jsxs("p",{children:[t.jsx("strong",{children:"GET:"}),"   "]}),t.jsxs("p",{children:[t.jsx("strong",{children:"POST:"}),"   "]}),t.jsxs("p",{children:[t.jsx("strong",{children:"PUT/PATCH:"}),"   "]}),t.jsxs("p",{children:[t.jsx("strong",{children:"DELETE:"}),"   "]})]})})]})})]}),t.jsxs("select",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.method,onChange:U=>y({...v,method:U.target.value}),children:[t.jsx("option",{value:"GET",children:"GET"}),t.jsx("option",{value:"POST",children:"POST"}),t.jsx("option",{value:"PUT",children:"PUT"}),t.jsx("option",{value:"PATCH",children:"PATCH"}),t.jsx("option",{value:"DELETE",children:"DELETE"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" ()",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"    API  ."}),t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," 5 "]}),t.jsx("p",{children:"   ,  -     ."})]})})]})})]}),t.jsx("input",{type:"number",min:5,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.intervalSec,onChange:U=>y({...v,intervalSec:Number(U.target.value)})})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" ()",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"    API  ."}),t.jsxs("p",{children:[t.jsx("strong",{children:" :"})," 3 "]}),t.jsx("p",{children:" API      ,   ."})]})})]})})]}),t.jsx("input",{type:"number",min:3,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.timeoutSec,onChange:U=>y({...v,timeoutSec:Number(U.target.value)})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["Headers (JSON)",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:" HTTP    JSON."}),t.jsx("p",{children:"     ."}),t.jsx("p",{children:t.jsx("strong",{children:":"})}),t.jsx("pre",{className:"bg-[hsl(var(--muted))] p-2 rounded text-xs overflow-x-auto",children:`{
  "Authorization": "Bearer your_token_here",
  "Content-Type": "application/json"
}`})]})})]})})]}),t.jsx("textarea",{rows:3,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:v.headersJson,onChange:U=>y({...v,headersJson:U.target.value}),placeholder:'{"Authorization": "Bearer token"}'}),t.jsxs("p",{className:"mt-1 text-xs text-[hsl(var(--muted-foreground))]",children:[": ",t.jsx("code",{children:'{"Authorization":"Bearer <TOKEN>","Content-Type":"application/json"}'})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["Body (JSON)",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:" HTTP    JSON."}),t.jsx("p",{children:"     POST/PUT/PATCH ."}),t.jsx("p",{children:t.jsx("strong",{children:":"})}),t.jsx("pre",{className:"bg-[hsl(var(--muted))] p-2 rounded text-xs overflow-x-auto",children:`{
  "query": "status",
  "filters": {
    "active": true
  }
}`})]})})]})})]}),t.jsx("textarea",{rows:3,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:v.bodyJson,onChange:U=>y({...v,bodyJson:U.target.value}),placeholder:'{"id": 123}'})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" (JSON)",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"    API   JSON."}),t.jsx("p",{children:" ,    ."}),t.jsx("p",{children:t.jsx("strong",{children:":"})}),t.jsxs("ul",{className:"list-disc list-inside text-xs",children:[t.jsxs("li",{children:[t.jsx("code",{children:"logic"}),"    (AND/OR)"]}),t.jsxs("li",{children:[t.jsx("code",{children:"conditions"}),"    "]}),t.jsxs("li",{children:[t.jsx("code",{children:"path"}),"      "]}),t.jsxs("li",{children:[t.jsx("code",{children:"op"}),"    (==, !=, >, <, >=, <=, includes, exists)"]}),t.jsxs("li",{children:[t.jsx("code",{children:"value"}),"    "]})]})]})})]})})]}),t.jsx("textarea",{rows:4,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:v.conditionJson,onChange:U=>y({...v,conditionJson:U.target.value}),placeholder:'{"logic":"AND","conditions":[{"path":"data.status","op":"==","value":"ok"}]}'}),t.jsxs("div",{style:{padding:"12px 16px",marginTop:"8px"},className:"rounded-lg border border-[hsl(var(--border)_/_0.6)] bg-[hsl(var(--muted)_/_0.2)] text-xs",children:[t.jsx("div",{className:"mb-1 font-semibold",children:":"}),t.jsx("pre",{className:"whitespace-pre-wrap",children:'{"logic":"AND","conditions":[{"path":"data.status","op":"==","value":"ok"},{"path":"data.priority","op":">=","value":3}]}'}),t.jsxs("div",{className:"mt-2 text-[hsl(var(--muted-foreground))]",children:[t.jsx("code",{children:"logic"}),"  AND/OR. ",t.jsx("code",{children:"conditions"}),"   . ",t.jsx("code",{children:"path"}),"    . ",t.jsx("code",{children:"op"}),"   (==, !=, >, <, >=, <=, includes, exists)."]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["  ()",t.jsx(Ba,{context:"poll"})]}),t.jsx("textarea",{rows:3,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:v.messageTemplate,onChange:U=>y({...v,messageTemplate:U.target.value}),placeholder:"${payload.name}  ${payload.status}"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginTop:"4px"},children:[t.jsx("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",cursor:"pointer"},children:t.jsx(fo,{idPrefix:"poll-edit",enabled:v.enabled,onChange:U=>y({...v,enabled:U})})}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:v.onlyOnChange,onChange:U=>y({...v,onlyOnChange:U.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),"  ",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"     ."}),t.jsx("p",{children:" ,          API."})]})})]})})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:v.continueAfterMatch,onChange:U=>y({...v,continueAfterMatch:U.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),"  ",t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"    ."}),t.jsx("p",{children:" ,     ."})]})})]})})]})]}),t.jsxs("div",{style:{borderTop:"1px solid hsl(var(--border))",paddingTop:"20px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[t.jsx("input",{type:"checkbox",id:"sendToTelegram",checked:v.sendToTelegram,onChange:U=>{const Ce=U.target.checked;y({...v,sendToTelegram:Ce,botToken:Ce?v.botToken:"",messageTemplate:Ce?v.messageTemplate:""})},style:{width:"18px",height:"18px",cursor:"pointer"}}),t.jsx("label",{htmlFor:"sendToTelegram",style:{fontSize:"14px",fontWeight:600,cursor:"pointer"},children:"Telegram notifications"}),t.jsx(Bt,{delayDuration:200,children:t.jsxs(qt,{children:[t.jsx(Kt,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex h-6 w-6 items-center justify-center rounded-full text-[hsl(var(--muted-foreground))] transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:t.jsx(Ft,{className:"h-4 w-4"})})}),t.jsx(Xt,{side:"top",className:"max-w-xs text-left",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"Enable Telegram notifications for this polling task."}),t.jsx("p",{children:"Set Chat ID and optional Bot Token for delivery."}),t.jsx("p",{children:"Bot Token is optional: empty means account token will be used."})]})})]})})]}),v.sendToTelegram&&t.jsxs("div",{style:{paddingLeft:"30px",opacity:1},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Chat ID"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.chatId,onChange:U=>y({...v,chatId:U.target.value}),placeholder:"-1001234567890"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Bot Token (optional)"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.botToken,onChange:U=>y({...v,botToken:U.target.value}),placeholder:"Empty = account token"})]})]}),t.jsxs("div",{style:{marginTop:"16px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:["Message template",t.jsx(Ba,{context:"poll"})]}),t.jsx("textarea",{rows:2,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:v.messageTemplate,onChange:U=>y({...v,messageTemplate:U.target.value}),placeholder:"${payload.name} - ${payload.status}"})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[t.jsx("button",{type:"submit",style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""}),t.jsx("button",{type:"button",onClick:()=>{b(null),L&&y(td(L))},style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--secondary))",color:"hsl(var(--secondary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""})]})]})]}):L?t.jsx("div",{children:t.jsxs("div",{className:"entity-view",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:"  "}),t.jsxs("div",{className:"entity-view-card",children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"ID:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:L.id})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",L.name]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:`rounded text-xs ${L.enabled?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:L.enabled?" ":" "})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" "}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"URL:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:L.url})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:L.method})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:[L.intervalSec,"s"]})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:[L.timeoutSec,"s"]})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" Telegram "}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:`rounded text-xs ${L.sendToTelegram!==!1?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--muted)_/_0.3)] text-[hsl(var(--muted-foreground))]"}`,children:L.sendToTelegram!==!1?" ":" "})]}),L.chatId&&t.jsxs("div",{children:[t.jsx("strong",{children:"Chat ID:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:L.chatId})]}),L.botToken&&t.jsxs("div",{children:[t.jsx("strong",{children:"Bot Token:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:"***set***"})]}),!L.botToken&&L.sendToTelegram!==!1&&t.jsxs("div",{children:[t.jsx("strong",{children:"Bot Token:"})," ",t.jsx("span",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:"Using account token"})]}),L.messageTemplate&&t.jsxs("div",{children:[t.jsx("strong",{children:" :"}),t.jsx("div",{style:{padding:"16px",marginTop:"8px"},className:"whitespace-pre-wrap rounded-lg bg-[hsl(var(--muted)_/_0.3)] text-sm",children:L.messageTemplate})]})]})]})]})}):t.jsxs("div",{className:"flex min-h-[420px] w-full flex-col items-center justify-center text-center text-[hsl(var(--muted-foreground))]",children:[t.jsx("p",{className:"mb-4",children:"     "}),t.jsxs("button",{onClick:ee,className:"inline-flex items-center gap-2 rounded bg-[hsl(var(--primary))] px-4 py-2 font-semibold text-[hsl(var(--primary-foreground))]",children:[t.jsx(Tr,{className:"h-4 w-4"}),"  "]})]})})})]}),K&&t.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"100px",zIndex:9999},onClick:()=>F(!1),children:t.jsxs("div",{style:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",padding:"24px",width:"100%",maxWidth:"520px",border:"1px solid hsl(var(--border))",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},onClick:U=>U.stopPropagation(),children:[t.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Telegram token for account"}),t.jsx("p",{className:"mb-4 text-sm text-[hsl(var(--muted-foreground))]",children:"Used by default for rules, polling, integrations and bots if local token is empty."}),t.jsx("div",{className:"mb-4 rounded border border-[hsl(var(--border))] bg-[hsl(var(--muted)_/_0.2)] p-3 text-sm",children:X?"Loading...":oe?`Current: ${Y}`:"Not set"}),t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"New token (empty = clear)"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:S,onChange:U=>B(U.target.value),placeholder:"123456789:ABCdefGHIjklMNOpqrSTUvwxYZ"}),t.jsxs("div",{className:"mt-5 flex gap-2",children:[t.jsx("button",{type:"button",onClick:D,disabled:fe,style:{flex:1,padding:"12px 16px",borderRadius:"8px",border:"none",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,opacity:fe?.7:1},children:fe?"Saving...":"Save"}),t.jsx("button",{type:"button",onClick:()=>F(!1),style:{flex:1,padding:"12px 16px",borderRadius:"8px",border:"1px solid hsl(var(--border))",background:"hsl(var(--secondary))"},children:"Cancel"})]})]})}),t.jsx(li,{isOpen:C,onClose:()=>k(!1),title:" ",description:"   ",items:i.map(U=>({id:U.id,name:U.name,enabled:U.enabled})),loading:h,exportFileName:"polls-export.json",exportType:"polls",onExportSuccess:U=>N(` : ${U}`,"success")})]})}const _a={name:"",enabled:!0,triggerType:"webhook",triggerCondition:"",pollingUrl:"",pollingMethod:"GET",pollingHeaders:"",pollingBody:"",pollingInterval:60,pollingCondition:"",pollingContinueAfterMatch:!1,actionUrl:"",actionMethod:"POST",actionHeaders:"",actionBody:"",timeoutSec:30,sendToTelegram:!1,chatId:"",botToken:"",messageTemplate:""},qN=n=>!n.enabled&&String(n.name||"").toLowerCase().startsWith("");function KN(){const{user:n}=Hr(),l=n?.role!=="auditor",[o,c]=vs(),[i,d]=g.useState([]),[h,x]=g.useState([]),[f,m]=g.useState([]),[w,b]=g.useState(!0),[v,y]=g.useState(null),[N,C]=g.useState(null),[k,_]=g.useState(_a),[I,O]=g.useState(""),{addToast:V}=Qn(),[K,F]=g.useState(!1),[S,B]=g.useState(!1),[Y,ne]=g.useState(!1),[oe,ve]=g.useState(null),X=g.useRef(null),q=g.useMemo(()=>i.find(E=>E.id===v)||null,[i,v]),fe=async()=>{try{b(!0);const[E,te,ue]=await Promise.all([me.getIntegrations(),me.getRules(),me.getPolls()]);d(E),x(te),m(ue)}catch(E){V(E.message||"   ","error")}finally{b(!1)}};g.useEffect(()=>{fe()},[]);const G=E=>{if(O(E),!!E)if(k.triggerType==="webhook"){const te=h.find(ue=>String(ue.id)===E);te&&_({...k,triggerCondition:te.condition||"",chatId:te.chatId||"",botToken:te.botToken||"",messageTemplate:te.messageTemplate||""})}else{const te=f.find(ue=>String(ue.id)===E);te&&_({...k,pollingUrl:te.url||"",pollingMethod:te.method||"GET",pollingHeaders:te.headersJson||"",pollingBody:te.bodyJson||"",pollingInterval:te.intervalSec||60,pollingCondition:te.conditionJson||"",chatId:te.chatId||"",botToken:te.botToken||"",messageTemplate:te.messageTemplate||"",timeoutSec:te.timeoutSec||30})}};g.useEffect(()=>{const E=o.get("create"),te=o.get("select");if(E==="true")y(null),C(-1),_(_a),c({},{replace:!0});else if(te){const ue=parseInt(te,10);isNaN(ue)||(y(ue),C(null)),c({},{replace:!0})}},[o,c]);const xe=E=>{y(E),C(null)},L=()=>{y(null),C(-1),_(_a),O("")},se=E=>{y(E.id),C(E.id),O(""),_({name:E.name||"",enabled:E.enabled??!0,triggerType:E.triggerType||"webhook",triggerCondition:E.triggerCondition||"",pollingUrl:E.pollingUrl||"",pollingMethod:E.pollingMethod||"GET",pollingHeaders:E.pollingHeaders||"",pollingBody:E.pollingBody||"",pollingInterval:E.pollingInterval||60,pollingCondition:E.pollingCondition||"",pollingContinueAfterMatch:E.pollingContinueAfterMatch??!1,actionUrl:E.actionUrl||"",actionMethod:E.actionMethod||"POST",actionHeaders:E.actionHeaders||"",actionBody:E.actionBody||"",timeoutSec:E.timeoutSec||30,sendToTelegram:E.sendToTelegram??!1,chatId:E.chatId||"",botToken:E.botToken||"",messageTemplate:E.messageTemplate||""})},re=async E=>{if(E.preventDefault(),!k.name){V(" ","error");return}const te={...k,pollingContinueAfterMatch:k.triggerType==="webhook"?void 0:k.pollingContinueAfterMatch};try{if(N&&N!==-1){const ue=await me.updateIntegration(N,te);C(null),y(ue.id),V(" ","success"),await fe()}else{const ue=await me.createIntegration(te);C(null),y(ue.id),V(" ","success"),await fe()}}catch(ue){V(ue.message||" ","error")}},D=async E=>{if(confirm(" ?"))try{await me.deleteIntegration(E),d(te=>te.filter(ue=>ue.id!==E)),v===E&&(y(null),C(null)),V(" ","success")}catch(te){V(te.message,"error")}},A=async E=>{try{const{id:te,...ue}=E,De=await me.createIntegration({...ue,name:`${ue.name} ()`,enabled:!1});d(Qe=>[De,...Qe]),y(De.id),V(" ","success")}catch(te){V(te.message,"error")}},ee=async E=>{F(!0);try{const te=await me.runIntegration(E);te.status==="success"?V("  ","success"):V(`: ${te.errorMessage||" "}`,"error")}catch(te){V(te.message,"error")}finally{F(!1)}},R=async E=>{const te=!E.enabled;try{ve(E.id);const ue=await me.updateIntegration(E.id,{enabled:te}),De={...E,...ue,id:E.id};d(Qe=>Qe.map(U=>U.id===E.id?De:U)),V(te?" ":" ","success")}catch(ue){V(ue.message||"    ","error")}finally{ve(null)}},Z=(E,te)=>{const ue=E.triggerType==="polling"?"polling":"webhook",De=String(E.name??"").trim(),Qe=!De;return{payload:{name:De||`  ${te+1}`,enabled:Qe?!1:E.enabled??!0,triggerType:ue,triggerCondition:String(E.triggerCondition??"").trim(),pollingUrl:E.pollingUrl!=null?String(E.pollingUrl):void 0,pollingMethod:E.pollingMethod||"GET",pollingHeaders:E.pollingHeaders!=null?String(E.pollingHeaders):void 0,pollingBody:E.pollingBody!=null?String(E.pollingBody):void 0,pollingInterval:Number(E.pollingInterval)||60,pollingCondition:E.pollingCondition!=null?String(E.pollingCondition):void 0,pollingContinueAfterMatch:ue==="webhook"?void 0:E.pollingContinueAfterMatch??!1,actionUrl:E.actionUrl!=null?String(E.actionUrl):void 0,actionMethod:E.actionMethod||"POST",actionHeaders:E.actionHeaders!=null?String(E.actionHeaders):void 0,actionBody:E.actionBody!=null?String(E.actionBody):void 0,timeoutSec:Number(E.timeoutSec)||30,sendToTelegram:E.sendToTelegram??!1,chatId:E.chatId!=null?String(E.chatId):void 0,botToken:E.botToken?String(E.botToken):void 0,messageTemplate:E.messageTemplate?String(E.messageTemplate):void 0},drafted:Qe}},de=async E=>{const te=E.target.files?.[0];if(te){ne(!0);try{const ue=await te.text(),De=JSON.parse(ue),Qe=Array.isArray(De)?De:Array.isArray(De?.integrations)?De.integrations:[];if(!Qe.length)throw new Error("   ");let U=0,Ce=0,Fe=0,Ke="";for(const[Ie,ht]of Qe.entries()){const{payload:Nt,drafted:Rt}=Z(ht,Ie);Rt&&(Fe+=1);try{const Pt=await me.createIntegration(Nt);U+=1,d(br=>[...br,Pt])}catch(Pt){Ce+=1,Ke||(Ke=Pt?.message||" ")}}const et=Ce===0?Fe>0?` : ${U}, : ${Fe}`:` : ${U}`:Ke?`: ${U}, : ${Fe}, : ${Ce}. : ${Ke}`:`: ${U}, : ${Fe}, : ${Ce}`;V(et,Ce===0?"success":"info")}catch(ue){V(ue.message||"  ","error")}finally{ne(!1),X.current&&(X.current.value="")}}};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{className:"text-xl font-semibold",children:" "}),t.jsxs("div",{className:"flex items-center gap-2",children:[l&&q&&!N&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>ee(q.id),disabled:K,className:"icon-button text-[hsl(var(--success))] hover:bg-[hsl(var(--success)_/_0.1)] disabled:opacity-50",title:K?"...":"",children:t.jsx(Id,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>se(q),className:"icon-button",title:"",children:t.jsx(el,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>A(q),className:"icon-button",title:"",children:t.jsx(ms,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>D(q.id),className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsx(po,{enabled:i.find(E=>E.id===v)?.enabled??!1,onChange:()=>{const E=i.find(te=>te.id===v);E&&R(E)},title:i.find(E=>E.id===v)?.enabled?" ":" "}),t.jsx("div",{className:"mx-1 h-6 w-px bg-[hsl(var(--border))]"})]}),t.jsx("button",{onClick:fe,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})}),l&&t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:X,type:"file",accept:"application/json",className:"hidden",onChange:de}),t.jsx("button",{onClick:()=>X.current?.click(),disabled:Y,className:"icon-button disabled:cursor-not-allowed disabled:opacity-60",title:" ",children:t.jsx(co,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>B(!0),className:"icon-button",title:" ",children:t.jsx(Ya,{className:"h-4 w-4"})}),t.jsx("button",{onClick:L,className:"icon-button",title:"",children:t.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsx("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:i.length})]}),w?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):i.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:"  "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:i.map(E=>t.jsxs("tr",{onClick:()=>xe(E.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${v===E.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2 font-medium",children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx("span",{children:E.name}),qN(E)&&t.jsx("span",{className:"rounded-full bg-[hsl(var(--muted))] px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide text-[hsl(var(--muted-foreground))]",children:""})]})}),t.jsx("td",{className:"px-2 py-2 text-xs",children:E.triggerType==="webhook"?" Webhook":" Polling"}),t.jsx("td",{className:"px-2 py-2",children:E.enabled?" ":" "})]},E.id))})]})})]})}),t.jsx("div",{className:"split-right",children:t.jsx("div",{className:`panel ${N!==null?"entity-edit-panel":""}`,children:N!==null?t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"mb-4 text-lg font-semibold",children:N===-1?" ":""}),t.jsxs("form",{className:"entity-edit-form",onSubmit:re,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:""}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.name,onChange:E=>_({...k,name:E.target.value}),placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsxs("select",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.triggerType,onChange:E=>{const te=E.target.value;_({...k,triggerType:te,pollingContinueAfterMatch:te==="webhook"?!1:k.pollingContinueAfterMatch}),O("")},children:[t.jsx("option",{value:"webhook",children:"Webhook ()"}),t.jsx("option",{value:"polling",children:"Polling ()"})]})]})]}),k.triggerType==="webhook"&&t.jsxs(t.Fragment,{children:[h.length>0&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"  Webhook"}),t.jsxs("select",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:I,onChange:E=>G(E.target.value),children:[t.jsx("option",{value:"",children:"   "}),h.map(E=>t.jsxs("option",{value:E.id,children:[E.name," ",E.enabled?"":""]},E.id))]}),t.jsx("p",{className:"mt-1 text-xs text-[hsl(var(--muted-foreground))]",children:"  Webhook   "})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace"},value:k.triggerCondition,onChange:E=>_({...k,triggerCondition:E.target.value}),placeholder:'payload.type === "order"'}),t.jsxs("p",{className:"mt-1 text-xs text-[hsl(var(--muted-foreground))]",children:["JavaScript-.   ",t.jsx("code",{children:"payload"})]})]})]}),k.triggerType==="polling"&&t.jsxs(t.Fragment,{children:[f.length>0&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"  "}),t.jsxs("select",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:I,onChange:E=>G(E.target.value),children:[t.jsx("option",{value:"",children:"   "}),f.map(E=>t.jsxs("option",{value:E.id,children:[E.name," ",E.enabled?"":""]},E.id))]}),t.jsx("p",{className:"mt-1 text-xs text-[hsl(var(--muted-foreground))]",children:"     "})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"URL  "}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.pollingUrl,onChange:E=>_({...k,pollingUrl:E.target.value}),placeholder:"https://api.example.com/status"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:""}),t.jsxs("select",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.pollingMethod,onChange:E=>_({...k,pollingMethod:E.target.value}),children:[t.jsx("option",{value:"GET",children:"GET"}),t.jsx("option",{value:"POST",children:"POST"}),t.jsx("option",{value:"PUT",children:"PUT"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" ()"}),t.jsx("input",{type:"number",min:5,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.pollingInterval,onChange:E=>_({...k,pollingInterval:Number(E.target.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" ()"}),t.jsx("input",{type:"number",min:1,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.timeoutSec,onChange:E=>_({...k,timeoutSec:Number(E.target.value)})})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Headers (JSON)"}),t.jsx("textarea",{rows:2,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:k.pollingHeaders,onChange:E=>_({...k,pollingHeaders:E.target.value}),placeholder:'{"Authorization": "Bearer token"}'})]}),k.pollingMethod!=="GET"&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Body (JSON)"}),t.jsx("textarea",{rows:2,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:k.pollingBody,onChange:E=>_({...k,pollingBody:E.target.value}),placeholder:'{"query": "status"}'})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace"},value:k.pollingCondition,onChange:E=>_({...k,pollingCondition:E.target.value}),placeholder:'response.status === "ready"'})]}),t.jsx("div",{children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:k.pollingContinueAfterMatch,onChange:E=>_({...k,pollingContinueAfterMatch:E.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),"  "]})})]}),t.jsxs("div",{style:{borderTop:"1px solid hsl(var(--border))",paddingTop:"20px"},children:[t.jsx("h4",{style:{marginBottom:"16px",fontSize:"14px",fontWeight:600},children:" Action ( API)"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"URL"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.actionUrl,onChange:E=>_({...k,actionUrl:E.target.value}),placeholder:"https://api.example.com/action"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:""}),t.jsxs("select",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.actionMethod,onChange:E=>_({...k,actionMethod:E.target.value}),children:[t.jsx("option",{value:"GET",children:"GET"}),t.jsx("option",{value:"POST",children:"POST"}),t.jsx("option",{value:"PUT",children:"PUT"}),t.jsx("option",{value:"PATCH",children:"PATCH"}),t.jsx("option",{value:"DELETE",children:"DELETE"})]})]})]}),t.jsxs("div",{style:{marginTop:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Headers (JSON)"}),t.jsx("textarea",{rows:2,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:k.actionHeaders,onChange:E=>_({...k,actionHeaders:E.target.value}),placeholder:'{"Authorization": "Bearer token", "X-Api-Key": "key"}'}),t.jsx("p",{className:"mt-1 text-xs text-[hsl(var(--muted-foreground))]",children:"  . Content-Type  ."})]}),k.actionMethod!=="GET"&&t.jsxs("div",{style:{marginTop:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Body (JSON)"}),t.jsx("textarea",{rows:3,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:k.actionBody,onChange:E=>_({...k,actionBody:E.target.value}),placeholder:'{"orderId": "{{payload.id}}"}'}),t.jsxs("p",{className:"mt-1 text-xs text-[hsl(var(--muted-foreground))]",children:[" ",t.jsx("code",{children:"{{payload.field}}"}),"   "]})]})]}),t.jsxs("div",{style:{borderTop:"1px solid hsl(var(--border))",paddingTop:"20px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[t.jsx("input",{type:"checkbox",id:"sendToTelegram",checked:k.sendToTelegram,onChange:E=>_({...k,sendToTelegram:E.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),t.jsx("label",{htmlFor:"sendToTelegram",style:{fontSize:"14px",fontWeight:600,cursor:"pointer"},children:" Telegram "})]}),k.sendToTelegram&&t.jsxs("div",{style:{paddingLeft:"30px",opacity:k.sendToTelegram?1:.5},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Chat ID"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.chatId,onChange:E=>_({...k,chatId:E.target.value}),placeholder:"-1001234567890"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Bot Token (.)"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:k.botToken,onChange:E=>_({...k,botToken:E.target.value}),placeholder:" "})]})]}),t.jsxs("div",{style:{marginTop:"16px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:[" ",t.jsx(Ba,{context:"integration"})]}),t.jsx("textarea",{rows:2,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:k.messageTemplate,onChange:E=>_({...k,messageTemplate:E.target.value}),placeholder:"${payload.name}  ${payload.status}"})]})]})]}),t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"4px"},children:t.jsx(fo,{idPrefix:"integration-edit",enabled:k.enabled,onChange:E=>_({...k,enabled:E})})}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[t.jsx("button",{type:"submit",style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""}),t.jsx("button",{type:"button",onClick:()=>{C(null),v||_(_a)},style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--secondary))",color:"hsl(var(--secondary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""})]})]})]}):q?t.jsx("div",{children:t.jsxs("div",{className:"entity-view",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:"  "}),t.jsxs("div",{className:"entity-view-card",children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"ID:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:q.id})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",q.name]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:`rounded text-xs ${q.enabled?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:q.enabled?" ":" "})]}),t.jsxs("div",{children:[t.jsx("strong",{children:" :"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)] text-xs",children:q.triggerType==="webhook"?" Webhook":" Polling"})]})]})]}),q.triggerType==="webhook"?q.triggerCondition&&t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" "}),t.jsx("div",{className:"entity-view-card-muted overflow-x-auto",children:t.jsx("code",{className:"block whitespace-pre-wrap break-words text-sm",children:q.triggerCondition})})]}):t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" Polling"}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[q.pollingUrl&&t.jsxs("div",{children:[t.jsx("strong",{children:"URL:"})," ",t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:[q.pollingMethod||"GET"," ",q.pollingUrl]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:[q.pollingInterval||60,"s"]})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:[q.timeoutSec||30,"s"]})]})]}),q.pollingCondition&&t.jsxs("div",{children:[t.jsx("strong",{children:":"}),t.jsx("div",{style:{padding:"12px",marginTop:"8px"},className:"rounded-lg bg-[hsl(var(--muted)_/_0.3)]",children:t.jsx("code",{className:"text-sm break-all",children:q.pollingCondition})})]})]})]}),q.actionUrl&&t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" Action (API)"}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"URL:"}),t.jsx("div",{style:{padding:"12px",marginTop:"8px",wordBreak:"break-word",overflowWrap:"anywhere"},className:"rounded-lg bg-[hsl(var(--muted)_/_0.3)]",children:t.jsxs("code",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},className:"text-sm",children:[q.actionMethod||"POST"," ",q.actionUrl]})})]}),q.actionHeaders&&t.jsxs("div",{children:[t.jsx("strong",{children:"Headers:"}),t.jsx("div",{style:{padding:"12px",marginTop:"8px",wordBreak:"break-word",overflowWrap:"anywhere"},className:"rounded-lg bg-[hsl(var(--muted)_/_0.3)]",children:t.jsx("code",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},className:"text-sm",children:q.actionHeaders})})]}),q.actionBody&&t.jsxs("div",{children:[t.jsx("strong",{children:"Body:"}),t.jsx("div",{style:{padding:"12px",marginTop:"8px",wordBreak:"break-word",overflowWrap:"anywhere"},className:"rounded-lg bg-[hsl(var(--muted)_/_0.3)]",children:t.jsx("code",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},className:"text-sm",children:q.actionBody})})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" Telegram "}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:`rounded text-xs ${q.sendToTelegram?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--muted)_/_0.3)] text-[hsl(var(--muted-foreground))]"}`,children:q.sendToTelegram?" ":" "})]}),q.sendToTelegram&&t.jsxs(t.Fragment,{children:[q.chatId&&t.jsxs("div",{children:[t.jsx("strong",{children:"Chat ID:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:q.chatId})]}),q.botToken&&t.jsxs("div",{children:[t.jsx("strong",{children:"Bot Token:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:"******"})]}),q.messageTemplate&&t.jsxs("div",{children:[t.jsx("strong",{children:" :"}),t.jsx("div",{style:{padding:"16px",marginTop:"8px"},className:"whitespace-pre-wrap rounded-lg bg-[hsl(var(--muted)_/_0.3)] text-sm",children:q.messageTemplate})]})]})]})]})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center text-[hsl(var(--muted-foreground))]",children:[t.jsx("p",{className:"mb-4",children:"    "}),t.jsxs("button",{onClick:L,className:"inline-flex items-center gap-2 rounded bg-[hsl(var(--primary))] px-4 py-2 font-semibold text-[hsl(var(--primary-foreground))]",children:[t.jsx(Tr,{className:"h-4 w-4"})," "]})]})})})]}),t.jsx(li,{isOpen:S,onClose:()=>B(!1),title:" ",description:"   ",items:i.map(E=>({id:E.id,name:E.name,enabled:E.enabled})),loading:w,exportFileName:"integrations-export.json",exportType:"integrations",onExportSuccess:E=>V(` : ${E}`,"success")})]})}const An=220;function rd({label:n,value:l,onChange:o}){const[c,i]=g.useState(null),[d,h]=g.useState(l),[x,f]=g.useState(1),[m,w]=g.useState(0),[b,v]=g.useState(0),y=g.useRef(null);g.useEffect(()=>{h(l),i(null),f(1),w(0),v(0)},[l]),g.useEffect(()=>{if(!c)return;const k=new Image;k.onload=()=>{const _=document.createElement("canvas");_.width=An,_.height=An;const I=_.getContext("2d");if(!I)return;const O=Math.max(An/k.width,An/k.height),V=k.width*O*x,K=k.height*O*x,F=(An-V)/2+m,S=(An-K)/2+b;I.fillStyle="#ffffff",I.fillRect(0,0,An,An),I.drawImage(k,F,S,V,K);const B=_.toDataURL("image/jpeg",.92);h(B),o(B)},k.src=c},[c,x,m,b,o]);const N=k=>{const _=k.target.files?.[0];if(!_||!_.type.startsWith("image/"))return;const I=new FileReader;I.onload=()=>{i(String(I.result||"")),f(1),w(0),v(0)},I.readAsDataURL(_)},C=()=>{i(null),h(null),f(1),w(0),v(0),o(null),y.current&&(y.current.value="")};return t.jsxs("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-4",children:[t.jsx("div",{className:"mb-3 text-sm font-medium",children:n}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"relative mx-auto h-32 w-32 overflow-hidden rounded-full border border-[hsl(var(--border))] bg-[hsl(var(--muted)_/_0.35)]",children:d?t.jsx("img",{src:d,alt:" ",className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center text-[hsl(var(--muted-foreground))]",children:t.jsx(Ia,{className:"h-9 w-9"})})}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-md border border-[hsl(var(--input))] px-3 py-2 text-sm hover:bg-[hsl(var(--accent))]",onClick:()=>y.current?.click(),children:[t.jsx(co,{className:"h-4 w-4"})," "]}),t.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-md border border-[hsl(var(--input))] px-3 py-2 text-sm hover:bg-[hsl(var(--accent))]",onClick:C,children:[t.jsx(qa,{className:"h-4 w-4"}),""]})]}),t.jsx("input",{ref:y,type:"file",accept:"image/*",className:"hidden",onChange:N}),t.jsx("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:"   ,    ."})]}),t.jsxs("div",{className:`space-y-3 ${c?"":"opacity-50"}`,children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-xs text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("input",{type:"range",min:1,max:3,step:.01,value:x,onChange:k=>f(Number(k.target.value)),disabled:!c,className:"w-full"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-xs text-[hsl(var(--muted-foreground))]",children:"  X"}),t.jsx("input",{type:"range",min:-120,max:120,step:1,value:m,onChange:k=>w(Number(k.target.value)),disabled:!c,className:"w-full"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-xs text-[hsl(var(--muted-foreground))]",children:"  Y"}),t.jsx("input",{type:"range",min:-120,max:120,step:1,value:b,onChange:k=>v(Number(k.target.value)),disabled:!c,className:"w-full"})]})]})]})]})}function Rp(n){return n?n.name&&n.name.trim()?n.name.trim():n.username:""}function XN(){const{user:n}=Hr(),[l,o]=vs(),[c,i]=g.useState([]),[d,h]=g.useState([]),[x,f]=g.useState(!0),[m,w]=g.useState("view"),[b,v]=g.useState(null),[y,N]=g.useState(""),{addToast:C}=Qn(),[k,_]=g.useState(""),[I,O]=g.useState(""),[V,K]=g.useState(null),[F,S]=g.useState(""),[B,Y]=g.useState(""),[ne,oe]=g.useState("administrator"),[ve,X]=g.useState(""),[q,fe]=g.useState(""),[G,xe]=g.useState(null),[L,se]=g.useState(""),[re,D]=g.useState(""),[A,ee]=g.useState("administrator"),[R,Z]=g.useState(""),[de,E]=g.useState(""),[te,ue]=g.useState(n?.photo_data||null),[De,Qe]=g.useState(""),[U,Ce]=g.useState(""),Fe=n?.isVadmin,Ke=Fe||n?.role==="administrator"&&n?.accountId!=null,et=g.useMemo(()=>{const ge=y.trim().toLowerCase();return ge?c.filter(We=>`${We.username} ${We.name||""} ${We.account_name||""} ${We.role||""} ${We.id}`.toLowerCase().includes(ge)):c},[c,y]),Ie=g.useMemo(()=>c.find(ge=>ge.id===b)||null,[c,b]);g.useEffect(()=>{m==="create"&&!n?.isVadmin&&n?.accountId!=null&&Y(n.accountId)},[m,n?.isVadmin,n?.accountId]),g.useEffect(()=>{n?.isVadmin?(ht(),me.getAccounts().then(h).catch(()=>{})):(n?.accountId!=null||n?.userId!=null)&&ht()},[n]),g.useEffect(()=>{l.get("create")==="true"&&Ke&&w("create"),l.get("profile")==="true"&&!Fe&&w("profile"),o({},{replace:!0})},[l,o,Ke,Fe]),g.useEffect(()=>{E(n?.name||""),ue(n?.photo_data||null)},[n?.name,n?.photo_data]);const ht=async()=>{try{f(!0);const ge=await me.getUsers();i(ge),ge.length>0&&b==null&&v(ge[0].id)}catch(ge){C(ge?.message||"  ","error")}finally{f(!1)}},Nt=async ge=>{ge.preventDefault();const We=n?.isVadmin?B:n?.accountId??null;if(We===""||We==null){C(" ","error");return}try{const yt=await me.createUser(k.trim(),F,Number(We),ne,I.trim(),V);C(" ","success"),_(""),O(""),K(null),S(""),w("view"),await ht(),yt?.id&&v(yt.id)}catch(yt){C(yt?.message||"  ","error")}},Rt=async ge=>{if(confirm("  ?"))try{await me.deleteUser(ge),C(" ","success"),b===ge&&v(null),await ht()}catch(We){C(We?.message||"  ","error")}},Pt=()=>{Ie&&(X(Ie.username),fe(Ie.name||""),xe(Ie.photo_data||null),se(""),ee(Ie.role==="auditor"?"auditor":"administrator"),D(Ie.account_id!=null?Ie.account_id:""),w("edit"))},br=async ge=>{if(ge.preventDefault(),!Ie)return;const We={},yt=ve.trim();if(!yt){C(" ","error");return}We.username=yt,We.name=q.trim(),We.photo_data=G||null,We.role=A,L.trim()&&(We.password=L.trim()),Fe&&re!==""&&(We.account_id=Number(re));try{await me.updateUser(Ie.id,We),C(" ","success"),w("view"),await ht(),v(Ie.id)}catch(wr){C(wr?.message||"  ","error")}},un=async ge=>{ge.preventDefault();const We={};if(R.trim()&&(We.username=R.trim()),We.name=de.trim(),We.photo_data=te||null,De&&(We.password=De,We.oldPassword=U),!We.username&&We.name===(n?.name||"")&&We.photo_data===(n?.photo_data||null)&&!We.password){C("   ","error");return}try{await me.updateMe(We),C(" ","success"),Z(""),Qe(""),Ce(""),w("view")}catch(yt){C(yt?.message||"  ","error")}};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("h2",{className:"text-xl font-semibold",children:""})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"rules-search flex items-center gap-2 rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 text-sm transition-all focus-within:border-[hsl(var(--ring))] focus-within:ring-2 focus-within:ring-[hsl(var(--ring)_/_0.2)]",children:[t.jsx(Ga,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))]"}),t.jsx("input",{type:"text",placeholder:" ...",value:y,onChange:ge=>N(ge.target.value),className:"w-56 bg-transparent text-sm outline-none placeholder:text-[hsl(var(--muted-foreground))]"})]}),!Fe&&t.jsx("button",{onClick:()=>w("profile"),className:`icon-button ${m==="profile"?"bg-[hsl(var(--accent))]":""}`,title:" ",children:t.jsx(Ia,{className:"h-4 w-4"})}),Ke&&t.jsx("button",{onClick:()=>w("create"),className:`icon-button ${m==="create"?"bg-[hsl(var(--accent))]":""}`,title:" ",children:t.jsx(Tr,{className:"h-4 w-4"})}),Ke&&Ie&&m==="view"&&(Fe||Ie.id!==n?.userId)&&t.jsx("button",{onClick:Pt,className:"icon-button",title:" ",children:t.jsx(el,{className:"h-4 w-4"})}),Ke&&Ie&&Ie.id!==n?.userId&&m==="view"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Rt(Ie.id),className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:" ",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsx("div",{className:"mx-1 h-6 w-px bg-[hsl(var(--border))]"})]})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:" "}),t.jsxs("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[et.length," "]})]}),x?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):et.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:"  "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:et.map(ge=>t.jsxs("tr",{onClick:()=>{v(ge.id),w("view")},className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${b===ge.id&&m==="view"?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-7 w-7 overflow-hidden rounded-full bg-[hsl(var(--muted)_/_0.35)]",children:ge.photo_data?t.jsx("img",{src:ge.photo_data,alt:ge.username,className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center text-[hsl(var(--muted-foreground))]",children:t.jsx(Ia,{className:"h-4 w-4"})})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-xs",children:Rp(ge)}),t.jsxs("div",{className:"text-[10px] text-[hsl(var(--muted-foreground))]",children:["@",ge.username,"  #",ge.id]})]})]})}),t.jsx("td",{className:"px-2 py-2 text-xs",children:t.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] ${ge.role==="auditor"?"bg-[hsl(var(--muted)_/_0.4)] text-[hsl(var(--muted-foreground))]":"bg-[hsl(var(--primary)_/_0.15)] text-[hsl(var(--primary))]"}`,children:ge.role==="auditor"?"":""})})]},ge.id))})]})})]})}),t.jsx("div",{className:"split-right",children:t.jsx("div",{className:"panel users-entity-panel",children:m==="create"&&Ke?t.jsxs("form",{onSubmit:Nt,className:"entity-edit-form",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsx("h3",{className:"mb-2 text-lg font-semibold",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:" *"}),t.jsx("input",{value:k,onChange:ge=>_(ge.target.value),placeholder:"username",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:""}),t.jsx("input",{value:I,onChange:ge=>O(ge.target.value),placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:" *"}),t.jsx("input",{type:"password",value:F,onChange:ge=>S(ge.target.value),placeholder:" ",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:""}),t.jsxs("select",{value:ne,onChange:ge=>oe(ge.target.value),children:[t.jsx("option",{value:"administrator",children:""}),t.jsx("option",{value:"auditor",children:""})]})]})]}),Fe&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:" *"}),t.jsxs("select",{value:B,onChange:ge=>Y(ge.target.value?Number(ge.target.value):""),required:!0,children:[t.jsx("option",{value:"",children:"  "}),d.map(ge=>t.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),t.jsx(rd,{label:" ",value:V,onChange:K}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[t.jsx("button",{type:"submit",style:{flex:1,border:"none",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:" "}),t.jsx("button",{type:"button",onClick:()=>w("view"),style:{flex:1,border:"none",background:"hsl(var(--secondary))",color:"hsl(var(--secondary-foreground))"},children:""})]})]}):m==="edit"&&Ke&&Ie?t.jsxs("form",{onSubmit:br,className:"entity-edit-form",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsx("h3",{className:"mb-2 text-lg font-semibold",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:" *"}),t.jsx("input",{value:ve,onChange:ge=>X(ge.target.value),placeholder:"username",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:""}),t.jsx("input",{value:q,onChange:ge=>fe(ge.target.value),placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:" "}),t.jsx("input",{type:"password",value:L,onChange:ge=>se(ge.target.value),placeholder:" ,   "})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:""}),t.jsxs("select",{value:A,onChange:ge=>ee(ge.target.value),children:[t.jsx("option",{value:"administrator",children:""}),t.jsx("option",{value:"auditor",children:""})]})]})]}),Fe&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500},children:" *"}),t.jsxs("select",{value:re,onChange:ge=>D(ge.target.value?Number(ge.target.value):""),required:!0,children:[t.jsx("option",{value:"",children:"  "}),d.map(ge=>t.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),t.jsx(rd,{label:" ",value:G,onChange:xe}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[t.jsx("button",{type:"submit",style:{flex:1,border:"none",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:" "}),t.jsx("button",{type:"button",onClick:()=>w("view"),style:{flex:1,border:"none",background:"hsl(var(--secondary))",color:"hsl(var(--secondary-foreground))"},children:""})]})]}):m==="profile"&&!Fe?t.jsxs("form",{onSubmit:un,className:"users-form space-y-5",children:[t.jsx("h3",{className:"text-xl font-semibold",children:" "}),t.jsxs("div",{className:"users-field",children:[t.jsx("label",{className:"mb-2 block text-sm font-semibold",children:""}),t.jsx("input",{type:"text",value:de,onChange:ge=>E(ge.target.value),placeholder:" ",className:"users-input"})]}),t.jsxs("div",{className:"users-field",children:[t.jsx("label",{className:"mb-2 block text-sm font-semibold",children:" "}),t.jsx("input",{type:"text",value:R,onChange:ge=>Z(ge.target.value),placeholder:n?.username,className:"users-input"})]}),t.jsx(rd,{label:" ",value:te,onChange:ue}),t.jsxs("div",{className:"users-field",children:[t.jsx("label",{className:"mb-2 block text-sm font-semibold",children:" "}),t.jsx("input",{type:"password",value:U,onChange:ge=>Ce(ge.target.value),className:"users-input"})]}),t.jsxs("div",{className:"users-field",children:[t.jsx("label",{className:"mb-2 block text-sm font-semibold",children:" "}),t.jsx("input",{type:"password",value:De,onChange:ge=>Qe(ge.target.value),className:"users-input"})]}),t.jsxs("div",{className:"mt-2 flex gap-3",children:[t.jsx("button",{type:"submit",className:"users-btn users-btn-primary",children:""}),t.jsx("button",{type:"button",onClick:()=>w("view"),className:"users-btn users-btn-secondary",children:""})]})]}):Ie?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"rounded-xl border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-4",children:[t.jsx("h3",{className:"mb-3 text-base font-semibold",children:" "}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-14 w-14 overflow-hidden rounded-full border border-[hsl(var(--border))] bg-[hsl(var(--muted)_/_0.35)]",children:Ie.photo_data?t.jsx("img",{src:Ie.photo_data,alt:Ie.username,className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center text-[hsl(var(--muted-foreground))]",children:t.jsx(Ia,{className:"h-7 w-7"})})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:Rp(Ie)}),t.jsxs("div",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:["@",Ie.username]})]})]})]}),t.jsxs("div",{className:"rounded-xl border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-4",children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:""}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between gap-3",children:[t.jsx("span",{className:"text-[hsl(var(--muted-foreground))]",children:"ID"}),t.jsxs("code",{className:"rounded bg-[hsl(var(--muted)_/_0.3)] px-2 py-1 text-xs",children:["#",Ie.id]})]}),t.jsxs("div",{className:"flex justify-between gap-3",children:[t.jsx("span",{className:"text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("span",{children:Ie.name||""})]}),t.jsxs("div",{className:"flex justify-between gap-3",children:[t.jsx("span",{className:"text-[hsl(var(--muted-foreground))]",children:""}),t.jsxs("span",{className:"font-medium",children:["@",Ie.username]})]}),t.jsxs("div",{className:"flex justify-between gap-3",children:[t.jsx("span",{className:"text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("span",{className:`rounded px-2 py-1 text-xs ${Ie.role==="auditor"?"bg-[hsl(var(--muted)_/_0.4)] text-[hsl(var(--muted-foreground))]":"bg-[hsl(var(--primary)_/_0.15)] text-[hsl(var(--primary))]"}`,children:Ie.role==="auditor"?"":""})]}),Ie.account_name&&t.jsxs("div",{className:"flex justify-between gap-3",children:[t.jsx("span",{className:"text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("span",{className:"font-medium",children:Ie.account_name})]}),t.jsxs("div",{className:"flex justify-between gap-3",children:[t.jsx("span",{className:"text-[hsl(var(--muted-foreground))]",children:""}),t.jsx("span",{className:"text-xs",children:Ie.created_at?new Date(Ie.created_at).toLocaleString("ru-RU"):""})]})]})]})]}):t.jsx("p",{className:"py-16 text-center text-[hsl(var(--muted-foreground))]",children:"  "})})})]})]})}const Pp=["","","","","","",""],ZN=["","","","","","",""],nd={name:"",chatId:"",botToken:"",messageType:"poll",messageText:"",pollQuestion:"",pollOptions:'[" 1", " 2", " 3"]',pollIsAnonymous:!0,pollAllowsMultipleAnswers:!1,scheduleType:"recurring",scheduleDays:[1,2,3,4,5],scheduleDate:"",scheduleTime:"09:00",scheduleTimezone:"Europe/Moscow",enabled:!0},sd=n=>({name:n?.name||"",chatId:n?.chatId||"",botToken:n?.botToken||"",messageType:n?.messageType||"poll",messageText:n?.messageText||"",pollQuestion:n?.pollQuestion||"",pollOptions:n?.pollOptions||'[" 1", " 2", " 3"]',pollIsAnonymous:n?.pollIsAnonymous??!0,pollAllowsMultipleAnswers:n?.pollAllowsMultipleAnswers??!1,scheduleType:n?.scheduleType||"recurring",scheduleDays:n?.scheduleDays||[1,2,3,4,5],scheduleDate:n?.scheduleDate||"",scheduleTime:n?.scheduleTime||"09:00",scheduleTimezone:n?.scheduleTimezone||"Europe/Moscow",enabled:n?.enabled??!0}),ek=["Europe/Moscow","Europe/Kaliningrad","Asia/Yekaterinburg","Asia/Omsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Yakutsk","Asia/Vladivostok","Asia/Magadan","Asia/Kamchatka","UTC"],tk=n=>!n.enabled&&(String(n.name||"").toLowerCase().startsWith("")||String(n.chatId||"").trim()==="0");function rk(){const{user:n}=Hr(),l=n?.role!=="auditor",[o,c]=vs(),[i,d]=g.useState([]),[h,x]=g.useState(!0),[f,m]=g.useState(null),[w,b]=g.useState(null),[v,y]=g.useState(nd),{addToast:N}=Qn(),[C,k]=g.useState(!1),[_,I]=g.useState(!1),[O,V]=g.useState(null),K=g.useRef(null),F=g.useMemo(()=>i.find(R=>R.id===f)||null,[i,f]),S=async()=>{try{x(!0);const R=await me.getBots();d(R)}catch(R){N(R.message||"   ","error")}finally{x(!1)}};g.useEffect(()=>{S()},[]),g.useEffect(()=>{const R=o.get("create"),Z=o.get("select");if(R==="true")m(null),b(-1),y(nd),c({},{replace:!0});else if(Z){const de=parseInt(Z,10);isNaN(de)||(m(de),b(null)),c({},{replace:!0})}},[o,c]);const B=R=>{m(R),b(null)},Y=()=>{m(null),b(-1),y(nd)},ne=R=>{m(R.id),b(R.id),y(sd(R))},oe=async R=>{if(R.preventDefault(),!v.name||!v.chatId){N("   Chat ID","error");return}if(v.messageType==="poll"&&!v.pollQuestion){N("   ","error");return}if(v.messageType==="text"&&!v.messageText){N("  ","error");return}if(v.scheduleType==="recurring"&&v.scheduleDays.length===0){N("     ","error");return}if(v.scheduleType==="once"&&!v.scheduleDate){N("  ","error");return}if(v.messageType==="poll")try{const Z=JSON.parse(v.pollOptions);if(!Array.isArray(Z)||Z.length<2){N("  2  ","error");return}}catch{N(" JSON   ","error");return}try{const Z={...v,botToken:v.botToken||void 0};if(w&&w!==-1){const de=await me.updateBot(w,Z);b(null),m(de.id),N(" ","success"),await S()}else{const de=await me.createBot(Z);b(null),m(de.id),N(" ","success"),await S()}}catch(Z){N(Z.message||"   ","error")}},ve=async R=>{try{const Z={...sd(R),name:`${R.name} ()`,enabled:!1},de=await me.createBot(Z);d(E=>[de,...E]),m(de.id),N(" ","success")}catch(Z){N(Z.message||"   ","error")}},X=async R=>{if(confirm(`  "${R.name}"?`))try{await me.deleteBot(R.id),d(Z=>Z.filter(de=>de.id!==R.id)),f===R.id&&(m(null),b(null)),N(" ","success")}catch(Z){N(Z.message||"   ","error")}},q=async R=>{try{await me.runBot(R.id),N("  ","success")}catch(Z){N(Z.message||"   ","error")}},fe=async R=>{const Z=!R.enabled;try{V(R.id);const de=await me.updateBot(R.id,{enabled:Z}),E={...R,...de,id:R.id};d(te=>te.map(ue=>ue.id===R.id?E:ue)),N(Z?" ":" ","success")}catch(de){N(de.message||"    ","error")}finally{V(null)}},G=R=>{y(Z=>{const de=Z.scheduleDays.includes(R)?Z.scheduleDays.filter(E=>E!==R):[...Z.scheduleDays,R].sort();return{...Z,scheduleDays:de}})},xe=()=>{y(R=>({...R,scheduleDays:[1,2,3,4,5]}))},L=()=>{y(R=>({...R,scheduleDays:[0,1,2,3,4,5,6]}))},se=R=>R.scheduleType==="once"?` ${R.scheduleDate||"???"}  ${R.scheduleTime||"??:??"}`:`${(R.scheduleDays||[]).map(de=>Pp[de]).join(", ")}  ${R.scheduleTime||"??:??"}`,re=()=>{try{return JSON.parse(v.pollOptions)}catch{return[""]}},D=R=>{y(Z=>({...Z,pollOptions:JSON.stringify(R)}))},A=(R,Z)=>{const de=String(R.name??"").trim(),E=String(R.chatId??"").trim(),te=!de||!E,ue=Array.isArray(R.scheduleDays)?R.scheduleDays:[1,2,3,4,5];return{payload:{name:de||`  ${Z+1}`,chatId:E||"0",botToken:R.botToken?String(R.botToken).trim():void 0,messageType:R.messageType==="text"?"text":"poll",messageText:R.messageText!=null?String(R.messageText):void 0,pollQuestion:R.pollQuestion!=null?String(R.pollQuestion):void 0,pollOptions:typeof R.pollOptions=="string"?R.pollOptions:JSON.stringify(R.pollOptions||[" 1"," 2"," 3"]),pollIsAnonymous:R.pollIsAnonymous??!0,pollAllowsMultipleAnswers:R.pollAllowsMultipleAnswers??!1,scheduleType:R.scheduleType==="once"?"once":"recurring",scheduleDays:ue,scheduleDate:R.scheduleDate!=null?String(R.scheduleDate):void 0,scheduleTime:String(R.scheduleTime??"09:00"),scheduleTimezone:String(R.scheduleTimezone??"Europe/Moscow"),enabled:te?!1:R.enabled??!0},drafted:te}},ee=async R=>{const Z=R.target.files?.[0];if(Z){I(!0);try{const de=await Z.text(),E=JSON.parse(de),te=Array.isArray(E)?E:Array.isArray(E?.bots)?E.bots:[];if(!te.length)throw new Error("   ");let ue=0,De=0,Qe=0,U="";for(const[Fe,Ke]of te.entries()){const{payload:et,drafted:Ie}=A(Ke,Fe);Ie&&(Qe+=1);try{const ht=await me.createBot(et);ue+=1,d(Nt=>[...Nt,ht])}catch(ht){De+=1,U||(U=ht?.message||" ")}}const Ce=De===0?Qe>0?` : ${ue}, : ${Qe}`:` : ${ue}`:U?`: ${ue}, : ${Qe}, : ${De}. : ${U}`:`: ${ue}, : ${Qe}, : ${De}`;N(Ce,De===0?"success":"info")}catch(de){N(de.message||"  ","error")}finally{I(!1),K.current&&(K.current.value="")}}};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("h2",{className:"text-xl font-semibold",children:"Bots"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[l&&F&&!w&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>q(F),className:"icon-button text-[hsl(var(--success))] hover:bg-[hsl(var(--success)_/_0.1)]",title:" ",children:t.jsx(Id,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>ne(F),className:"icon-button",title:"",children:t.jsx(el,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>ve(F),className:"icon-button",title:"",children:t.jsx(ms,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>X(F),className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsx(po,{enabled:i.find(R=>R.id===f)?.enabled??!1,onChange:()=>{const R=i.find(Z=>Z.id===f);R&&fe(R)},title:i.find(R=>R.id===f)?.enabled?" ":" "}),t.jsx("div",{className:"mx-1 h-6 w-px bg-[hsl(var(--border))]"})]}),t.jsx("button",{onClick:()=>S(),className:"icon-button",title:" ",children:t.jsx(yr,{className:"h-4 w-4"})}),l&&t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:K,type:"file",accept:"application/json",className:"hidden",onChange:ee}),t.jsx("button",{onClick:()=>K.current?.click(),disabled:_,className:"icon-button disabled:cursor-not-allowed disabled:opacity-60",title:" ",children:t.jsx(co,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>k(!0),className:"icon-button",title:" ",children:t.jsx(Ya,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Y,className:"icon-button",title:" ",children:t.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsx("button",{onClick:()=>S(),className:"rounded border border-[hsl(var(--border))] px-2 py-1 text-xs",children:""})]}),h?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):i.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:"  "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:i.map(R=>t.jsxs("tr",{onClick:()=>B(R.id),className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${f===R.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"px-2 py-2 font-medium",children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx("span",{children:R.name}),tk(R)&&t.jsx("span",{className:"rounded-full bg-[hsl(var(--muted))] px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide text-[hsl(var(--muted-foreground))]",children:""})]})}),t.jsx("td",{className:"px-2 py-2",children:R.messageType==="poll"?"":""}),t.jsx("td",{className:"px-2 py-2 text-xs",children:se(R)}),t.jsx("td",{className:"px-2 py-2",children:R.enabled?"":""})]},R.id))})]})})]})}),t.jsx("div",{className:"split-right",children:t.jsx("div",{className:`panel ${w!==null?"entity-edit-panel":""}`,children:w!==null?t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"mb-4 text-lg font-semibold",children:w===-1?" ":" "}),t.jsxs("form",{onSubmit:oe,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:""}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.name,onChange:R=>y({...v,name:R.target.value}),placeholder:"   "})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Chat ID"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.chatId,onChange:R=>y({...v,chatId:R.target.value}),placeholder:"-1001234567890"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",borderRadius:"8px",border:`2px solid ${v.messageType==="poll"?"hsl(var(--primary))":"hsl(var(--input))"}`,cursor:"pointer",background:v.messageType==="poll"?"hsl(var(--primary) / 0.05)":"hsl(var(--background))"},children:[t.jsx("input",{type:"radio",checked:v.messageType==="poll",onChange:()=>y({...v,messageType:"poll"}),style:{width:"18px",height:"18px"}}),t.jsx("span",{children:" "})]}),t.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",borderRadius:"8px",border:`2px solid ${v.messageType==="text"?"hsl(var(--primary))":"hsl(var(--input))"}`,cursor:"pointer",background:v.messageType==="text"?"hsl(var(--primary) / 0.05)":"hsl(var(--background))"},children:[t.jsx("input",{type:"radio",checked:v.messageType==="text",onChange:()=>y({...v,messageType:"text"}),style:{width:"18px",height:"18px"}}),t.jsx("span",{children:"  "})]})]})]}),v.messageType==="poll"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.pollQuestion,onChange:R=>y({...v,pollQuestion:R.target.value}),placeholder:"     ?"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[re().map((R,Z)=>t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsxs("span",{style:{minWidth:"24px",fontSize:"13px",color:"hsl(var(--muted-foreground))"},children:[Z+1,"."]}),t.jsx("input",{style:{padding:"10px 14px",flex:1,borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:R,onChange:de=>{const E=re();E[Z]=de.target.value,D(E)},placeholder:` ${Z+1}`}),re().length>2&&t.jsx("button",{type:"button",onClick:()=>{const de=re();de.splice(Z,1),D(de)},style:{padding:"8px",borderRadius:"6px",border:"1px solid hsl(var(--border))",cursor:"pointer",background:"transparent",color:"hsl(var(--destructive))"},children:""})]},Z)),re().length<10&&t.jsx("button",{type:"button",onClick:()=>{const R=re();R.push(""),D(R)},style:{padding:"10px 14px",borderRadius:"8px",border:"1px dashed hsl(var(--border))",cursor:"pointer",background:"transparent",fontSize:"14px",color:"hsl(var(--muted-foreground))"},children:"+  "})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:v.pollIsAnonymous,onChange:R=>y({...v,pollIsAnonymous:R.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),""]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:v.pollAllowsMultipleAnswers,onChange:R=>y({...v,pollAllowsMultipleAnswers:R.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}})," "]})]})]}),v.messageType==="text"&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsx("textarea",{rows:4,style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace",fontSize:"14px",resize:"vertical"},value:v.messageText,onChange:R=>y({...v,messageText:R.target.value}),placeholder:" !  ..."})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" "}),t.jsxs("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[t.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",borderRadius:"8px",border:`2px solid ${v.scheduleType==="recurring"?"hsl(var(--primary))":"hsl(var(--input))"}`,cursor:"pointer",background:v.scheduleType==="recurring"?"hsl(var(--primary) / 0.05)":"transparent",fontSize:"13px"},children:[t.jsx("input",{type:"radio",checked:v.scheduleType==="recurring",onChange:()=>y({...v,scheduleType:"recurring"}),style:{width:"16px",height:"16px"}}),"   "]}),t.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",borderRadius:"8px",border:`2px solid ${v.scheduleType==="once"?"hsl(var(--primary))":"hsl(var(--input))"}`,cursor:"pointer",background:v.scheduleType==="once"?"hsl(var(--primary) / 0.05)":"transparent",fontSize:"13px"},children:[t.jsx("input",{type:"radio",checked:v.scheduleType==="once",onChange:()=>y({...v,scheduleType:"once"}),style:{width:"16px",height:"16px"}}),"   "]})]}),v.scheduleType==="recurring"&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[t.jsx("span",{style:{fontSize:"13px",color:"hsl(var(--muted-foreground))"},children:" :"}),t.jsx("button",{type:"button",onClick:xe,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid hsl(var(--border))",cursor:"pointer",background:"transparent",fontSize:"12px",color:"hsl(var(--primary))"},children:""}),t.jsx("button",{type:"button",onClick:L,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid hsl(var(--border))",cursor:"pointer",background:"transparent",fontSize:"12px",color:"hsl(var(--primary))"},children:" "})]}),t.jsx("div",{style:{display:"flex",gap:"6px"},children:[1,2,3,4,5,6,0].map(R=>t.jsx("button",{type:"button",onClick:()=>G(R),style:{flex:1,padding:"10px 4px",borderRadius:"8px",border:`2px solid ${v.scheduleDays.includes(R)?"hsl(var(--primary))":"hsl(var(--input))"}`,cursor:"pointer",background:v.scheduleDays.includes(R)?"hsl(var(--primary))":"transparent",color:v.scheduleDays.includes(R)?"hsl(var(--primary-foreground))":"inherit",fontWeight:v.scheduleDays.includes(R)?600:400,fontSize:"13px",transition:"all 0.15s ease"},children:Pp[R]},R))})]}),v.scheduleType==="once"&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",color:"hsl(var(--muted-foreground))"},children:" "}),t.jsx("input",{type:"date",style:{padding:"10px 14px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.scheduleDate,onChange:R=>y({...v,scheduleDate:R.target.value})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",color:"hsl(var(--muted-foreground))"},children:" "}),t.jsx("input",{type:"time",style:{padding:"10px 14px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.scheduleTime,onChange:R=>y({...v,scheduleTime:R.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",color:"hsl(var(--muted-foreground))"},children:" "}),t.jsx("select",{style:{padding:"10px 14px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:v.scheduleTimezone,onChange:R=>y({...v,scheduleTimezone:R.target.value}),children:ek.map(R=>t.jsx("option",{value:R,children:R},R))})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"Bot Token ()"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace"},value:v.botToken,onChange:R=>y({...v,botToken:R.target.value}),placeholder:"    "})]}),t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"4px"},children:t.jsx("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",cursor:"pointer"},children:t.jsx(fo,{idPrefix:"bot-edit",enabled:v.enabled,onChange:R=>y({...v,enabled:R})})})}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[t.jsx("button",{type:"submit",style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""}),t.jsx("button",{type:"button",onClick:()=>{b(null),F&&y(sd(F))},style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--secondary))",color:"hsl(var(--secondary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""})]})]})]}):F?t.jsx("div",{children:t.jsxs("div",{className:"entity-view",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:"  "}),t.jsxs("div",{className:"entity-view-card",children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"ID:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:F.id})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",F.name]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:`rounded text-xs ${F.enabled?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:F.enabled?" ":" "})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",F.messageType==="poll"?" ":" "]})]})]}),F.messageType==="poll"&&t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",F.pollQuestion]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"}),t.jsx("ul",{style:{marginTop:"8px",paddingLeft:"20px"},children:(()=>{try{return JSON.parse(F.pollOptions||"[]").map((R,Z)=>t.jsx("li",{style:{marginBottom:"4px"},children:R},Z))}catch{return t.jsx("li",{children:" "})}})()})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",F.pollIsAnonymous?"":""," |"," ",t.jsx("strong",{children:" :"})," ",F.pollAllowsMultipleAnswers?"":""]})]})]}),F.messageType==="text"&&F.messageText&&t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsx("div",{className:"entity-view-card",children:t.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:F.messageText})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px"},className:"rounded bg-[hsl(var(--muted)_/_0.3)] text-xs",children:F.scheduleType==="once"?" ":" "})]}),F.scheduleType==="once"?t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:F.scheduleDate||""})]}):t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",(F.scheduleDays||[]).map(R=>ZN[R]).join(", ")]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:F.scheduleTime})]}),t.jsxs("div",{children:[t.jsx("strong",{children:" :"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:F.scheduleTimezone})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Chat ID:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:F.chatId})]}),F.lastRunAt&&t.jsxs("div",{children:[t.jsx("strong",{children:" :"})," ",new Date(F.lastRunAt).toLocaleString("ru-RU")]}),F.lastError&&t.jsxs("div",{className:"text-[hsl(var(--destructive))]",children:[t.jsx("strong",{children:" :"})," ",F.lastError]})]})]})]})}):t.jsxs("div",{className:"flex min-h-[420px] w-full flex-col items-center justify-center text-center text-[hsl(var(--muted-foreground))]",children:[t.jsx("p",{className:"mb-4",children:"     "}),t.jsxs("button",{onClick:Y,className:"inline-flex items-center gap-2 rounded bg-[hsl(var(--primary))] px-4 py-2 font-semibold text-[hsl(var(--primary-foreground))]",children:[t.jsx(Tr,{className:"h-4 w-4"}),"  "]})]})})})]}),t.jsx(li,{isOpen:C,onClose:()=>k(!1),title:" ",description:"   ",items:i.map(R=>({id:R.id,name:R.name,enabled:R.enabled})),loading:h,exportFileName:"bots-export.json",exportType:"bots",onExportSuccess:R=>N(` : ${R}`,"success")})]})}const Lp={rules:!1,polls:!1,integrations:!1,bots:!1};function nk(){const{user:n}=Hr(),[l,o]=g.useState([]),[c,i]=g.useState(!0),[d,h]=g.useState(!1),[x,f]=g.useState(null),[m,w]=g.useState(""),[b,v]=g.useState(""),[y,N]=g.useState(""),[C,k]=g.useState(Lp),{addToast:_}=Qn(),I=g.useMemo(()=>l.find(X=>X.id===x)||null,[l,x]),O=g.useMemo(()=>l.length===0?null:l.reduce((X,q)=>q.id<X?q.id:X,l[0].id),[l]),V=b.trim().toLowerCase(),K=g.useMemo(()=>!!V&&l.some(X=>X.name.trim().toLowerCase()===V),[l,V]),F=g.useMemo(()=>{const X=m.trim().toLowerCase();return X?l.filter(q=>{const fe=q.slug||`account_${q.id}`;return`${q.name} ${fe} ${q.id}`.toLowerCase().includes(X)}):l},[l,m]);g.useEffect(()=>{n?.isVadmin&&S()},[n]);const S=async()=>{try{i(!0);const X=await me.getAccounts();o(X),X.length>0&&x==null&&f(X[0].id)}catch(X){_(X?.message||"  ","error")}finally{i(!1)}},B=()=>{v(""),N(""),k(Lp)},Y=()=>{h(!0),f(null)},ne=()=>{h(!1),B()},oe=async X=>{X.preventDefault();const q=b.trim();if(!q){_("  ","error");return}if(K){_("   ","error");return}let fe;if(y!=="")if(Object.values(C).some(Boolean))fe={sourceAccountId:Number(y),include:C};else{_("      ","error");return}try{const G=await me.createAccount(q,fe),xe=G?.cloned,L=xe?(xe.rules||0)+(xe.polls||0)+(xe.integrations||0)+(xe.bots||0):0;_(L>0?` ,  : ${L}`:" ","success"),h(!1),B(),await S(),G?.id&&f(G.id)}catch(G){_(G?.message||"  ","error")}},ve=async()=>{if(I){if(O!=null&&I.id===O){_("   ","error");return}if(confirm(`  "${I.name}"?      .`))try{await me.deleteAccount(I.id),_(" ","success"),await S(),f(O)}catch(X){_(X?.message||"  ","error")}}};return n?.isVadmin?t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:""}),t.jsx("div",{className:"mt-1",children:t.jsx(Vn,{items:[{label:"",path:"/"},{label:"",active:!0}]})})]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"rules-search flex items-center gap-2 rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 text-sm transition-all focus-within:border-[hsl(var(--ring))] focus-within:ring-2 focus-within:ring-[hsl(var(--ring)_/_0.2)]",children:[t.jsx(Ga,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))]"}),t.jsx("input",{type:"text",placeholder:" ...",value:m,onChange:X=>w(X.target.value),className:"w-56 bg-transparent text-sm outline-none placeholder:text-[hsl(var(--muted-foreground))]"})]}),t.jsx("button",{onClick:S,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Y,className:"icon-button",title:" ",children:t.jsx(Tr,{className:"h-4 w-4"})}),I&&O!=null&&I.id!==O&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:ve,className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:" ",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsx("div",{className:"mx-1 h-6 w-px bg-[hsl(var(--border))]"})]})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:" "}),t.jsxs("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[F.length," "]})]}),c?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):F.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:"  "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:"Slug"})]})}),t.jsx("tbody",{children:F.map(X=>{const q=X.slug||`account_${X.id}`;return t.jsxs("tr",{onClick:()=>{h(!1),f(X.id)},className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${x===X.id&&!d?"bg-[hsl(var(--accent))]":""}`,children:[t.jsxs("td",{className:"px-2 py-2",children:[t.jsx("div",{className:"font-medium text-xs",children:X.name}),t.jsxs("div",{className:"text-[10px] text-[hsl(var(--muted-foreground))]",children:["#",X.id]})]}),t.jsx("td",{className:"px-2 py-2 text-xs",children:q})]},X.id)})})]})})]})}),t.jsx("div",{className:"split-right",children:t.jsx("div",{className:"panel",children:d?t.jsxs("form",{onSubmit:oe,className:"entity-edit-form",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsx("h3",{className:"mb-4 text-lg font-semibold",children:" "}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:" *"}),t.jsx("input",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:b,onChange:X=>v(X.target.value),placeholder:" ",required:!0}),K&&t.jsx("p",{className:"mt-1 text-xs text-[hsl(var(--destructive))]",children:"   "})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"16px",fontSize:"14px",fontWeight:500},children:"  "}),t.jsxs("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-4",children:[t.jsx("div",{className:"mb-3 text-xs text-[hsl(var(--muted-foreground))]",children:"         ."}),t.jsx("label",{className:"mb-2 block text-sm font-medium",children:""}),t.jsxs("select",{style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},value:y,onChange:X=>{const q=X.target.value?Number(X.target.value):"";N(q)},children:[t.jsx("option",{value:"",children:"  "}),l.map(X=>t.jsxs("option",{value:X.id,children:[X.name," (#",X.id,")"]},X.id))]}),t.jsx("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[{key:"rules",label:"Webhook"},{key:"polls",label:""},{key:"integrations",label:""},{key:"bots",label:""}].map(X=>t.jsxs("label",{className:`flex items-center gap-2 rounded border border-[hsl(var(--input))] px-3 py-2 text-sm ${y===""?"opacity-50":""}`,children:[t.jsx("input",{type:"checkbox",checked:C[X.key],onChange:q=>k(fe=>({...fe,[X.key]:q.target.checked})),disabled:y==="",className:"mr-2"}),t.jsx("span",{children:X.label})]},X.key))})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[t.jsx("button",{type:"submit",disabled:K,style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,cursor:"pointer",border:"none",opacity:K?.5:1},children:" "}),t.jsx("button",{type:"button",onClick:ne,style:{flex:1,padding:"14px 24px",borderRadius:"8px",background:"hsl(var(--secondary))",color:"hsl(var(--secondary-foreground))",fontWeight:600,cursor:"pointer",border:"none"},children:""})]})]}):I?t.jsx("div",{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"  "}),t.jsxs("div",{style:{padding:"16px"},className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"ID:"})," ",t.jsxs("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:["#",I.id]})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:":"})," ",I.name]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Slug:"})," ",t.jsx("code",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)]",children:I.slug||`account_${I.id}`})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{style:{padding:"4px 8px",marginLeft:"8px"},className:"rounded bg-[hsl(var(--muted)_/_0.5)] text-xs",children:O!=null&&I.id===O?"":""})]}),t.jsxs("div",{style:{marginTop:"12px"},children:[t.jsx("strong",{children:":"})," ",I.created_at?new Date(I.created_at).toLocaleString("ru-RU"):""]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"Webhook URL"}),t.jsx("div",{style:{padding:"16px"},className:"overflow-x-auto rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--muted)_/_0.3)]",children:t.jsx("code",{className:"block whitespace-pre-wrap break-words text-sm",children:`${typeof window<"u"?window.location.origin:""}/webhook/${I.slug||`account_${I.id}`}`})})]})]})}):t.jsx("p",{className:"py-16 text-center text-[hsl(var(--muted-foreground))]",children:"     "})})})]})]}):t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body",children:t.jsx("p",{className:"text-center text-[hsl(var(--destructive))]",children:"  (vadmin)   ."})})})}function sk(n){if(!n)return"";const l=new Date(n);return Number.isNaN(l.getTime())?"":new Date(l.getTime()-l.getTimezoneOffset()*6e4).toISOString().slice(0,16)}function Ys(n){if(!n)return"";const l=new Date(n);return Number.isNaN(l.getTime())?"":l.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ip(n){if(n.username)return`@${n.username}`;const l=[n.first_name,n.last_name].filter(Boolean).join(" ");return l||(n.telegram_id?`ID ${n.telegram_id}`:`User ${n.telegram_user_id}`)}function lk(n){if(n.repeat_type==="interval"){const l=Number(n.repeat_config?.interval_seconds||0);return` ${Math.max(1,Math.round(l/60))} `}return n.repeat_type==="cron"?`Cron: ${n.repeat_config?.cron||""}`:Ys(n.run_at)}function ok(n){return{message:n.message||"",runAtLocal:sk(n.run_at),repeatType:n.repeat_type||"none",intervalMinutes:n.repeat_type==="interval"?String(Math.max(1,Math.round(Number(n.repeat_config?.interval_seconds||60)/60))):"60",cronExpression:n.repeat_type==="cron"?String(n.repeat_config?.cron||""):"",isActive:n.is_active}}function ak(){const{user:n}=Hr(),l=n?.role!=="auditor",{addToast:o}=Qn(),[c,i]=g.useState(!0),[d,h]=g.useState(!1),[x,f]=g.useState([]),[m,w]=g.useState(null),[b,v]=g.useState(null),[y,N]=g.useState({message:"",runAtLocal:"",repeatType:"none",intervalMinutes:"60",cronExpression:"",isActive:!0}),[C,k]=g.useState([]),[_,I]=g.useState(!1),O=g.useMemo(()=>x.find(Y=>Y.id===m)||null,[x,m]),V=async()=>{try{i(!0);const Y=await me.getReminders();f(Y),Y.length&&(m==null||!Y.some(ne=>ne.id===m))&&w(Y[0].id),Y.length||(w(null),v(null))}catch(Y){o(Y.message||"   ","error")}finally{i(!1)}};g.useEffect(()=>{V()},[]),g.useEffect(()=>{(async()=>{if(!m){k([]);return}try{I(!0);const ne=await me.getReminderHistory(m);k(ne)}catch{k([])}finally{I(!1)}})()},[m]);const K=Y=>{w(Y.id),v(Y.id),N(ok(Y))},F=async Y=>{if(Y.preventDefault(),!O||b==null)return;const ne=y.message.trim();if(!ne){o("  ","error");return}if(!y.runAtLocal){o("   ","error");return}const oe=new Date(y.runAtLocal);if(Number.isNaN(oe.getTime())){o("   ","error");return}let ve=null;if(y.repeatType==="interval"){const X=Number(y.intervalMinutes);if(!Number.isFinite(X)||X<1){o("    0","error");return}ve={interval_seconds:Math.round(X*60)}}else if(y.repeatType==="cron"){const X=y.cronExpression.trim();if(!X){o(" cron-","error");return}ve={cron:X}}try{h(!0);const X=oe.toISOString(),q=await me.updateReminder(O.id,{message:ne,runAt:X,nextRunAt:X,repeatType:y.repeatType,repeatConfig:ve,isActive:y.isActive});f(fe=>fe.map(G=>G.id===q.id?{...G,...q}:G)),v(null),o(" ","success")}catch(X){o(X.message||"   ","error")}finally{h(!1)}},S=async Y=>{const ne=!Y.is_active;try{const oe=await me.updateReminder(Y.id,{isActive:ne});f(ve=>ve.map(X=>X.id===Y.id?{...X,...oe}:X)),o(ne?" ":" ","success")}catch(oe){o(oe.message||"   ","error")}},B=async Y=>{if(confirm(`  "${Y.message}"?`))try{await me.deleteReminder(Y.id),f(ne=>ne.map(oe=>oe.id===Y.id?{...oe,is_active:!1}:oe)),m===Y.id&&v(null),o(" ","success")}catch(ne){o(ne.message||"   ","error")}};return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("div",{children:t.jsx("h2",{className:"text-xl font-semibold",children:" "})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[l&&O&&b===null&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>K(O),className:"icon-button",title:"",children:t.jsx(el,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>B(O),className:"icon-button text-[hsl(var(--destructive))] hover:bg-[hsl(var(--destructive)_/_0.1)]",title:"",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsx(po,{enabled:O.is_active,onChange:()=>S(O),title:O.is_active?" ":" "}),t.jsx("div",{className:"mx-1 h-6 w-px bg-[hsl(var(--border))]"})]}),t.jsx("button",{onClick:()=>V(),className:"icon-button",title:" ",children:t.jsx(yr,{className:"h-4 w-4"})}),t.jsx(Ja,{to:"/reminders/settings",className:"icon-button",title:"  ",children:t.jsx(ym,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"split-layout p-6",children:[t.jsx("div",{className:"split-left",children:t.jsxs("div",{className:"panel",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"  "}),t.jsx("button",{onClick:()=>V(),className:"rounded border border-[hsl(var(--border))] px-2 py-1 text-xs",children:""})]}),c?t.jsx("div",{className:"flex items-center justify-center py-10",children:t.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-[hsl(var(--primary))] border-t-transparent"})}):x.length===0?t.jsx("p",{className:"py-10 text-center text-sm text-[hsl(var(--muted-foreground))]",children:" "}):t.jsx("div",{className:"entity-list-scroll scrollbar-thin",children:t.jsxs("table",{className:"table-basic w-full border-collapse text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[hsl(var(--border))] text-left text-xs",children:[t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""}),t.jsx("th",{className:"px-2 py-2",children:""})]})}),t.jsx("tbody",{children:x.map(Y=>t.jsxs("tr",{onClick:()=>{w(Y.id),v(null)},className:`cursor-pointer border-b border-[hsl(var(--border))] transition-colors hover:bg-[hsl(var(--accent))] ${m===Y.id?"bg-[hsl(var(--accent))]":""}`,children:[t.jsx("td",{className:"max-w-[220px] truncate px-2 py-2 font-medium",children:Y.message}),t.jsx("td",{className:"px-2 py-2 text-xs",children:Ip(Y)}),t.jsx("td",{className:"px-2 py-2 text-xs",children:lk(Y)}),t.jsx("td",{className:"px-2 py-2",children:Y.is_active?"":""})]},Y.id))})]})})]})}),t.jsx("div",{className:"split-right",children:t.jsx("div",{className:`panel ${b!==null&&O?"entity-edit-panel":""}`,children:b!==null&&O?t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"mb-4 text-lg font-semibold",children:" "}),t.jsxs("form",{onSubmit:F,className:"flex flex-col gap-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:""}),t.jsx("textarea",{rows:3,className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2",value:y.message,onChange:Y=>N(ne=>({...ne,message:Y.target.value})),placeholder:" "})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"  "}),t.jsx("input",{type:"datetime-local",className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2",value:y.runAtLocal,onChange:Y=>N(ne=>({...ne,runAtLocal:Y.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:" "}),t.jsxs("select",{className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2",value:y.repeatType,onChange:Y=>N(ne=>({...ne,repeatType:Y.target.value})),children:[t.jsx("option",{value:"none",children:""}),t.jsx("option",{value:"interval",children:""}),t.jsx("option",{value:"cron",children:"Cron"})]})]})]}),y.repeatType==="interval"&&t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:" ()"}),t.jsx("input",{type:"number",min:1,className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2",value:y.intervalMinutes,onChange:Y=>N(ne=>({...ne,intervalMinutes:Y.target.value}))})]}),y.repeatType==="cron"&&t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Cron "}),t.jsx("input",{className:"w-full rounded border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 font-mono",value:y.cronExpression,onChange:Y=>N(ne=>({...ne,cronExpression:Y.target.value})),placeholder:"0 9 * * *"})]}),t.jsx("div",{children:t.jsx(fo,{idPrefix:"reminder-edit",enabled:y.isActive,onChange:Y=>N(ne=>({...ne,isActive:Y}))})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"submit",disabled:d,className:"flex-1 rounded bg-[hsl(var(--primary))] px-4 py-2 font-semibold text-[hsl(var(--primary-foreground))] disabled:opacity-60",children:d?"...":""}),t.jsx("button",{type:"button",onClick:()=>v(null),className:"flex-1 rounded bg-[hsl(var(--secondary))] px-4 py-2 font-semibold text-[hsl(var(--secondary-foreground))]",children:""})]})]})]}):O?t.jsxs("div",{className:"entity-view",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"ID:"})," ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted)_/_0.5)] px-2 py-1",children:O.id})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",Ip(O)]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("span",{className:`rounded px-2 py-1 text-xs ${O.is_active?"bg-[hsl(var(--success)_/_0.15)] text-[hsl(var(--success))]":"bg-[hsl(var(--destructive)_/_0.1)] text-[hsl(var(--destructive))]"}`,children:O.is_active?" ":" "})]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"}),t.jsx("div",{className:"mt-1 whitespace-pre-wrap break-words rounded bg-[hsl(var(--muted)_/_0.25)] p-2",children:O.message})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",Ys(O.run_at)]}),t.jsxs("div",{children:[t.jsx("strong",{children:" :"})," ",Ys(O.next_run_at)]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted)_/_0.5)] px-2 py-1",children:O.repeat_type})]}),O.repeat_type==="interval"&&t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",Math.max(1,Math.round(Number(O.repeat_config?.interval_seconds||0)/60))," "]}),O.repeat_type==="cron"&&t.jsxs("div",{children:[t.jsx("strong",{children:"Cron:"})," ",t.jsx("code",{className:"rounded bg-[hsl(var(--muted)_/_0.5)] px-2 py-1",children:O.repeat_config?.cron||""})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:""}),t.jsxs("div",{className:"entity-view-card space-y-3",children:[t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",Ys(O.created_at)]}),t.jsxs("div",{children:[t.jsx("strong",{children:":"})," ",Ys(O.updated_at)]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"entity-view-title",children:" "}),t.jsx("div",{className:"entity-view-card space-y-2 text-sm",children:_?t.jsx("div",{className:"text-[hsl(var(--muted-foreground))]",children:"..."}):C.length===0?t.jsx("div",{className:"text-[hsl(var(--muted-foreground))]",children:" "}):C.map(Y=>t.jsxs("div",{className:"rounded border border-[hsl(var(--border))] p-2",children:[t.jsxs("div",{children:[t.jsx("strong",{children:Y.status==="sent"?" sent":" failed"})," ",Ys(Y.sent_at)]}),Y.error_message&&t.jsxs("div",{className:"text-[hsl(var(--destructive))]",children:[": ",Y.error_message]})]},Y.id))})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-[hsl(var(--border)_/_0.6)] bg-[hsl(var(--card))] p-10 text-center text-[hsl(var(--muted-foreground))]",children:[t.jsx(Y0,{className:"mb-3 h-8 w-8"}),t.jsx("p",{children:"      "})]})})})]})]})}function ik(){const{addToast:n}=Qn(),[l,o]=g.useState(!0),[c,i]=g.useState(!1),[d,h]=g.useState({botToken:"",botUsername:"",webhookUrl:"",webhookSet:!1}),x=async()=>{try{o(!0);const b=await fetch("/api/reminders/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(b.ok){const v=await b.json();h(y=>({...y,botToken:v.botToken||"",botUsername:v.botUsername||"",webhookUrl:v.webhookUrl||"",webhookSet:v.webhookSet||!1}))}}catch(b){n(b.message||"   ","error")}finally{o(!1)}};g.useEffect(()=>{x()},[]);const f=async()=>{if(!d.botToken||d.botToken==="YOUR_TOKEN"){n("   ","error");return}try{i(!0);const b=await fetch("/api/reminders/settings/token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({botToken:d.botToken})});if(b.ok){const v=await b.json();h(y=>({...y,botUsername:v.botUsername})),n("  !","success")}else{const v=await b.json();n(` ${v.error||" "}`,"error")}}catch(b){n(b.message||"  ","error")}finally{i(!1)}},m=async()=>{if(!d.botToken||d.botToken==="YOUR_TOKEN"){n("   ","error");return}try{i(!0);const b=await fetch("/api/reminders/settings/webhook",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({})});if(b.ok){const v=await b.json();h(y=>({...y,webhookUrl:v.webhookUrl,webhookSet:v.ok})),n(` Webhook : ${v.webhookUrl}`,"success")}else{const v=await b.json();n(` ${v.error||"  webhook"}`,"error")}}catch(b){n(b.message||"  webhook","error")}finally{i(!1)}},w=async()=>{if(window.confirm(" webhook?    ."))try{i(!0);const b=await fetch("/api/reminders/settings/webhook",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(b.ok)h(v=>({...v,webhookSet:!1})),n(" Webhook ","success");else{const v=await b.json();n(` ${v.error||""}`,"error")}}catch(b){n(b.message||"","error")}finally{i(!1)}};return l?t.jsx("div",{className:"card",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-2 text-[hsl(var(--muted-foreground))]",children:[t.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-t-transparent"}),"..."]})})}):t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[t.jsx(Qa,{className:"h-5 w-5"}),"  "]}),t.jsx("div",{className:"mt-1",children:t.jsx(Vn,{items:[{label:"",path:"/"},{label:"",path:"/reminders"},{label:"",active:!0}]})})]})}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:x,className:"icon-button",title:"",children:t.jsx(yr,{className:"h-4 w-4"})})})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"panel max-w-4xl",children:[t.jsx("div",{className:"mb-4 text-sm text-[hsl(var(--muted-foreground))]",children:"    "}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"mb-3 text-lg font-semibold flex items-center gap-2",children:[t.jsx(fb,{className:"h-5 w-5"})," "]}),t.jsx("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:500},children:"  @BotFather"}),t.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-3",children:[t.jsx("input",{type:"password",value:d.botToken==="*****"?"":d.botToken,onChange:b=>h({...d,botToken:b.target.value}),placeholder:"123456789:ABCdefGHIjkl...",style:{padding:"12px 16px",width:"100%",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))",fontFamily:"monospace"}}),t.jsx("button",{onClick:f,disabled:c,style:{padding:"12px 18px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,cursor:"pointer",border:"none",opacity:c?.65:1},children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx(Mb,{className:"h-4 w-4"}),""]})})]}),t.jsx("p",{className:"mt-2 text-xs text-[hsl(var(--muted-foreground))]",children:"         "})]}),d.botUsername&&t.jsxs("div",{className:"rounded-lg border border-[hsl(var(--success)_/_0.35)] bg-[hsl(var(--success)_/_0.08)] p-3 text-sm text-[hsl(var(--success))]",children:[" : ",t.jsxs("strong",{children:["@",d.botUsername]})]}),t.jsx("div",{className:"h-px bg-[hsl(var(--border))]"}),t.jsxs("div",{children:[t.jsxs("h3",{className:"mb-3 text-lg font-semibold flex items-center gap-2",children:[t.jsx(Ld,{className:"h-5 w-5"}),"Webhook"]}),t.jsxs("div",{style:{padding:"12px 14px",borderRadius:"8px",border:"1px solid hsl(var(--input))",background:"hsl(var(--background))"},children:[t.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:"URL    Telegram:"}),t.jsxs("code",{className:"mt-1 block break-all rounded bg-[hsl(var(--muted)_/_0.35)] px-2 py-1 text-xs font-mono",children:[window.location.origin,"/api/telegram/webhook"]})]}),t.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:d.webhookSet?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"rounded bg-[hsl(var(--success)_/_0.15)] px-2 py-1 text-xs text-[hsl(var(--success))]",children:" Webhook "}),t.jsx("button",{onClick:w,disabled:c,style:{padding:"10px 14px",borderRadius:"8px",background:"hsl(var(--destructive))",color:"white",fontWeight:600,cursor:"pointer",border:"none",opacity:c?.65:1},children:" webhook"})]}):t.jsx("button",{onClick:m,disabled:c||!d.botToken,style:{padding:"10px 14px",borderRadius:"8px",background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",fontWeight:600,cursor:"pointer",border:"none",opacity:c||!d.botToken?.65:1},children:" webhook"})})]})]})]})})]})}const ck=N0([{path:"/",Component:M0,children:[{path:"login",Component:Zb},{path:"",Component:dw,children:[{index:!0,Component:_p},{path:"rules",Component:_p},{path:"testing",Component:QN},{path:"operations",loader:()=>Vs("/?tab=overview")},{path:"history",loader:()=>Vs("/?tab=history")},{path:"queue",loader:()=>Vs("/?tab=queue")},{path:"polling",Component:GN},{path:"polling-history",loader:()=>Vs("/?tab=polling-history")},{path:"integrations",Component:KN},{path:"integration-history",loader:()=>Vs("/?tab=integration-history")},{path:"bots",Component:rk},{path:"bot-history",loader:()=>Vs("/?tab=bot-history")},{path:"accounts",Component:nk},{path:"users",Component:XN},{path:"reminders",Component:ak},{path:"reminders/settings",Component:ik}]}]}]);function dk(){return t.jsx(D0,{children:t.jsx(VN,{children:t.jsx(Gy,{router:ck})})})}iv.createRoot(document.getElementById("root")).render(t.jsx(dk,{}));
